"use strict";var VK=Object.create;var Pi=Object.defineProperty;var BK=Object.getOwnPropertyDescriptor;var XK=Object.getOwnPropertyNames;var JK=Object.getPrototypeOf,YK=Object.prototype.hasOwnProperty;var ve=(e,t)=>()=>(e&&(t=e(e=0)),t);var v=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),td=(e,t)=>{for(var r in t)Pi(e,r,{get:t[r],enumerable:!0})},Om=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of XK(t))!YK.call(e,o)&&o!==r&&Pi(e,o,{get:()=>t[o],enumerable:!(n=BK(t,o))||n.enumerable});return e};var ho=(e,t,r)=>(r=e!=null?VK(JK(e)):{},Om(t||!e||!e.__esModule?Pi(r,"default",{value:e,enumerable:!0}):r,e)),bt=e=>Om(Pi({},"__esModule",{value:!0}),e);var qe=v((ise,Um)=>{var wi=Object.defineProperty,QK=Object.getOwnPropertyDescriptor,ZK=Object.getOwnPropertyNames,eF=Object.prototype.hasOwnProperty,xi=(e,t)=>wi(e,"name",{value:t,configurable:!0}),tF=(e,t)=>{for(var r in t)wi(e,r,{get:t[r],enumerable:!0})},rF=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of ZK(t))!eF.call(e,o)&&o!==r&&wi(e,o,{get:()=>t[o],enumerable:!(n=QK(t,o))||n.enumerable});return e},nF=e=>rF(wi({},"__esModule",{value:!0}),e),Tm={};tF(Tm,{AlgorithmId:()=>Mm,EndpointURLScheme:()=>km,FieldPosition:()=>Km,HttpApiKeyAuthLocation:()=>Dm,HttpAuthLocation:()=>Nm,IniSectionType:()=>Fm,RequestHandlerProtocol:()=>Lm,SMITHY_CONTEXT_KEY:()=>cF,getDefaultClientConfiguration:()=>sF,resolveDefaultRuntimeConfig:()=>aF});Um.exports=nF(Tm);var Nm=(e=>(e.HEADER="header",e.QUERY="query",e))(Nm||{}),Dm=(e=>(e.HEADER="header",e.QUERY="query",e))(Dm||{}),km=(e=>(e.HTTP="http",e.HTTPS="https",e))(km||{}),Mm=(e=>(e.MD5="md5",e.CRC32="crc32",e.CRC32C="crc32c",e.SHA1="sha1",e.SHA256="sha256",e))(Mm||{}),oF=xi(e=>{let t=[];return e.sha256!==void 0&&t.push({algorithmId:()=>"sha256",checksumConstructor:()=>e.sha256}),e.md5!=null&&t.push({algorithmId:()=>"md5",checksumConstructor:()=>e.md5}),{_checksumAlgorithms:t,addChecksumAlgorithm(r){this._checksumAlgorithms.push(r)},checksumAlgorithms(){return this._checksumAlgorithms}}},"getChecksumConfiguration"),iF=xi(e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},"resolveChecksumRuntimeConfig"),sF=xi(e=>({...oF(e)}),"getDefaultClientConfiguration"),aF=xi(e=>({...iF(e)}),"resolveDefaultRuntimeConfig"),Km=(e=>(e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER",e))(Km||{}),cF="__smithy_context",Fm=(e=>(e.PROFILE="profile",e.SSO_SESSION="sso-session",e.SERVICES="services",e))(Fm||{}),Lm=(e=>(e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0",e))(Lm||{})});var ae=v((dse,Bm)=>{var Ri=Object.defineProperty,dF=Object.getOwnPropertyDescriptor,lF=Object.getOwnPropertyNames,uF=Object.prototype.hasOwnProperty,lr=(e,t)=>Ri(e,"name",{value:t,configurable:!0}),pF=(e,t)=>{for(var r in t)Ri(e,r,{get:t[r],enumerable:!0})},mF=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of lF(t))!uF.call(e,o)&&o!==r&&Ri(e,o,{get:()=>t[o],enumerable:!(n=dF(t,o))||n.enumerable});return e},fF=e=>mF(Ri({},"__esModule",{value:!0}),e),qm={};pF(qm,{Field:()=>yF,Fields:()=>hF,HttpRequest:()=>SF,HttpResponse:()=>EF,getHttpHandlerExtensionConfiguration:()=>_F,isValidHostname:()=>Vm,resolveHttpHandlerRuntimeConfig:()=>vF});Bm.exports=fF(qm);var _F=lr(e=>{let t=e.httpHandler;return{setHttpHandler(r){t=r},httpHandler(){return t},updateHttpClientConfig(r,n){t.updateHttpClientConfig(r,n)},httpHandlerConfigs(){return t.httpHandlerConfigs()}}},"getHttpHandlerExtensionConfiguration"),vF=lr(e=>({httpHandler:e.httpHandler()}),"resolveHttpHandlerRuntimeConfig"),gF=qe(),jm=class{constructor({name:t,kind:r=gF.FieldPosition.HEADER,values:n=[]}){this.name=t,this.kind=r,this.values=n}add(t){this.values.push(t)}set(t){this.values=t}remove(t){this.values=this.values.filter(r=>r!==t)}toString(){return this.values.map(t=>t.includes(",")||t.includes(" ")?`"${t}"`:t).join(", ")}get(){return this.values}};lr(jm,"Field");var yF=jm,Hm=class{constructor({fields:t=[],encoding:r="utf-8"}){this.entries={},t.forEach(this.setField.bind(this)),this.encoding=r}setField(t){this.entries[t.name.toLowerCase()]=t}getField(t){return this.entries[t.toLowerCase()]}removeField(t){delete this.entries[t.toLowerCase()]}getByType(t){return Object.values(this.entries).filter(r=>r.kind===t)}};lr(Hm,"Fields");var hF=Hm,Gm=class $m{constructor(t){this.method=t.method||"GET",this.hostname=t.hostname||"localhost",this.port=t.port,this.query=t.query||{},this.headers=t.headers||{},this.body=t.body,this.protocol=t.protocol?t.protocol.slice(-1)!==":"?`${t.protocol}:`:t.protocol:"https:",this.path=t.path?t.path.charAt(0)!=="/"?`/${t.path}`:t.path:"/",this.username=t.username,this.password=t.password,this.fragment=t.fragment}static isInstance(t){if(!t)return!1;let r=t;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){let t=new $m({...this,headers:{...this.headers}});return t.query&&(t.query=zm(t.query)),t}};lr(Gm,"HttpRequest");var SF=Gm;function zm(e){return Object.keys(e).reduce((t,r)=>{let n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{})}lr(zm,"cloneQuery");var Wm=class{constructor(t){this.statusCode=t.statusCode,this.reason=t.reason,this.headers=t.headers||{},this.body=t.body}static isInstance(t){if(!t)return!1;let r=t;return typeof r.statusCode=="number"&&typeof r.headers=="object"}};lr(Wm,"HttpResponse");var EF=Wm;function Vm(e){return/^[a-z0-9][a-z0-9\.\-]*[a-z0-9]$/.test(e)}lr(Vm,"isValidHostname")});var Ai=v((lse,Zm)=>{var bi=Object.defineProperty,CF=Object.getOwnPropertyDescriptor,PF=Object.getOwnPropertyNames,wF=Object.prototype.hasOwnProperty,rd=(e,t)=>bi(e,"name",{value:t,configurable:!0}),xF=(e,t)=>{for(var r in t)bi(e,r,{get:t[r],enumerable:!0})},RF=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of PF(t))!wF.call(e,o)&&o!==r&&bi(e,o,{get:()=>t[o],enumerable:!(n=CF(t,o))||n.enumerable});return e},bF=e=>RF(bi({},"__esModule",{value:!0}),e),Xm={};xF(Xm,{getHostHeaderPlugin:()=>IF,hostHeaderMiddleware:()=>Ym,hostHeaderMiddlewareOptions:()=>Qm,resolveHostHeaderConfig:()=>Jm});Zm.exports=bF(Xm);var AF=ae();function Jm(e){return e}rd(Jm,"resolveHostHeaderConfig");var Ym=rd(e=>t=>async r=>{if(!AF.HttpRequest.isInstance(r.request))return t(r);let{request:n}=r,{handlerProtocol:o=""}=e.requestHandler.metadata||{};if(o.indexOf("h2")>=0&&!n.headers[":authority"])delete n.headers.host,n.headers[":authority"]=n.hostname+(n.port?":"+n.port:"");else if(!n.headers.host){let i=n.hostname;n.port!=null&&(i+=`:${n.port}`),n.headers.host=i}return t(r)},"hostHeaderMiddleware"),Qm={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},IF=rd(e=>({applyToStack:t=>{t.add(Ym(e),Qm)}}),"getHostHeaderPlugin")});var Oi=v((use,of)=>{var Ii=Object.defineProperty,OF=Object.getOwnPropertyDescriptor,TF=Object.getOwnPropertyNames,NF=Object.prototype.hasOwnProperty,ef=(e,t)=>Ii(e,"name",{value:t,configurable:!0}),DF=(e,t)=>{for(var r in t)Ii(e,r,{get:t[r],enumerable:!0})},kF=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of TF(t))!NF.call(e,o)&&o!==r&&Ii(e,o,{get:()=>t[o],enumerable:!(n=OF(t,o))||n.enumerable});return e},MF=e=>kF(Ii({},"__esModule",{value:!0}),e),tf={};DF(tf,{getLoggerPlugin:()=>KF,loggerMiddleware:()=>rf,loggerMiddlewareOptions:()=>nf});of.exports=MF(tf);var rf=ef(()=>(e,t)=>async r=>{var n,o;try{let i=await e(r),{clientName:s,commandName:a,logger:c,dynamoDbDocumentClientOptions:l={}}=t,{overrideInputFilterSensitiveLog:p,overrideOutputFilterSensitiveLog:m}=l,f=p??t.inputFilterSensitiveLog,_=m??t.outputFilterSensitiveLog,{$metadata:g,...S}=i.output;return(n=c?.info)==null||n.call(c,{clientName:s,commandName:a,input:f(r.input),output:_(S),metadata:g}),i}catch(i){let{clientName:s,commandName:a,logger:c,dynamoDbDocumentClientOptions:l={}}=t,{overrideInputFilterSensitiveLog:p}=l,m=p??t.inputFilterSensitiveLog;throw(o=c?.error)==null||o.call(c,{clientName:s,commandName:a,input:m(r.input),error:i,metadata:i.$metadata}),i}},"loggerMiddleware"),nf={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},KF=ef(e=>({applyToStack:t=>{t.add(rf(),nf)}}),"getLoggerPlugin")});var Ni=v((pse,lf)=>{var Ti=Object.defineProperty,FF=Object.getOwnPropertyDescriptor,LF=Object.getOwnPropertyNames,UF=Object.prototype.hasOwnProperty,nd=(e,t)=>Ti(e,"name",{value:t,configurable:!0}),qF=(e,t)=>{for(var r in t)Ti(e,r,{get:t[r],enumerable:!0})},jF=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of LF(t))!UF.call(e,o)&&o!==r&&Ti(e,o,{get:()=>t[o],enumerable:!(n=FF(t,o))||n.enumerable});return e},HF=e=>jF(Ti({},"__esModule",{value:!0}),e),af={};qF(af,{addRecursionDetectionMiddlewareOptions:()=>df,getRecursionDetectionPlugin:()=>WF,recursionDetectionMiddleware:()=>cf});lf.exports=HF(af);var GF=ae(),sf="X-Amzn-Trace-Id",$F="AWS_LAMBDA_FUNCTION_NAME",zF="_X_AMZN_TRACE_ID",cf=nd(e=>t=>async r=>{let{request:n}=r;if(!GF.HttpRequest.isInstance(n)||e.runtime!=="node"||n.headers.hasOwnProperty(sf))return t(r);let o=process.env[$F],i=process.env[zF],s=nd(a=>typeof a=="string"&&a.length>0,"nonEmptyString");return s(o)&&s(i)&&(n.headers[sf]=i),t({...r,request:n})},"recursionDetectionMiddleware"),df={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},WF=nd(e=>({applyToStack:t=>{t.add(cf(e),df)}}),"getRecursionDetectionPlugin")});var Gt=v((fse,Sf)=>{var Di=Object.defineProperty,VF=Object.getOwnPropertyDescriptor,BF=Object.getOwnPropertyNames,XF=Object.prototype.hasOwnProperty,J=(e,t)=>Di(e,"name",{value:t,configurable:!0}),JF=(e,t)=>{for(var r in t)Di(e,r,{get:t[r],enumerable:!0})},YF=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of BF(t))!XF.call(e,o)&&o!==r&&Di(e,o,{get:()=>t[o],enumerable:!(n=VF(t,o))||n.enumerable});return e},QF=e=>YF(Di({},"__esModule",{value:!0}),e),uf={};JF(uf,{EndpointError:()=>Me,customEndpointFunctions:()=>id,isIpAddress:()=>pf,isValidHostLabel:()=>ad,resolveEndpoint:()=>gL});Sf.exports=QF(uf);var ZF=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),pf=J(e=>ZF.test(e)||e.startsWith("[")&&e.endsWith("]"),"isIpAddress"),eL=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),ad=J((e,t=!1)=>{if(!t)return eL.test(e);let r=e.split(".");for(let n of r)if(!ad(n))return!1;return!0},"isValidHostLabel"),id={},So="endpoints";function Ht(e){return typeof e!="object"||e==null?e:"ref"in e?`$${Ht(e.ref)}`:"fn"in e?`${e.fn}(${(e.argv||[]).map(Ht).join(", ")})`:JSON.stringify(e,null,2)}J(Ht,"toDebugString");var mf=class extends Error{constructor(t){super(t),this.name="EndpointError"}};J(mf,"EndpointError");var Me=mf,tL=J((e,t)=>e===t,"booleanEquals"),rL=J(e=>{let t=e.split("."),r=[];for(let n of t){let o=n.indexOf("[");if(o!==-1){if(n.indexOf("]")!==n.length-1)throw new Me(`Path: '${e}' does not end with ']'`);let i=n.slice(o+1,-1);if(Number.isNaN(parseInt(i)))throw new Me(`Invalid array index: '${i}' in path: '${e}'`);o!==0&&r.push(n.slice(0,o)),r.push(i)}else r.push(n)}return r},"getAttrPathList"),ff=J((e,t)=>rL(t).reduce((r,n)=>{if(typeof r!="object")throw new Me(`Index '${n}' in '${t}' not found in '${JSON.stringify(e)}'`);return Array.isArray(r)?r[parseInt(n)]:r[n]},e),"getAttr"),nL=J(e=>e!=null,"isSet"),oL=J(e=>!e,"not"),sd=qe(),od={[sd.EndpointURLScheme.HTTP]:80,[sd.EndpointURLScheme.HTTPS]:443},iL=J(e=>{let t=(()=>{try{if(e instanceof URL)return e;if(typeof e=="object"&&"hostname"in e){let{hostname:f,port:_,protocol:g="",path:S="",query:P={}}=e,x=new URL(`${g}//${f}${_?`:${_}`:""}${S}`);return x.search=Object.entries(P).map(([R,de])=>`${R}=${de}`).join("&"),x}return new URL(e)}catch{return null}})();if(!t)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;let r=t.href,{host:n,hostname:o,pathname:i,protocol:s,search:a}=t;if(a)return null;let c=s.slice(0,-1);if(!Object.values(sd.EndpointURLScheme).includes(c))return null;let l=pf(o),p=r.includes(`${n}:${od[c]}`)||typeof e=="string"&&e.includes(`${n}:${od[c]}`),m=`${n}${p?`:${od[c]}`:""}`;return{scheme:c,authority:m,path:i,normalizedPath:i.endsWith("/")?i:`${i}/`,isIp:l}},"parseURL"),sL=J((e,t)=>e===t,"stringEquals"),aL=J((e,t,r,n)=>t>=r||e.length<r?null:n?e.substring(e.length-r,e.length-t):e.substring(t,r),"substring"),cL=J(e=>encodeURIComponent(e).replace(/[!*'()]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`),"uriEncode"),dL={booleanEquals:tL,getAttr:ff,isSet:nL,isValidHostLabel:ad,not:oL,parseURL:iL,stringEquals:sL,substring:aL,uriEncode:cL},_f=J((e,t)=>{let r=[],n={...t.endpointParams,...t.referenceRecord},o=0;for(;o<e.length;){let i=e.indexOf("{",o);if(i===-1){r.push(e.slice(o));break}r.push(e.slice(o,i));let s=e.indexOf("}",i);if(s===-1){r.push(e.slice(i));break}e[i+1]==="{"&&e[s+1]==="}"&&(r.push(e.slice(i+1,s)),o=s+2);let a=e.substring(i+1,s);if(a.includes("#")){let[c,l]=a.split("#");r.push(ff(n[c],l))}else r.push(n[a]);o=s+1}return r.join("")},"evaluateTemplate"),lL=J(({ref:e},t)=>({...t.endpointParams,...t.referenceRecord})[e],"getReferenceValue"),ki=J((e,t,r)=>{if(typeof e=="string")return _f(e,r);if(e.fn)return vf(e,r);if(e.ref)return lL(e,r);throw new Me(`'${t}': ${String(e)} is not a string, function or reference.`)},"evaluateExpression"),vf=J(({fn:e,argv:t},r)=>{let n=t.map(i=>["boolean","number"].includes(typeof i)?i:ki(i,"arg",r)),o=e.split(".");return o[0]in id&&o[1]!=null?id[o[0]][o[1]](...n):dL[e](...n)},"callFunction"),uL=J(({assign:e,...t},r)=>{var n,o;if(e&&e in r.referenceRecord)throw new Me(`'${e}' is already defined in Reference Record.`);let i=vf(t,r);return(o=(n=r.logger)==null?void 0:n.debug)==null||o.call(n,So,`evaluateCondition: ${Ht(t)} = ${Ht(i)}`),{result:i===""?!0:!!i,...e!=null&&{toAssign:{name:e,value:i}}}},"evaluateCondition"),cd=J((e=[],t)=>{var r,n;let o={};for(let i of e){let{result:s,toAssign:a}=uL(i,{...t,referenceRecord:{...t.referenceRecord,...o}});if(!s)return{result:s};a&&(o[a.name]=a.value,(n=(r=t.logger)==null?void 0:r.debug)==null||n.call(r,So,`assign: ${a.name} := ${Ht(a.value)}`))}return{result:!0,referenceRecord:o}},"evaluateConditions"),pL=J((e,t)=>Object.entries(e).reduce((r,[n,o])=>({...r,[n]:o.map(i=>{let s=ki(i,"Header value entry",t);if(typeof s!="string")throw new Me(`Header '${n}' value '${s}' is not a string`);return s})}),{}),"getEndpointHeaders"),gf=J((e,t)=>{if(Array.isArray(e))return e.map(r=>gf(r,t));switch(typeof e){case"string":return _f(e,t);case"object":if(e===null)throw new Me(`Unexpected endpoint property: ${e}`);return yf(e,t);case"boolean":return e;default:throw new Me(`Unexpected endpoint property type: ${typeof e}`)}},"getEndpointProperty"),yf=J((e,t)=>Object.entries(e).reduce((r,[n,o])=>({...r,[n]:gf(o,t)}),{}),"getEndpointProperties"),mL=J((e,t)=>{let r=ki(e,"Endpoint URL",t);if(typeof r=="string")try{return new URL(r)}catch(n){throw console.error(`Failed to construct URL with ${r}`,n),n}throw new Me(`Endpoint URL must be a string, got ${typeof r}`)},"getEndpointUrl"),fL=J((e,t)=>{var r,n;let{conditions:o,endpoint:i}=e,{result:s,referenceRecord:a}=cd(o,t);if(!s)return;let c={...t,referenceRecord:{...t.referenceRecord,...a}},{url:l,properties:p,headers:m}=i;return(n=(r=t.logger)==null?void 0:r.debug)==null||n.call(r,So,`Resolving endpoint from template: ${Ht(i)}`),{...m!=null&&{headers:pL(m,c)},...p!=null&&{properties:yf(p,c)},url:mL(l,c)}},"evaluateEndpointRule"),_L=J((e,t)=>{let{conditions:r,error:n}=e,{result:o,referenceRecord:i}=cd(r,t);if(o)throw new Me(ki(n,"Error",{...t,referenceRecord:{...t.referenceRecord,...i}}))},"evaluateErrorRule"),vL=J((e,t)=>{let{conditions:r,rules:n}=e,{result:o,referenceRecord:i}=cd(r,t);if(o)return hf(n,{...t,referenceRecord:{...t.referenceRecord,...i}})},"evaluateTreeRule"),hf=J((e,t)=>{for(let r of e)if(r.type==="endpoint"){let n=fL(r,t);if(n)return n}else if(r.type==="error")_L(r,t);else if(r.type==="tree"){let n=vL(r,t);if(n)return n}else throw new Me(`Unknown endpoint rule: ${r}`);throw new Me("Rules evaluation failed")},"evaluateRules"),gL=J((e,t)=>{var r,n,o,i,s;let{endpointParams:a,logger:c}=t,{parameters:l,rules:p}=e;(n=(r=t.logger)==null?void 0:r.debug)==null||n.call(r,`${So} Initial EndpointParams: ${Ht(a)}`);let m=Object.entries(l).filter(([,g])=>g.default!=null).map(([g,S])=>[g,S.default]);if(m.length>0)for(let[g,S]of m)a[g]=a[g]??S;let f=Object.entries(l).filter(([,g])=>g.required).map(([g])=>g);for(let g of f)if(a[g]==null)throw new Me(`Missing required parameter: '${g}'`);let _=hf(p,{endpointParams:a,logger:c,referenceRecord:{}});if((o=t.endpointParams)!=null&&o.Endpoint)try{let g=new URL(t.endpointParams.Endpoint),{protocol:S,port:P}=g;_.url.protocol=S,_.url.port=P}catch{}return(s=(i=t.logger)==null?void 0:i.debug)==null||s.call(i,`${So} Resolved endpoint: ${Ht(_)}`),_},"resolveEndpoint")});var Eo=v((_se,If)=>{"use strict";var Mi=Object.defineProperty,yL=Object.getOwnPropertyDescriptor,hL=Object.getOwnPropertyNames,SL=Object.prototype.hasOwnProperty,fn=(e,t)=>Mi(e,"name",{value:t,configurable:!0}),EL=(e,t)=>{for(var r in t)Mi(e,r,{get:t[r],enumerable:!0})},CL=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of hL(t))!SL.call(e,o)&&o!==r&&Mi(e,o,{get:()=>t[o],enumerable:!(n=yL(t,o))||n.enumerable});return e},PL=e=>CL(Mi({},"__esModule",{value:!0}),e),Ef={};EL(Ef,{ConditionObject:()=>Y.ConditionObject,DeprecatedObject:()=>Y.DeprecatedObject,EndpointError:()=>Y.EndpointError,EndpointObject:()=>Y.EndpointObject,EndpointObjectHeaders:()=>Y.EndpointObjectHeaders,EndpointObjectProperties:()=>Y.EndpointObjectProperties,EndpointParams:()=>Y.EndpointParams,EndpointResolverOptions:()=>Y.EndpointResolverOptions,EndpointRuleObject:()=>Y.EndpointRuleObject,ErrorRuleObject:()=>Y.ErrorRuleObject,EvaluateOptions:()=>Y.EvaluateOptions,Expression:()=>Y.Expression,FunctionArgv:()=>Y.FunctionArgv,FunctionObject:()=>Y.FunctionObject,FunctionReturn:()=>Y.FunctionReturn,ParameterObject:()=>Y.ParameterObject,ReferenceObject:()=>Y.ReferenceObject,ReferenceRecord:()=>Y.ReferenceRecord,RuleSetObject:()=>Y.RuleSetObject,RuleSetRules:()=>Y.RuleSetRules,TreeRuleObject:()=>Y.TreeRuleObject,awsEndpointFunctions:()=>Af,getUserAgentPrefix:()=>RL,isIpAddress:()=>Y.isIpAddress,partition:()=>Rf,resolveEndpoint:()=>Y.resolveEndpoint,setPartitionInfo:()=>bf,useDefaultPartitionInfo:()=>xL});If.exports=PL(Ef);var Y=Gt(),Cf=fn((e,t=!1)=>{if(t){for(let r of e.split("."))if(!Cf(r))return!1;return!0}return!(!(0,Y.isValidHostLabel)(e)||e.length<3||e.length>63||e!==e.toLowerCase()||(0,Y.isIpAddress)(e))},"isVirtualHostableS3Bucket"),wL=fn(e=>{let t=e.split(":");if(t.length<6)return null;let[r,n,o,i,s,...a]=t;return r!=="arn"||n===""||o===""||a[0]===""?null:{partition:n,service:o,region:i,accountId:s,resourceId:a[0].includes("/")?a[0].split("/"):a}},"parseArn"),Pf={partitions:[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"aws-global":{description:"AWS Standard global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"AWS China global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"AWS GovCloud (US) global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"c2s.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"AWS ISO (US) global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"sc2s.sgov.gov",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"AWS ISOB (US) global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"cloud.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"csp.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{}}],version:"1.1"},wf=Pf,xf="",Rf=fn(e=>{let{partitions:t}=wf;for(let n of t){let{regions:o,outputs:i}=n;for(let[s,a]of Object.entries(o))if(s===e)return{...i,...a}}for(let n of t){let{regionRegex:o,outputs:i}=n;if(new RegExp(o).test(e))return{...i}}let r=t.find(n=>n.id==="aws");if(!r)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...r.outputs}},"partition"),bf=fn((e,t="")=>{wf=e,xf=t},"setPartitionInfo"),xL=fn(()=>{bf(Pf,"")},"useDefaultPartitionInfo"),RL=fn(()=>xf,"getUserAgentPrefix"),Af={isVirtualHostableS3Bucket:Cf,parseArn:wL,partition:Rf};Y.customEndpointFunctions.aws=Af});var Li=v((vse,Ff)=>{"use strict";var Ki=Object.defineProperty,bL=Object.getOwnPropertyDescriptor,AL=Object.getOwnPropertyNames,IL=Object.prototype.hasOwnProperty,Fi=(e,t)=>Ki(e,"name",{value:t,configurable:!0}),OL=(e,t)=>{for(var r in t)Ki(e,r,{get:t[r],enumerable:!0})},TL=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of AL(t))!IL.call(e,o)&&o!==r&&Ki(e,o,{get:()=>t[o],enumerable:!(n=bL(t,o))||n.enumerable});return e},NL=e=>TL(Ki({},"__esModule",{value:!0}),e),Df={};OL(Df,{getUserAgentMiddlewareOptions:()=>Kf,getUserAgentPlugin:()=>FL,resolveUserAgentConfig:()=>kf,userAgentMiddleware:()=>Mf});Ff.exports=NL(Df);function kf(e){return{...e,customUserAgent:typeof e.customUserAgent=="string"?[[e.customUserAgent]]:e.customUserAgent}}Fi(kf,"resolveUserAgentConfig");var DL=Eo(),kL=ae(),Of="user-agent",dd="x-amz-user-agent",Tf=" ",ld="/",ML=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,KL=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,Nf="-",Mf=Fi(e=>(t,r)=>async n=>{var o,i;let{request:s}=n;if(!kL.HttpRequest.isInstance(s))return t(n);let{headers:a}=s,c=((o=r?.userAgent)==null?void 0:o.map(ud))||[],l=(await e.defaultUserAgentProvider()).map(ud),p=((i=e?.customUserAgent)==null?void 0:i.map(ud))||[],m=(0,DL.getUserAgentPrefix)(),f=(m?[m]:[]).concat([...l,...c,...p]).join(Tf),_=[...l.filter(g=>g.startsWith("aws-sdk-")),...p].join(Tf);return e.runtime!=="browser"?(_&&(a[dd]=a[dd]?`${a[Of]} ${_}`:_),a[Of]=f):a[dd]=f,t({...n,request:s})},"userAgentMiddleware"),ud=Fi(e=>{var t;let r=e[0].split(ld).map(a=>a.replace(ML,Nf)).join(ld),n=(t=e[1])==null?void 0:t.replace(KL,Nf),o=r.indexOf(ld),i=r.substring(0,o),s=r.substring(o+1);return i==="api"&&(s=s.toLowerCase()),[i,s,n].filter(a=>a&&a.length>0).reduce((a,c,l)=>{switch(l){case 0:return c;case 1:return`${a}/${c}`;default:return`${a}#${c}`}},"")},"escapeUserAgent"),Kf={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},FL=Fi(e=>({applyToStack:t=>{t.add(Mf(e),Kf)}}),"getUserAgentPlugin")});var Hf=v((gse,jf)=>{var Ui=Object.defineProperty,LL=Object.getOwnPropertyDescriptor,UL=Object.getOwnPropertyNames,qL=Object.prototype.hasOwnProperty,Lf=(e,t)=>Ui(e,"name",{value:t,configurable:!0}),jL=(e,t)=>{for(var r in t)Ui(e,r,{get:t[r],enumerable:!0})},HL=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of UL(t))!qL.call(e,o)&&o!==r&&Ui(e,o,{get:()=>t[o],enumerable:!(n=LL(t,o))||n.enumerable});return e},GL=e=>HL(Ui({},"__esModule",{value:!0}),e),Uf={};jL(Uf,{SelectorType:()=>qf,booleanSelector:()=>$L,numberSelector:()=>zL});jf.exports=GL(Uf);var $L=Lf((e,t,r)=>{if(t in e){if(e[t]==="true")return!0;if(e[t]==="false")return!1;throw new Error(`Cannot load ${r} "${t}". Expected "true" or "false", got ${e[t]}.`)}},"booleanSelector"),zL=Lf((e,t,r)=>{if(!(t in e))return;let n=parseInt(e[t],10);if(Number.isNaN(n))throw new TypeError(`Cannot load ${r} '${t}'. Expected number, got '${e[t]}'.`);return n},"numberSelector"),qf=(e=>(e.ENV="env",e.CONFIG="shared config entry",e))(qf||{})});var Ve=v((yse,Wf)=>{var qi=Object.defineProperty,WL=Object.getOwnPropertyDescriptor,VL=Object.getOwnPropertyNames,BL=Object.prototype.hasOwnProperty,$f=(e,t)=>qi(e,"name",{value:t,configurable:!0}),XL=(e,t)=>{for(var r in t)qi(e,r,{get:t[r],enumerable:!0})},JL=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of VL(t))!BL.call(e,o)&&o!==r&&qi(e,o,{get:()=>t[o],enumerable:!(n=WL(t,o))||n.enumerable});return e},YL=e=>JL(qi({},"__esModule",{value:!0}),e),zf={};XL(zf,{getSmithyContext:()=>QL,normalizeProvider:()=>ZL});Wf.exports=YL(zf);var Gf=qe(),QL=$f(e=>e[Gf.SMITHY_CONTEXT_KEY]||(e[Gf.SMITHY_CONTEXT_KEY]={}),"getSmithyContext"),ZL=$f(e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t},"normalizeProvider")});var Ke=v((hse,n_)=>{var Hi=Object.defineProperty,eU=Object.getOwnPropertyDescriptor,tU=Object.getOwnPropertyNames,rU=Object.prototype.hasOwnProperty,_t=(e,t)=>Hi(e,"name",{value:t,configurable:!0}),nU=(e,t)=>{for(var r in t)Hi(e,r,{get:t[r],enumerable:!0})},oU=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of tU(t))!rU.call(e,o)&&o!==r&&Hi(e,o,{get:()=>t[o],enumerable:!(n=eU(t,o))||n.enumerable});return e},iU=e=>oU(Hi({},"__esModule",{value:!0}),e),Xf={};nU(Xf,{CONFIG_USE_DUALSTACK_ENDPOINT:()=>Yf,CONFIG_USE_FIPS_ENDPOINT:()=>Zf,DEFAULT_USE_DUALSTACK_ENDPOINT:()=>sU,DEFAULT_USE_FIPS_ENDPOINT:()=>cU,ENV_USE_DUALSTACK_ENDPOINT:()=>Jf,ENV_USE_FIPS_ENDPOINT:()=>Qf,NODE_REGION_CONFIG_FILE_OPTIONS:()=>fU,NODE_REGION_CONFIG_OPTIONS:()=>mU,NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS:()=>aU,NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS:()=>dU,REGION_ENV_NAME:()=>e_,REGION_INI_NAME:()=>t_,getRegionInfo:()=>hU,resolveCustomEndpointsConfig:()=>lU,resolveEndpointsConfig:()=>pU,resolveRegionConfig:()=>_U});n_.exports=iU(Xf);var ur=Hf(),Jf="AWS_USE_DUALSTACK_ENDPOINT",Yf="use_dualstack_endpoint",sU=!1,aU={environmentVariableSelector:e=>(0,ur.booleanSelector)(e,Jf,ur.SelectorType.ENV),configFileSelector:e=>(0,ur.booleanSelector)(e,Yf,ur.SelectorType.CONFIG),default:!1},Qf="AWS_USE_FIPS_ENDPOINT",Zf="use_fips_endpoint",cU=!1,dU={environmentVariableSelector:e=>(0,ur.booleanSelector)(e,Qf,ur.SelectorType.ENV),configFileSelector:e=>(0,ur.booleanSelector)(e,Zf,ur.SelectorType.CONFIG),default:!1},ji=Ve(),lU=_t(e=>{let{endpoint:t,urlParser:r}=e;return{...e,tls:e.tls??!0,endpoint:(0,ji.normalizeProvider)(typeof t=="string"?r(t):t),isCustomEndpoint:!0,useDualstackEndpoint:(0,ji.normalizeProvider)(e.useDualstackEndpoint??!1)}},"resolveCustomEndpointsConfig"),uU=_t(async e=>{let{tls:t=!0}=e,r=await e.region();if(!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(r))throw new Error("Invalid region in client config");let o=await e.useDualstackEndpoint(),i=await e.useFipsEndpoint(),{hostname:s}=await e.regionInfoProvider(r,{useDualstackEndpoint:o,useFipsEndpoint:i})??{};if(!s)throw new Error("Cannot resolve hostname from client config");return e.urlParser(`${t?"https:":"http:"}//${s}`)},"getEndpointFromRegion"),pU=_t(e=>{let t=(0,ji.normalizeProvider)(e.useDualstackEndpoint??!1),{endpoint:r,useFipsEndpoint:n,urlParser:o}=e;return{...e,tls:e.tls??!0,endpoint:r?(0,ji.normalizeProvider)(typeof r=="string"?o(r):r):()=>uU({...e,useDualstackEndpoint:t,useFipsEndpoint:n}),isCustomEndpoint:!!r,useDualstackEndpoint:t}},"resolveEndpointsConfig"),e_="AWS_REGION",t_="region",mU={environmentVariableSelector:e=>e[e_],configFileSelector:e=>e[t_],default:()=>{throw new Error("Region is missing")}},fU={preferredFile:"credentials"},r_=_t(e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),"isFipsRegion"),Vf=_t(e=>r_(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,"getRealRegion"),_U=_t(e=>{let{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return{...e,region:async()=>{if(typeof t=="string")return Vf(t);let n=await t();return Vf(n)},useFipsEndpoint:async()=>{let n=typeof t=="string"?t:await t();return r_(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()}}},"resolveRegionConfig"),Bf=_t((e=[],{useFipsEndpoint:t,useDualstackEndpoint:r})=>{var n;return(n=e.find(({tags:o})=>t===o.includes("fips")&&r===o.includes("dualstack")))==null?void 0:n.hostname},"getHostnameFromVariants"),vU=_t((e,{regionHostname:t,partitionHostname:r})=>t||(r?r.replace("{region}",e):void 0),"getResolvedHostname"),gU=_t((e,{partitionHash:t})=>Object.keys(t||{}).find(r=>t[r].regions.includes(e))??"aws","getResolvedPartition"),yU=_t((e,{signingRegion:t,regionRegex:r,useFipsEndpoint:n})=>{if(t)return t;if(n){let o=r.replace("\\\\","\\").replace(/^\^/g,"\\.").replace(/\$$/g,"\\."),i=e.match(o);if(i)return i[0].slice(1,-1)}},"getResolvedSigningRegion"),hU=_t((e,{useFipsEndpoint:t=!1,useDualstackEndpoint:r=!1,signingService:n,regionHash:o,partitionHash:i})=>{var s,a,c,l,p;let m=gU(e,{partitionHash:i}),f=e in o?e:((s=i[m])==null?void 0:s.endpoint)??e,_={useFipsEndpoint:t,useDualstackEndpoint:r},g=Bf((a=o[f])==null?void 0:a.variants,_),S=Bf((c=i[m])==null?void 0:c.variants,_),P=vU(f,{regionHostname:g,partitionHostname:S});if(P===void 0)throw new Error(`Endpoint resolution failed for: ${{resolvedRegion:f,useFipsEndpoint:t,useDualstackEndpoint:r}}`);let x=yU(P,{signingRegion:(l=o[f])==null?void 0:l.signingRegion,regionRegex:i[m].regionRegex,useFipsEndpoint:t});return{partition:m,signingService:n,hostname:P,...x&&{signingRegion:x},...((p=o[f])==null?void 0:p.signingService)&&{signingService:o[f].signingService}}},"getRegionInfo")});var te=v((Sse,u_)=>{var Gi=Object.defineProperty,SU=Object.getOwnPropertyDescriptor,EU=Object.getOwnPropertyNames,CU=Object.prototype.hasOwnProperty,Yr=(e,t)=>Gi(e,"name",{value:t,configurable:!0}),PU=(e,t)=>{for(var r in t)Gi(e,r,{get:t[r],enumerable:!0})},wU=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of EU(t))!CU.call(e,o)&&o!==r&&Gi(e,o,{get:()=>t[o],enumerable:!(n=SU(t,o))||n.enumerable});return e},xU=e=>wU(Gi({},"__esModule",{value:!0}),e),o_={};PU(o_,{CredentialsProviderError:()=>RU,ProviderError:()=>$i,TokenProviderError:()=>bU,chain:()=>AU,fromStatic:()=>IU,memoize:()=>OU});u_.exports=xU(o_);var i_=class s_ extends Error{constructor(t,r=!0){super(t),this.tryNextLink=r,this.name="ProviderError",Object.setPrototypeOf(this,s_.prototype)}static from(t,r=!0){return Object.assign(new this(t.message,r),t)}};Yr(i_,"ProviderError");var $i=i_,a_=class c_ extends $i{constructor(t,r=!0){super(t,r),this.tryNextLink=r,this.name="CredentialsProviderError",Object.setPrototypeOf(this,c_.prototype)}};Yr(a_,"CredentialsProviderError");var RU=a_,d_=class l_ extends $i{constructor(t,r=!0){super(t,r),this.tryNextLink=r,this.name="TokenProviderError",Object.setPrototypeOf(this,l_.prototype)}};Yr(d_,"TokenProviderError");var bU=d_,AU=Yr((...e)=>async()=>{if(e.length===0)throw new $i("No providers in chain");let t;for(let r of e)try{return await r()}catch(n){if(t=n,n?.tryNextLink)continue;throw n}throw t},"chain"),IU=Yr(e=>()=>Promise.resolve(e),"fromStatic"),OU=Yr((e,t,r)=>{let n,o,i,s=!1,a=Yr(async()=>{o||(o=e());try{n=await o,i=!0,s=!1}finally{o=void 0}return n},"coalesceProvider");return t===void 0?async c=>((!i||c?.forceRefresh)&&(n=await a()),n):async c=>((!i||c?.forceRefresh)&&(n=await a()),s?n:r&&!r(n)?(s=!0,n):(t(n)&&await a(),n))},"memoize")});var Co=v(zi=>{"use strict";Object.defineProperty(zi,"__esModule",{value:!0});zi.getHomeDir=void 0;var TU=require("os"),NU=require("path"),pd={},DU=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",kU=()=>{let{HOME:e,USERPROFILE:t,HOMEPATH:r,HOMEDRIVE:n=`C:${NU.sep}`}=process.env;if(e)return e;if(t)return t;if(r)return`${n}${r}`;let o=DU();return pd[o]||(pd[o]=(0,TU.homedir)()),pd[o]};zi.getHomeDir=kU});var md=v(Wi=>{"use strict";Object.defineProperty(Wi,"__esModule",{value:!0});Wi.getSSOTokenFilepath=void 0;var MU=require("crypto"),KU=require("path"),FU=Co(),LU=e=>{let r=(0,MU.createHash)("sha1").update(e).digest("hex");return(0,KU.join)((0,FU.getHomeDir)(),".aws","sso","cache",`${r}.json`)};Wi.getSSOTokenFilepath=LU});var p_=v(Vi=>{"use strict";Object.defineProperty(Vi,"__esModule",{value:!0});Vi.getSSOTokenFromFile=void 0;var UU=require("fs"),qU=md(),{readFile:jU}=UU.promises,HU=async e=>{let t=(0,qU.getSSOTokenFilepath)(e),r=await jU(t,"utf8");return JSON.parse(r)};Vi.getSSOTokenFromFile=HU});var _d=v(Bi=>{"use strict";Object.defineProperty(Bi,"__esModule",{value:!0});Bi.slurpFile=void 0;var GU=require("fs"),{readFile:$U}=GU.promises,fd={},zU=(e,t)=>((!fd[e]||t?.ignoreCache)&&(fd[e]=$U(e,"utf8")),fd[e]);Bi.slurpFile=zU});var je=v((xse,wo)=>{var Ji=Object.defineProperty,WU=Object.getOwnPropertyDescriptor,VU=Object.getOwnPropertyNames,BU=Object.prototype.hasOwnProperty,Be=(e,t)=>Ji(e,"name",{value:t,configurable:!0}),XU=(e,t)=>{for(var r in t)Ji(e,r,{get:t[r],enumerable:!0})},vd=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of VU(t))!BU.call(e,o)&&o!==r&&Ji(e,o,{get:()=>t[o],enumerable:!(n=WU(t,o))||n.enumerable});return e},yd=(e,t,r)=>(vd(e,t,"default"),r&&vd(r,t,"default")),JU=e=>vd(Ji({},"__esModule",{value:!0}),e),Po={};XU(Po,{CONFIG_PREFIX_SEPARATOR:()=>Qr,DEFAULT_PROFILE:()=>v_,ENV_PROFILE:()=>__,getProfileName:()=>YU,loadSharedConfigFiles:()=>h_,loadSsoSessionData:()=>d1,parseKnownFiles:()=>u1});wo.exports=JU(Po);yd(Po,Co(),wo.exports);var __="AWS_PROFILE",v_="default",YU=Be(e=>e.profile||process.env[__]||v_,"getProfileName");yd(Po,md(),wo.exports);yd(Po,p_(),wo.exports);var Xi=qe(),QU=Be(e=>Object.entries(e).filter(([t])=>{let r=t.indexOf(Qr);return r===-1?!1:Object.values(Xi.IniSectionType).includes(t.substring(0,r))}).reduce((t,[r,n])=>{let o=r.indexOf(Qr),i=r.substring(0,o)===Xi.IniSectionType.PROFILE?r.substring(o+1):r;return t[i]=n,t},{...e.default&&{default:e.default}}),"getConfigData"),g_=require("path"),ZU=Co(),e1="AWS_CONFIG_FILE",y_=Be(()=>process.env[e1]||(0,g_.join)((0,ZU.getHomeDir)(),".aws","config"),"getConfigFilepath"),t1=Co(),r1="AWS_SHARED_CREDENTIALS_FILE",n1=Be(()=>process.env[r1]||(0,g_.join)((0,t1.getHomeDir)(),".aws","credentials"),"getCredentialsFilepath"),o1=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,i1=["__proto__","profile __proto__"],gd=Be(e=>{let t={},r,n;for(let o of e.split(/\r?\n/)){let i=o.split(/(^|\s)[;#]/)[0].trim();if(i[0]==="["&&i[i.length-1]==="]"){r=void 0,n=void 0;let a=i.substring(1,i.length-1),c=o1.exec(a);if(c){let[,l,,p]=c;Object.values(Xi.IniSectionType).includes(l)&&(r=[l,p].join(Qr))}else r=a;if(i1.includes(a))throw new Error(`Found invalid profile name "${a}"`)}else if(r){let a=i.indexOf("=");if(![0,-1].includes(a)){let[c,l]=[i.substring(0,a).trim(),i.substring(a+1).trim()];if(l==="")n=c;else{n&&o.trimStart()===o&&(n=void 0),t[r]=t[r]||{};let p=n?[n,c].join(Qr):c;t[r][p]=l}}}}return t},"parseIni"),m_=_d(),f_=Be(()=>({}),"swallowError"),Qr=".",h_=Be(async(e={})=>{let{filepath:t=n1(),configFilepath:r=y_()}=e,n=await Promise.all([(0,m_.slurpFile)(r,{ignoreCache:e.ignoreCache}).then(gd).then(QU).catch(f_),(0,m_.slurpFile)(t,{ignoreCache:e.ignoreCache}).then(gd).catch(f_)]);return{configFile:n[0],credentialsFile:n[1]}},"loadSharedConfigFiles"),s1=Be(e=>Object.entries(e).filter(([t])=>t.startsWith(Xi.IniSectionType.SSO_SESSION+Qr)).reduce((t,[r,n])=>({...t,[r.substring(r.indexOf(Qr)+1)]:n}),{}),"getSsoSessionData"),a1=_d(),c1=Be(()=>({}),"swallowError"),d1=Be(async(e={})=>(0,a1.slurpFile)(e.configFilepath??y_()).then(gd).then(s1).catch(c1),"loadSsoSessionData"),l1=Be((...e)=>{let t={};for(let r of e)for(let[n,o]of Object.entries(r))t[n]!==void 0?Object.assign(t[n],o):t[n]=o;return t},"mergeConfigFiles"),u1=Be(async e=>{let t=await h_(e);return l1(t.configFile,t.credentialsFile)},"parseKnownFiles")});var Xe=v((Rse,C_)=>{var Yi=Object.defineProperty,p1=Object.getOwnPropertyDescriptor,m1=Object.getOwnPropertyNames,f1=Object.prototype.hasOwnProperty,Ro=(e,t)=>Yi(e,"name",{value:t,configurable:!0}),_1=(e,t)=>{for(var r in t)Yi(e,r,{get:t[r],enumerable:!0})},v1=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of m1(t))!f1.call(e,o)&&o!==r&&Yi(e,o,{get:()=>t[o],enumerable:!(n=p1(t,o))||n.enumerable});return e},g1=e=>v1(Yi({},"__esModule",{value:!0}),e),E_={};_1(E_,{loadConfig:()=>C1});C_.exports=g1(E_);var xo=te(),y1=Ro(e=>async()=>{try{let t=e(process.env);if(t===void 0)throw new Error;return t}catch(t){throw new xo.CredentialsProviderError(t.message||`Cannot load config from environment variables with getter: ${e}`)}},"fromEnv"),S_=je(),h1=Ro((e,{preferredFile:t="config",...r}={})=>async()=>{let n=(0,S_.getProfileName)(r),{configFile:o,credentialsFile:i}=await(0,S_.loadSharedConfigFiles)(r),s=i[n]||{},a=o[n]||{},c=t==="config"?{...s,...a}:{...a,...s};try{let p=e(c,t==="config"?o:i);if(p===void 0)throw new Error;return p}catch(l){throw new xo.CredentialsProviderError(l.message||`Cannot load config for profile ${n} in SDK configuration files with getter: ${e}`)}},"fromSharedConfigFiles"),S1=Ro(e=>typeof e=="function","isFunction"),E1=Ro(e=>S1(e)?async()=>await e():(0,xo.fromStatic)(e),"fromStatic"),C1=Ro(({environmentVariableSelector:e,configFileSelector:t,default:r},n={})=>(0,xo.memoize)((0,xo.chain)(y1(e),h1(t,n),E1(r))),"loadConfig")});var R_=v(Qi=>{"use strict";Object.defineProperty(Qi,"__esModule",{value:!0});Qi.getEndpointUrlConfig=void 0;var P_=je(),w_="AWS_ENDPOINT_URL",x_="endpoint_url",P1=e=>({environmentVariableSelector:t=>{let r=e.split(" ").map(i=>i.toUpperCase()),n=t[[w_,...r].join("_")];if(n)return n;let o=t[w_];if(o)return o},configFileSelector:(t,r)=>{if(r&&t.services){let o=r[["services",t.services].join(P_.CONFIG_PREFIX_SEPARATOR)];if(o){let i=e.split(" ").map(a=>a.toLowerCase()),s=o[[i.join("_"),x_].join(P_.CONFIG_PREFIX_SEPARATOR)];if(s)return s}}let n=t[x_];if(n)return n},default:void 0});Qi.getEndpointUrlConfig=P1});var b_=v(Zi=>{"use strict";Object.defineProperty(Zi,"__esModule",{value:!0});Zi.getEndpointFromConfig=void 0;var w1=Xe(),x1=R_(),R1=async e=>(0,w1.loadConfig)((0,x1.getEndpointUrlConfig)(e))();Zi.getEndpointFromConfig=R1});var T_=v((Ise,O_)=>{var es=Object.defineProperty,b1=Object.getOwnPropertyDescriptor,A1=Object.getOwnPropertyNames,I1=Object.prototype.hasOwnProperty,O1=(e,t)=>es(e,"name",{value:t,configurable:!0}),T1=(e,t)=>{for(var r in t)es(e,r,{get:t[r],enumerable:!0})},N1=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of A1(t))!I1.call(e,o)&&o!==r&&es(e,o,{get:()=>t[o],enumerable:!(n=b1(t,o))||n.enumerable});return e},D1=e=>N1(es({},"__esModule",{value:!0}),e),A_={};T1(A_,{parseQueryString:()=>I_});O_.exports=D1(A_);function I_(e){let t={};if(e=e.replace(/^\?/,""),e)for(let r of e.split("&")){let[n,o=null]=r.split("=");n=decodeURIComponent(n),o&&(o=decodeURIComponent(o)),n in t?Array.isArray(t[n])?t[n].push(o):t[n]=[t[n],o]:t[n]=o}return t}O1(I_,"parseQueryString")});var $t=v((Ose,k_)=>{var ts=Object.defineProperty,k1=Object.getOwnPropertyDescriptor,M1=Object.getOwnPropertyNames,K1=Object.prototype.hasOwnProperty,F1=(e,t)=>ts(e,"name",{value:t,configurable:!0}),L1=(e,t)=>{for(var r in t)ts(e,r,{get:t[r],enumerable:!0})},U1=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of M1(t))!K1.call(e,o)&&o!==r&&ts(e,o,{get:()=>t[o],enumerable:!(n=k1(t,o))||n.enumerable});return e},q1=e=>U1(ts({},"__esModule",{value:!0}),e),N_={};L1(N_,{parseUrl:()=>D_});k_.exports=q1(N_);var j1=T_(),D_=F1(e=>{if(typeof e=="string")return D_(new URL(e));let{hostname:t,pathname:r,port:n,protocol:o,search:i}=e,s;return i&&(s=(0,j1.parseQueryString)(i)),{hostname:t,port:n?parseInt(n):void 0,protocol:o,path:r,query:s}},"parseUrl")});var zt=v((Tse,j_)=>{var rs=Object.defineProperty,H1=Object.getOwnPropertyDescriptor,G1=Object.getOwnPropertyNames,$1=Object.prototype.hasOwnProperty,hd=(e,t)=>rs(e,"name",{value:t,configurable:!0}),z1=(e,t)=>{for(var r in t)rs(e,r,{get:t[r],enumerable:!0})},W1=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of G1(t))!$1.call(e,o)&&o!==r&&rs(e,o,{get:()=>t[o],enumerable:!(n=H1(t,o))||n.enumerable});return e},V1=e=>W1(rs({},"__esModule",{value:!0}),e),M_={};z1(M_,{deserializerMiddleware:()=>K_,deserializerMiddlewareOption:()=>L_,getSerdePlugin:()=>q_,serializerMiddleware:()=>F_,serializerMiddlewareOption:()=>U_});j_.exports=V1(M_);var K_=hd((e,t)=>(r,n)=>async o=>{let{response:i}=await r(o);try{let s=await t(i,e);return{response:i,output:s}}catch(s){if(Object.defineProperty(s,"$response",{value:i}),!("$metadata"in s)){let a="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";s.message+=`
  `+a,typeof s.$responseBodyText<"u"&&s.$response&&(s.$response.body=s.$responseBodyText)}throw s}},"deserializerMiddleware"),F_=hd((e,t)=>(r,n)=>async o=>{var i;let s=(i=n.endpointV2)!=null&&i.url&&e.urlParser?async()=>e.urlParser(n.endpointV2.url):e.endpoint;if(!s)throw new Error("No valid endpoint provider available.");let a=await t(o.input,{...e,endpoint:s});return r({...o,request:a})},"serializerMiddleware"),L_={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},U_={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function q_(e,t,r){return{applyToStack:n=>{n.add(K_(e,r),L_),n.add(F_(e,t),U_)}}}hd(q_,"getSerdePlugin")});var At=v((Nse,B_)=>{var os=Object.defineProperty,B1=Object.getOwnPropertyDescriptor,X1=Object.getOwnPropertyNames,J1=Object.prototype.hasOwnProperty,vt=(e,t)=>os(e,"name",{value:t,configurable:!0}),Y1=(e,t)=>{for(var r in t)os(e,r,{get:t[r],enumerable:!0})},Q1=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of X1(t))!J1.call(e,o)&&o!==r&&os(e,o,{get:()=>t[o],enumerable:!(n=B1(t,o))||n.enumerable});return e},Z1=e=>Q1(os({},"__esModule",{value:!0}),e),G_={};Y1(G_,{endpointMiddleware:()=>W_,endpointMiddlewareOptions:()=>V_,getEndpointFromInstructions:()=>$_,getEndpointPlugin:()=>dq,resolveEndpointConfig:()=>lq,resolveParams:()=>z_,toEndpointV1:()=>Sd});B_.exports=Z1(G_);var eq=vt(async e=>{let t=e?.Bucket||"";if(typeof e.Bucket=="string"&&(e.Bucket=t.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),iq(t)){if(e.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!oq(t)||t.indexOf(".")!==-1&&!String(e.Endpoint).startsWith("http:")||t.toLowerCase()!==t||t.length<3)&&(e.ForcePathStyle=!0);return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e},"resolveParamsForS3"),tq=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,rq=/(\d+\.){3}\d+/,nq=/\.\./,oq=vt(e=>tq.test(e)&&!rq.test(e)&&!nq.test(e),"isDnsCompatibleBucketName"),iq=vt(e=>{let[t,r,n,,,o]=e.split(":"),i=t==="arn"&&e.split(":").length>=6,s=!!(i&&r&&n&&o);if(i&&!s)throw new Error(`Invalid ARN: ${e} was an invalid ARN.`);return s},"isArnBucketName"),sq=vt((e,t,r)=>{let n=vt(async()=>{let o=r[e]??r[t];return typeof o=="function"?o():o},"configProvider");return e==="credentialScope"||t==="CredentialScope"?async()=>{let o=typeof r.credentials=="function"?await r.credentials():r.credentials;return o?.credentialScope??o?.CredentialScope}:e==="endpoint"||t==="endpoint"?async()=>{let o=await n();if(o&&typeof o=="object"){if("url"in o)return o.url.href;if("hostname"in o){let{protocol:i,hostname:s,port:a,path:c}=o;return`${i}//${s}${a?":"+a:""}${c}`}}return o}:n},"createConfigValueProvider"),aq=b_(),H_=$t(),Sd=vt(e=>typeof e=="object"?"url"in e?(0,H_.parseUrl)(e.url):e:(0,H_.parseUrl)(e),"toEndpointV1"),$_=vt(async(e,t,r,n)=>{if(!r.endpoint){let s=await(0,aq.getEndpointFromConfig)(r.serviceId||"");s&&(r.endpoint=()=>Promise.resolve(Sd(s)))}let o=await z_(e,t,r);if(typeof r.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return r.endpointProvider(o,n)},"getEndpointFromInstructions"),z_=vt(async(e,t,r)=>{var n;let o={},i=((n=t?.getEndpointParameterInstructions)==null?void 0:n.call(t))||{};for(let[s,a]of Object.entries(i))switch(a.type){case"staticContextParams":o[s]=a.value;break;case"contextParams":o[s]=e[a.name];break;case"clientContextParams":case"builtInParams":o[s]=await sq(a.name,s,r)();break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(a))}return Object.keys(i).length===0&&Object.assign(o,r),String(r.serviceId).toLowerCase()==="s3"&&await eq(o),o},"resolveParams"),ns=Ve(),W_=vt(({config:e,instructions:t})=>(r,n)=>async o=>{var i,s,a;let c=await $_(o.input,{getEndpointParameterInstructions(){return t}},{...e},n);n.endpointV2=c,n.authSchemes=(i=c.properties)==null?void 0:i.authSchemes;let l=(s=n.authSchemes)==null?void 0:s[0];if(l){n.signing_region=l.signingRegion,n.signing_service=l.signingName;let p=(0,ns.getSmithyContext)(n),m=(a=p?.selectedHttpAuthScheme)==null?void 0:a.httpAuthOption;m&&(m.signingProperties=Object.assign(m.signingProperties||{},{signing_region:l.signingRegion,signingRegion:l.signingRegion,signing_service:l.signingName,signingName:l.signingName,signingRegionSet:l.signingRegionSet},l.properties))}return r({...o})},"endpointMiddleware"),cq=zt(),V_={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:cq.serializerMiddlewareOption.name},dq=vt((e,t)=>({applyToStack:r=>{r.addRelativeTo(W_({config:e,instructions:t}),V_)}}),"getEndpointPlugin"),lq=vt(e=>{let t=e.tls??!0,{endpoint:r}=e,n=r!=null?async()=>Sd(await(0,ns.normalizeProvider)(r)()):void 0;return{...e,endpoint:n,tls:t,isCustomEndpoint:!!r,useDualstackEndpoint:(0,ns.normalizeProvider)(e.useDualstackEndpoint??!1),useFipsEndpoint:(0,ns.normalizeProvider)(e.useFipsEndpoint??!1)}},"resolveEndpointConfig")});function bo(){return is>ss.length-16&&(X_.default.randomFillSync(ss),is=0),ss.slice(is,is+=16)}var X_,ss,is,Ed=ve(()=>{X_=ho(require("crypto")),ss=new Uint8Array(256),is=ss.length});var J_,Y_=ve(()=>{J_=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function uq(e){return typeof e=="string"&&J_.test(e)}var pr,Ao=ve(()=>{Y_();pr=uq});function Zr(e,t=0){return ge[e[t+0]]+ge[e[t+1]]+ge[e[t+2]]+ge[e[t+3]]+"-"+ge[e[t+4]]+ge[e[t+5]]+"-"+ge[e[t+6]]+ge[e[t+7]]+"-"+ge[e[t+8]]+ge[e[t+9]]+"-"+ge[e[t+10]]+ge[e[t+11]]+ge[e[t+12]]+ge[e[t+13]]+ge[e[t+14]]+ge[e[t+15]]}function pq(e,t=0){let r=Zr(e,t);if(!pr(r))throw TypeError("Stringified UUID is invalid");return r}var ge,Q_,Io=ve(()=>{Ao();ge=[];for(let e=0;e<256;++e)ge.push((e+256).toString(16).slice(1));Q_=pq});function mq(e,t,r){let n=t&&r||0,o=t||new Array(16);e=e||{};let i=e.node||Z_,s=e.clockseq!==void 0?e.clockseq:Cd;if(i==null||s==null){let f=e.random||(e.rng||bo)();i==null&&(i=Z_=[f[0]|1,f[1],f[2],f[3],f[4],f[5]]),s==null&&(s=Cd=(f[6]<<8|f[7])&16383)}let a=e.msecs!==void 0?e.msecs:Date.now(),c=e.nsecs!==void 0?e.nsecs:wd+1,l=a-Pd+(c-wd)/1e4;if(l<0&&e.clockseq===void 0&&(s=s+1&16383),(l<0||a>Pd)&&e.nsecs===void 0&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Pd=a,wd=c,Cd=s,a+=122192928e5;let p=((a&268435455)*1e4+c)%4294967296;o[n++]=p>>>24&255,o[n++]=p>>>16&255,o[n++]=p>>>8&255,o[n++]=p&255;let m=a/4294967296*1e4&268435455;o[n++]=m>>>8&255,o[n++]=m&255,o[n++]=m>>>24&15|16,o[n++]=m>>>16&255,o[n++]=s>>>8|128,o[n++]=s&255;for(let f=0;f<6;++f)o[n+f]=i[f];return t||Zr(o)}var Z_,Cd,Pd,wd,ev,tv=ve(()=>{Ed();Io();Pd=0,wd=0;ev=mq});function fq(e){if(!pr(e))throw TypeError("Invalid UUID");let t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=t&255,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=t&255,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=t&255,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=t&255,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=t&255,r}var as,xd=ve(()=>{Ao();as=fq});function _q(e){e=unescape(encodeURIComponent(e));let t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}function Oo(e,t,r){function n(o,i,s,a){var c;if(typeof o=="string"&&(o=_q(o)),typeof i=="string"&&(i=as(i)),((c=i)===null||c===void 0?void 0:c.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let l=new Uint8Array(16+o.length);if(l.set(i),l.set(o,i.length),l=r(l),l[6]=l[6]&15|t,l[8]=l[8]&63|128,s){a=a||0;for(let p=0;p<16;++p)s[a+p]=l[p];return s}return Zr(l)}try{n.name=e}catch{}return n.DNS=vq,n.URL=gq,n}var vq,gq,Rd=ve(()=>{Io();xd();vq="6ba7b810-9dad-11d1-80b4-00c04fd430c8",gq="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});function yq(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),rv.default.createHash("md5").update(e).digest()}var rv,nv,ov=ve(()=>{rv=ho(require("crypto"));nv=yq});var hq,iv,sv=ve(()=>{Rd();ov();hq=Oo("v3",48,nv),iv=hq});var av,bd,cv=ve(()=>{av=ho(require("crypto")),bd={randomUUID:av.default.randomUUID}});function Sq(e,t,r){if(bd.randomUUID&&!t&&!e)return bd.randomUUID();e=e||{};let n=e.random||(e.rng||bo)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(let o=0;o<16;++o)t[r+o]=n[o];return t}return Zr(n)}var dv,lv=ve(()=>{cv();Ed();Io();dv=Sq});function Eq(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),uv.default.createHash("sha1").update(e).digest()}var uv,pv,mv=ve(()=>{uv=ho(require("crypto"));pv=Eq});var Cq,fv,_v=ve(()=>{Rd();mv();Cq=Oo("v5",80,pv),fv=Cq});var vv,gv=ve(()=>{vv="00000000-0000-0000-0000-000000000000"});function Pq(e){if(!pr(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)}var yv,hv=ve(()=>{Ao();yv=Pq});var Sv={};td(Sv,{NIL:()=>vv,parse:()=>as,stringify:()=>Q_,v1:()=>ev,v3:()=>iv,v4:()=>dv,v5:()=>fv,validate:()=>pr,version:()=>yv});var Ev=ve(()=>{tv();sv();lv();_v();gv();hv();Ao();Io();xd()});var Ad=v((yae,xv)=>{var cs=Object.defineProperty,wq=Object.getOwnPropertyDescriptor,xq=Object.getOwnPropertyNames,Rq=Object.prototype.hasOwnProperty,_n=(e,t)=>cs(e,"name",{value:t,configurable:!0}),bq=(e,t)=>{for(var r in t)cs(e,r,{get:t[r],enumerable:!0})},Aq=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of xq(t))!Rq.call(e,o)&&o!==r&&cs(e,o,{get:()=>t[o],enumerable:!(n=wq(t,o))||n.enumerable});return e},Iq=e=>Aq(cs({},"__esModule",{value:!0}),e),Cv={};bq(Cv,{isClockSkewCorrectedError:()=>Pv,isClockSkewError:()=>Kq,isRetryableByTrait:()=>Mq,isServerError:()=>Lq,isThrottlingError:()=>Fq,isTransientError:()=>wv});xv.exports=Iq(Cv);var Oq=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],Tq=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],Nq=["TimeoutError","RequestTimeout","RequestTimeoutException"],Dq=[500,502,503,504],kq=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],Mq=_n(e=>e.$retryable!==void 0,"isRetryableByTrait"),Kq=_n(e=>Oq.includes(e.name),"isClockSkewError"),Pv=_n(e=>{var t;return(t=e.$metadata)==null?void 0:t.clockSkewCorrected},"isClockSkewCorrectedError"),Fq=_n(e=>{var t,r;return((t=e.$metadata)==null?void 0:t.httpStatusCode)===429||Tq.includes(e.name)||((r=e.$retryable)==null?void 0:r.throttling)==!0},"isThrottlingError"),wv=_n(e=>{var t;return Pv(e)||Nq.includes(e.name)||kq.includes(e?.code||"")||Dq.includes(((t=e.$metadata)==null?void 0:t.httpStatusCode)||0)},"isTransientError"),Lq=_n(e=>{var t;if(((t=e.$metadata)==null?void 0:t.httpStatusCode)!==void 0){let r=e.$metadata.httpStatusCode;return 500<=r&&r<=599&&!wv(e)}return!1},"isServerError")});var mr=v((Pae,Lv)=>{var ds=Object.defineProperty,Uq=Object.getOwnPropertyDescriptor,qq=Object.getOwnPropertyNames,jq=Object.prototype.hasOwnProperty,gt=(e,t)=>ds(e,"name",{value:t,configurable:!0}),Hq=(e,t)=>{for(var r in t)ds(e,r,{get:t[r],enumerable:!0})},Gq=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of qq(t))!jq.call(e,o)&&o!==r&&ds(e,o,{get:()=>t[o],enumerable:!(n=Uq(t,o))||n.enumerable});return e},$q=e=>Gq(ds({},"__esModule",{value:!0}),e),bv={};Hq(bv,{AdaptiveRetryStrategy:()=>Jq,ConfiguredRetryStrategy:()=>Yq,DEFAULT_MAX_ATTEMPTS:()=>Id,DEFAULT_RETRY_DELAY_BASE:()=>To,DEFAULT_RETRY_MODE:()=>zq,DefaultRateLimiter:()=>Ov,INITIAL_RETRY_TOKENS:()=>Od,INVOCATION_ID_HEADER:()=>Vq,MAXIMUM_RETRY_DELAY:()=>Td,NO_RETRY_INCREMENT:()=>kv,REQUEST_HEADER:()=>Bq,RETRY_COST:()=>Nv,RETRY_MODES:()=>Av,StandardRetryStrategy:()=>Nd,THROTTLING_RETRY_DELAY_BASE:()=>Tv,TIMEOUT_RETRY_COST:()=>Dv});Lv.exports=$q(bv);var Av=(e=>(e.STANDARD="standard",e.ADAPTIVE="adaptive",e))(Av||{}),Id=3,zq="standard",Wq=Ad(),Iv=class{constructor(t){this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=t?.beta??.7,this.minCapacity=t?.minCapacity??1,this.minFillRate=t?.minFillRate??.5,this.scaleConstant=t?.scaleConstant??.4,this.smooth=t?.smooth??.8;let r=this.getCurrentTimeInSeconds();this.lastThrottleTime=r,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(t){if(this.enabled){if(this.refillTokenBucket(),t>this.currentCapacity){let r=(t-this.currentCapacity)/this.fillRate*1e3;await new Promise(n=>setTimeout(n,r))}this.currentCapacity=this.currentCapacity-t}}refillTokenBucket(){let t=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=t;return}let r=(t-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+r),this.lastTimestamp=t}updateClientSendingRate(t){let r;if(this.updateMeasuredRate(),(0,Wq.isThrottlingError)(t)){let o=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=o,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),r=this.cubicThrottle(o),this.enableTokenBucket()}else this.calculateTimeWindow(),r=this.cubicSuccess(this.getCurrentTimeInSeconds());let n=Math.min(r,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(t){return this.getPrecise(t*this.beta)}cubicSuccess(t){return this.getPrecise(this.scaleConstant*Math.pow(t-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(t){this.refillTokenBucket(),this.fillRate=Math.max(t,this.minFillRate),this.maxCapacity=Math.max(t,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let t=this.getCurrentTimeInSeconds(),r=Math.floor(t*2)/2;if(this.requestCount++,r>this.lastTxRateBucket){let n=this.requestCount/(r-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=r}}getPrecise(t){return parseFloat(t.toFixed(8))}};gt(Iv,"DefaultRateLimiter");var Ov=Iv,To=100,Td=20*1e3,Tv=500,Od=500,Nv=5,Dv=10,kv=1,Vq="amz-sdk-invocation-id",Bq="amz-sdk-request",Xq=gt(()=>{let e=To;return{computeNextBackoffDelay:gt(n=>Math.floor(Math.min(Td,Math.random()*2**n*e)),"computeNextBackoffDelay"),setDelayBase:gt(n=>{e=n},"setDelayBase")}},"getDefaultRetryBackoffStrategy"),Rv=gt(({retryDelay:e,retryCount:t,retryCost:r})=>({getRetryCount:gt(()=>t,"getRetryCount"),getRetryDelay:gt(()=>Math.min(Td,e),"getRetryDelay"),getRetryCost:gt(()=>r,"getRetryCost")}),"createDefaultRetryToken"),Mv=class{constructor(t){this.maxAttempts=t,this.mode="standard",this.capacity=Od,this.retryBackoffStrategy=Xq(),this.maxAttemptsProvider=typeof t=="function"?t:async()=>t}async acquireInitialRetryToken(t){return Rv({retryDelay:To,retryCount:0})}async refreshRetryTokenForRetry(t,r){let n=await this.getMaxAttempts();if(this.shouldRetry(t,r,n)){let o=r.errorType;this.retryBackoffStrategy.setDelayBase(o==="THROTTLING"?Tv:To);let i=this.retryBackoffStrategy.computeNextBackoffDelay(t.getRetryCount()),s=r.retryAfterHint?Math.max(r.retryAfterHint.getTime()-Date.now()||0,i):i,a=this.getCapacityCost(o);return this.capacity-=a,Rv({retryDelay:s,retryCount:t.getRetryCount()+1,retryCost:a})}throw new Error("No retry token available")}recordSuccess(t){this.capacity=Math.max(Od,this.capacity+(t.getRetryCost()??kv))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${Id}`),Id}}shouldRetry(t,r,n){return t.getRetryCount()+1<n&&this.capacity>=this.getCapacityCost(r.errorType)&&this.isRetryableError(r.errorType)}getCapacityCost(t){return t==="TRANSIENT"?Dv:Nv}isRetryableError(t){return t==="THROTTLING"||t==="TRANSIENT"}};gt(Mv,"StandardRetryStrategy");var Nd=Mv,Kv=class{constructor(t,r){this.maxAttemptsProvider=t,this.mode="adaptive";let{rateLimiter:n}=r??{};this.rateLimiter=n??new Ov,this.standardRetryStrategy=new Nd(t)}async acquireInitialRetryToken(t){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(t)}async refreshRetryTokenForRetry(t,r){return this.rateLimiter.updateClientSendingRate(r),this.standardRetryStrategy.refreshRetryTokenForRetry(t,r)}recordSuccess(t){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(t)}};gt(Kv,"AdaptiveRetryStrategy");var Jq=Kv,Fv=class extends Nd{constructor(t,r=To){super(typeof t=="function"?t:async()=>t),typeof r=="number"?this.computeNextBackoffDelay=()=>r:this.computeNextBackoffDelay=r}async refreshRetryTokenForRetry(t,r){let n=await super.refreshRetryTokenForRetry(t,r);return n.getRetryDelay=()=>this.computeNextBackoffDelay(n.getRetryCount()),n}};gt(Fv,"ConfiguredRetryStrategy");var Yq=Fv});var Gv=v((wae,Hv)=>{var ls=Object.defineProperty,Qq=Object.getOwnPropertyDescriptor,Zq=Object.getOwnPropertyNames,ej=Object.prototype.hasOwnProperty,Je=(e,t)=>ls(e,"name",{value:t,configurable:!0}),tj=(e,t)=>{for(var r in t)ls(e,r,{get:t[r],enumerable:!0})},rj=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Zq(t))!ej.call(e,o)&&o!==r&&ls(e,o,{get:()=>t[o],enumerable:!(n=Qq(t,o))||n.enumerable});return e},nj=e=>rj(ls({},"__esModule",{value:!0}),e),jv={};tj(jv,{constructStack:()=>Dd});Hv.exports=nj(jv);var en=Je((e,t)=>{let r=[];if(e&&r.push(e),t)for(let n of t)r.push(n);return r},"getAllAliases"),fr=Je((e,t)=>`${e||"anonymous"}${t&&t.length>0?` (a.k.a. ${t.join(",")})`:""}`,"getMiddlewareNameWithAliases"),Dd=Je(()=>{let e=[],t=[],r=!1,n=new Set,o=Je(m=>m.sort((f,_)=>Uv[_.step]-Uv[f.step]||qv[_.priority||"normal"]-qv[f.priority||"normal"]),"sort"),i=Je(m=>{let f=!1,_=Je(g=>{let S=en(g.name,g.aliases);if(S.includes(m)){f=!0;for(let P of S)n.delete(P);return!1}return!0},"filterCb");return e=e.filter(_),t=t.filter(_),f},"removeByName"),s=Je(m=>{let f=!1,_=Je(g=>{if(g.middleware===m){f=!0;for(let S of en(g.name,g.aliases))n.delete(S);return!1}return!0},"filterCb");return e=e.filter(_),t=t.filter(_),f},"removeByReference"),a=Je(m=>{var f;return e.forEach(_=>{m.add(_.middleware,{..._})}),t.forEach(_=>{m.addRelativeTo(_.middleware,{..._})}),(f=m.identifyOnResolve)==null||f.call(m,p.identifyOnResolve()),m},"cloneTo"),c=Je(m=>{let f=[];return m.before.forEach(_=>{_.before.length===0&&_.after.length===0?f.push(_):f.push(...c(_))}),f.push(m),m.after.reverse().forEach(_=>{_.before.length===0&&_.after.length===0?f.push(_):f.push(...c(_))}),f},"expandRelativeMiddlewareList"),l=Je((m=!1)=>{let f=[],_=[],g={};return e.forEach(P=>{let x={...P,before:[],after:[]};for(let R of en(x.name,x.aliases))g[R]=x;f.push(x)}),t.forEach(P=>{let x={...P,before:[],after:[]};for(let R of en(x.name,x.aliases))g[R]=x;_.push(x)}),_.forEach(P=>{if(P.toMiddleware){let x=g[P.toMiddleware];if(x===void 0){if(m)return;throw new Error(`${P.toMiddleware} is not found when adding ${fr(P.name,P.aliases)} middleware ${P.relation} ${P.toMiddleware}`)}P.relation==="after"&&x.after.push(P),P.relation==="before"&&x.before.push(P)}}),o(f).map(c).reduce((P,x)=>(P.push(...x),P),[])},"getMiddlewareList"),p={add:(m,f={})=>{let{name:_,override:g,aliases:S}=f,P={step:"initialize",priority:"normal",middleware:m,...f},x=en(_,S);if(x.length>0){if(x.some(R=>n.has(R))){if(!g)throw new Error(`Duplicate middleware name '${fr(_,S)}'`);for(let R of x){let de=e.findIndex(We=>{var dr;return We.name===R||((dr=We.aliases)==null?void 0:dr.some(Jr=>Jr===R))});if(de===-1)continue;let H=e[de];if(H.step!==P.step||P.priority!==H.priority)throw new Error(`"${fr(H.name,H.aliases)}" middleware with ${H.priority} priority in ${H.step} step cannot be overridden by "${fr(_,S)}" middleware with ${P.priority} priority in ${P.step} step.`);e.splice(de,1)}}for(let R of x)n.add(R)}e.push(P)},addRelativeTo:(m,f)=>{let{name:_,override:g,aliases:S}=f,P={middleware:m,...f},x=en(_,S);if(x.length>0){if(x.some(R=>n.has(R))){if(!g)throw new Error(`Duplicate middleware name '${fr(_,S)}'`);for(let R of x){let de=t.findIndex(We=>{var dr;return We.name===R||((dr=We.aliases)==null?void 0:dr.some(Jr=>Jr===R))});if(de===-1)continue;let H=t[de];if(H.toMiddleware!==P.toMiddleware||H.relation!==P.relation)throw new Error(`"${fr(H.name,H.aliases)}" middleware ${H.relation} "${H.toMiddleware}" middleware cannot be overridden by "${fr(_,S)}" middleware ${P.relation} "${P.toMiddleware}" middleware.`);t.splice(de,1)}}for(let R of x)n.add(R)}t.push(P)},clone:()=>a(Dd()),use:m=>{m.applyToStack(p)},remove:m=>typeof m=="string"?i(m):s(m),removeByTag:m=>{let f=!1,_=Je(g=>{let{tags:S,name:P,aliases:x}=g;if(S&&S.includes(m)){let R=en(P,x);for(let de of R)n.delete(de);return f=!0,!1}return!0},"filterCb");return e=e.filter(_),t=t.filter(_),f},concat:m=>{var f;let _=a(Dd());return _.use(m),_.identifyOnResolve(r||_.identifyOnResolve()||(((f=m.identifyOnResolve)==null?void 0:f.call(m))??!1)),_},applyToStack:a,identify:()=>l(!0).map(m=>{let f=m.step??m.relation+" "+m.toMiddleware;return fr(m.name,m.aliases)+" - "+f}),identifyOnResolve(m){return typeof m=="boolean"&&(r=m),r},resolve:(m,f)=>{for(let _ of l().map(g=>g.middleware).reverse())m=_(m,f);return r&&console.log(p.identify()),m}};return p},"constructStack"),Uv={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},qv={high:3,normal:2,low:1}});var kd=v((xae,zv)=>{var us=Object.defineProperty,oj=Object.getOwnPropertyDescriptor,ij=Object.getOwnPropertyNames,sj=Object.prototype.hasOwnProperty,aj=(e,t)=>us(e,"name",{value:t,configurable:!0}),cj=(e,t)=>{for(var r in t)us(e,r,{get:t[r],enumerable:!0})},dj=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of ij(t))!sj.call(e,o)&&o!==r&&us(e,o,{get:()=>t[o],enumerable:!(n=oj(t,o))||n.enumerable});return e},lj=e=>dj(us({},"__esModule",{value:!0}),e),$v={};cj($v,{isArrayBuffer:()=>uj});zv.exports=lj($v);var uj=aj(e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]","isArrayBuffer")});var vn=v((Rae,Bv)=>{var ps=Object.defineProperty,pj=Object.getOwnPropertyDescriptor,mj=Object.getOwnPropertyNames,fj=Object.prototype.hasOwnProperty,Wv=(e,t)=>ps(e,"name",{value:t,configurable:!0}),_j=(e,t)=>{for(var r in t)ps(e,r,{get:t[r],enumerable:!0})},vj=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of mj(t))!fj.call(e,o)&&o!==r&&ps(e,o,{get:()=>t[o],enumerable:!(n=pj(t,o))||n.enumerable});return e},gj=e=>vj(ps({},"__esModule",{value:!0}),e),Vv={};_j(Vv,{fromArrayBuffer:()=>hj,fromString:()=>Sj});Bv.exports=gj(Vv);var yj=kd(),Md=require("buffer"),hj=Wv((e,t=0,r=e.byteLength-t)=>{if(!(0,yj.isArrayBuffer)(e))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof e} (${e})`);return Md.Buffer.from(e,t,r)},"fromArrayBuffer"),Sj=Wv((e,t)=>{if(typeof e!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof e} (${e})`);return t?Md.Buffer.from(e,t):Md.Buffer.from(e)},"fromString")});var Xv=v(ms=>{"use strict";Object.defineProperty(ms,"__esModule",{value:!0});ms.fromBase64=void 0;var Ej=vn(),Cj=/^[A-Za-z0-9+/]*={0,2}$/,Pj=e=>{if(e.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!Cj.exec(e))throw new TypeError("Invalid base64 string.");let t=(0,Ej.fromString)(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)};ms.fromBase64=Pj});var Fe=v((Aae,Zv)=>{var fs=Object.defineProperty,wj=Object.getOwnPropertyDescriptor,xj=Object.getOwnPropertyNames,Rj=Object.prototype.hasOwnProperty,Kd=(e,t)=>fs(e,"name",{value:t,configurable:!0}),bj=(e,t)=>{for(var r in t)fs(e,r,{get:t[r],enumerable:!0})},Aj=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of xj(t))!Rj.call(e,o)&&o!==r&&fs(e,o,{get:()=>t[o],enumerable:!(n=wj(t,o))||n.enumerable});return e},Ij=e=>Aj(fs({},"__esModule",{value:!0}),e),Jv={};bj(Jv,{fromUtf8:()=>Qv,toUint8Array:()=>Oj,toUtf8:()=>Tj});Zv.exports=Ij(Jv);var Yv=vn(),Qv=Kd(e=>{let t=(0,Yv.fromString)(e,"utf8");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT)},"fromUtf8"),Oj=Kd(e=>typeof e=="string"?Qv(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),"toUint8Array"),Tj=Kd(e=>{if(typeof e=="string")return e;if(typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return(0,Yv.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength).toString("utf8")},"toUtf8")});var eg=v(_s=>{"use strict";Object.defineProperty(_s,"__esModule",{value:!0});_s.toBase64=void 0;var Nj=vn(),Dj=Fe(),kj=e=>{let t;if(typeof e=="string"?t=(0,Dj.fromUtf8)(e):t=e,typeof t!="object"||typeof t.byteOffset!="number"||typeof t.byteLength!="number")throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");return(0,Nj.fromArrayBuffer)(t.buffer,t.byteOffset,t.byteLength).toString("base64")};_s.toBase64=kj});var _r=v((Oae,vs)=>{var tg=Object.defineProperty,Mj=Object.getOwnPropertyDescriptor,Kj=Object.getOwnPropertyNames,Fj=Object.prototype.hasOwnProperty,Fd=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Kj(t))!Fj.call(e,o)&&o!==r&&tg(e,o,{get:()=>t[o],enumerable:!(n=Mj(t,o))||n.enumerable});return e},rg=(e,t,r)=>(Fd(e,t,"default"),r&&Fd(r,t,"default")),Lj=e=>Fd(tg({},"__esModule",{value:!0}),e),Ld={};vs.exports=Lj(Ld);rg(Ld,Xv(),vs.exports);rg(Ld,eg(),vs.exports)});var ng=v(gs=>{"use strict";Object.defineProperty(gs,"__esModule",{value:!0});gs.getAwsChunkedEncodingStream=void 0;var Uj=require("stream"),qj=(e,t)=>{let{base64Encoder:r,bodyLengthChecker:n,checksumAlgorithmFn:o,checksumLocationName:i,streamHasher:s}=t,a=r!==void 0&&o!==void 0&&i!==void 0&&s!==void 0,c=a?s(o,e):void 0,l=new Uj.Readable({read:()=>{}});return e.on("data",p=>{let m=n(p)||0;l.push(`${m.toString(16)}\r
`),l.push(p),l.push(`\r
`)}),e.on("end",async()=>{if(l.push(`0\r
`),a){let p=r(await c);l.push(`${i}:${p}\r
`),l.push(`\r
`)}l.push(null)}),l};gs.getAwsChunkedEncodingStream=qj});var qd=v((Nae,sg)=>{var ys=Object.defineProperty,jj=Object.getOwnPropertyDescriptor,Hj=Object.getOwnPropertyNames,Gj=Object.prototype.hasOwnProperty,Ud=(e,t)=>ys(e,"name",{value:t,configurable:!0}),$j=(e,t)=>{for(var r in t)ys(e,r,{get:t[r],enumerable:!0})},zj=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Hj(t))!Gj.call(e,o)&&o!==r&&ys(e,o,{get:()=>t[o],enumerable:!(n=jj(t,o))||n.enumerable});return e},Wj=e=>zj(ys({},"__esModule",{value:!0}),e),og={};$j(og,{escapeUri:()=>ig,escapeUriPath:()=>Bj});sg.exports=Wj(og);var ig=Ud(e=>encodeURIComponent(e).replace(/[!'()*]/g,Vj),"escapeUri"),Vj=Ud(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`,"hexEncode"),Bj=Ud(e=>e.split("/").map(ig).join("/"),"escapeUriPath")});var lg=v((Dae,dg)=>{var hs=Object.defineProperty,Xj=Object.getOwnPropertyDescriptor,Jj=Object.getOwnPropertyNames,Yj=Object.prototype.hasOwnProperty,Qj=(e,t)=>hs(e,"name",{value:t,configurable:!0}),Zj=(e,t)=>{for(var r in t)hs(e,r,{get:t[r],enumerable:!0})},eH=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Jj(t))!Yj.call(e,o)&&o!==r&&hs(e,o,{get:()=>t[o],enumerable:!(n=Xj(t,o))||n.enumerable});return e},tH=e=>eH(hs({},"__esModule",{value:!0}),e),ag={};Zj(ag,{buildQueryString:()=>cg});dg.exports=tH(ag);var jd=qd();function cg(e){let t=[];for(let r of Object.keys(e).sort()){let n=e[r];if(r=(0,jd.escapeUri)(r),Array.isArray(n))for(let o=0,i=n.length;o<i;o++)t.push(`${r}=${(0,jd.escapeUri)(n[o])}`);else{let o=r;(n||typeof n=="string")&&(o+=`=${(0,jd.escapeUri)(n)}`),t.push(o)}}return t.join("&")}Qj(cg,"buildQueryString")});var It=v((Fae,Rg)=>{var rH=Object.create,No=Object.defineProperty,nH=Object.getOwnPropertyDescriptor,oH=Object.getOwnPropertyNames,iH=Object.getPrototypeOf,sH=Object.prototype.hasOwnProperty,_e=(e,t)=>No(e,"name",{value:t,configurable:!0}),aH=(e,t)=>{for(var r in t)No(e,r,{get:t[r],enumerable:!0})},mg=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of oH(t))!sH.call(e,o)&&o!==r&&No(e,o,{get:()=>t[o],enumerable:!(n=nH(t,o))||n.enumerable});return e},cH=(e,t,r)=>(r=e!=null?rH(iH(e)):{},mg(t||!e||!e.__esModule?No(r,"default",{value:e,enumerable:!0}):r,e)),dH=e=>mg(No({},"__esModule",{value:!0}),e),fg={};aH(fg,{DEFAULT_REQUEST_TIMEOUT:()=>fH,NodeHttp2Handler:()=>hH,NodeHttpHandler:()=>_H,streamCollector:()=>EH});Rg.exports=dH(fg);var _g=ae(),vg=lg(),Hd=require("http"),Gd=require("https"),lH=["ECONNRESET","EPIPE","ETIMEDOUT"],gg=_e(e=>{let t={};for(let r of Object.keys(e)){let n=e[r];t[r]=Array.isArray(n)?n.join(","):n}return t},"getTransformedHeaders"),uH=_e((e,t,r=0)=>{if(!r)return;let n=setTimeout(()=>{e.destroy(),t(Object.assign(new Error(`Socket timed out without establishing a connection within ${r} ms`),{name:"TimeoutError"}))},r);e.on("socket",o=>{o.connecting?o.on("connect",()=>{clearTimeout(n)}):clearTimeout(n)})},"setConnectionTimeout"),pH=_e((e,{keepAlive:t,keepAliveMsecs:r})=>{t===!0&&e.on("socket",n=>{n.setKeepAlive(t,r||0)})},"setSocketKeepAlive"),mH=_e((e,t,r=0)=>{e.setTimeout(r,()=>{e.destroy(),t(Object.assign(new Error(`Connection timed out after ${r} ms`),{name:"TimeoutError"}))})},"setSocketTimeout"),yg=require("stream"),ug=1e3;async function zd(e,t,r=ug){let n=t.headers??{},o=n.Expect||n.expect,i=-1,s=!1;o==="100-continue"&&await Promise.race([new Promise(a=>{i=Number(setTimeout(a,Math.max(ug,r)))}),new Promise(a=>{e.on("continue",()=>{clearTimeout(i),a()}),e.on("error",()=>{s=!0,clearTimeout(i),a()})})]),s||hg(e,t.body)}_e(zd,"writeRequestBody");function hg(e,t){if(t instanceof yg.Readable){t.pipe(e);return}if(t){if(Buffer.isBuffer(t)||typeof t=="string"){e.end(t);return}let r=t;if(typeof r=="object"&&r.buffer&&typeof r.byteOffset=="number"&&typeof r.byteLength=="number"){e.end(Buffer.from(r.buffer,r.byteOffset,r.byteLength));return}e.end(Buffer.from(t));return}e.end()}_e(hg,"writeBody");var fH=0,Sg=class $d{constructor(t){this.socketWarningTimestamp=0,this.metadata={handlerProtocol:"http/1.1"},this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(o=>{r(this.resolveDefaultConfig(o))}).catch(n):r(this.resolveDefaultConfig(t))})}static create(t){return typeof t?.handle=="function"?t:new $d(t)}static checkSocketUsage(t,r){var n,o;let{sockets:i,requests:s,maxSockets:a}=t;if(typeof a!="number"||a===1/0||Date.now()-15e3<r)return r;if(i&&s)for(let l in i){let p=((n=i[l])==null?void 0:n.length)??0,m=((o=s[l])==null?void 0:o.length)??0;if(p>=a&&m>=2*a)return console.warn("@smithy/node-http-handler:WARN",`socket usage at capacity=${p} and ${m} additional requests are enqueued.`,"See https://docs.aws.amazon.com/sdk-for-javascript/v3/developer-guide/node-configuring-maxsockets.html","or increase socketAcquisitionWarningTimeout=(millis) in the NodeHttpHandler config."),Date.now()}return r}resolveDefaultConfig(t){let{requestTimeout:r,connectionTimeout:n,socketTimeout:o,httpAgent:i,httpsAgent:s}=t||{},a=!0,c=50;return{connectionTimeout:n,requestTimeout:r??o,httpAgent:i instanceof Hd.Agent||typeof i?.destroy=="function"?i:new Hd.Agent({keepAlive:a,maxSockets:c,...i}),httpsAgent:s instanceof Gd.Agent||typeof s?.destroy=="function"?s:new Gd.Agent({keepAlive:a,maxSockets:c,...s})}}destroy(){var t,r,n,o;(r=(t=this.config)==null?void 0:t.httpAgent)==null||r.destroy(),(o=(n=this.config)==null?void 0:n.httpsAgent)==null||o.destroy()}async handle(t,{abortSignal:r}={}){this.config||(this.config=await this.configProvider);let n;return new Promise((o,i)=>{let s,a=_e(async R=>{await s,clearTimeout(n),o(R)},"resolve"),c=_e(async R=>{await s,i(R)},"reject");if(!this.config)throw new Error("Node HTTP request handler config is not resolved");if(r?.aborted){let R=new Error("Request aborted");R.name="AbortError",c(R);return}let l=t.protocol==="https:",p=l?this.config.httpsAgent:this.config.httpAgent;n=setTimeout(()=>{this.socketWarningTimestamp=$d.checkSocketUsage(p,this.socketWarningTimestamp)},this.config.socketAcquisitionWarningTimeout??(this.config.requestTimeout??2e3)+(this.config.connectionTimeout??1e3));let m=(0,vg.buildQueryString)(t.query||{}),f;if(t.username!=null||t.password!=null){let R=t.username??"",de=t.password??"";f=`${R}:${de}`}let _=t.path;m&&(_+=`?${m}`),t.fragment&&(_+=`#${t.fragment}`);let g={headers:t.headers,host:t.hostname,method:t.method,path:_,port:t.port,agent:p,auth:f},P=(l?Gd.request:Hd.request)(g,R=>{let de=new _g.HttpResponse({statusCode:R.statusCode||-1,reason:R.statusMessage,headers:gg(R.headers),body:R});a({response:de})});P.on("error",R=>{lH.includes(R.code)?c(Object.assign(R,{name:"TimeoutError"})):c(R)}),uH(P,c,this.config.connectionTimeout),mH(P,c,this.config.requestTimeout),r&&(r.onabort=()=>{P.abort();let R=new Error("Request aborted");R.name="AbortError",c(R)});let x=g.agent;typeof x=="object"&&"keepAlive"in x&&pH(P,{keepAlive:x.keepAlive,keepAliveMsecs:x.keepAliveMsecs}),s=zd(P,t,this.config.requestTimeout).catch(i)})}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[t]:r}))}httpHandlerConfigs(){return this.config??{}}};_e(Sg,"NodeHttpHandler");var _H=Sg,pg=require("http2"),vH=cH(require("http2")),Eg=class{constructor(t){this.sessions=[],this.sessions=t??[]}poll(){if(this.sessions.length>0)return this.sessions.shift()}offerLast(t){this.sessions.push(t)}contains(t){return this.sessions.includes(t)}remove(t){this.sessions=this.sessions.filter(r=>r!==t)}[Symbol.iterator](){return this.sessions[Symbol.iterator]()}destroy(t){for(let r of this.sessions)r===t&&(r.destroyed||r.destroy())}};_e(Eg,"NodeHttp2ConnectionPool");var gH=Eg,Cg=class{constructor(t){if(this.sessionCache=new Map,this.config=t,this.config.maxConcurrency&&this.config.maxConcurrency<=0)throw new RangeError("maxConcurrency must be greater than zero.")}lease(t,r){let n=this.getUrlString(t),o=this.sessionCache.get(n);if(o){let c=o.poll();if(c&&!this.config.disableConcurrency)return c}let i=vH.default.connect(n);this.config.maxConcurrency&&i.settings({maxConcurrentStreams:this.config.maxConcurrency},c=>{if(c)throw new Error("Fail to set maxConcurrentStreams to "+this.config.maxConcurrency+"when creating new session for "+t.destination.toString())}),i.unref();let s=_e(()=>{i.destroy(),this.deleteSession(n,i)},"destroySessionCb");i.on("goaway",s),i.on("error",s),i.on("frameError",s),i.on("close",()=>this.deleteSession(n,i)),r.requestTimeout&&i.setTimeout(r.requestTimeout,s);let a=this.sessionCache.get(n)||new gH;return a.offerLast(i),this.sessionCache.set(n,a),i}deleteSession(t,r){let n=this.sessionCache.get(t);n&&n.contains(r)&&(n.remove(r),this.sessionCache.set(t,n))}release(t,r){var n;let o=this.getUrlString(t);(n=this.sessionCache.get(o))==null||n.offerLast(r)}destroy(){for(let[t,r]of this.sessionCache){for(let n of r)n.destroyed||n.destroy(),r.remove(n);this.sessionCache.delete(t)}}setMaxConcurrentStreams(t){if(this.config.maxConcurrency&&this.config.maxConcurrency<=0)throw new RangeError("maxConcurrentStreams must be greater than zero.");this.config.maxConcurrency=t}setDisableConcurrentStreams(t){this.config.disableConcurrency=t}getUrlString(t){return t.destination.toString()}};_e(Cg,"NodeHttp2ConnectionManager");var yH=Cg,Pg=class wg{constructor(t){this.metadata={handlerProtocol:"h2"},this.connectionManager=new yH({}),this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(o=>{r(o||{})}).catch(n):r(t||{})})}static create(t){return typeof t?.handle=="function"?t:new wg(t)}destroy(){this.connectionManager.destroy()}async handle(t,{abortSignal:r}={}){this.config||(this.config=await this.configProvider,this.connectionManager.setDisableConcurrentStreams(this.config.disableConcurrentStreams||!1),this.config.maxConcurrentStreams&&this.connectionManager.setMaxConcurrentStreams(this.config.maxConcurrentStreams));let{requestTimeout:n,disableConcurrentStreams:o}=this.config;return new Promise((i,s)=>{var a;let c=!1,l,p=_e(async le=>{await l,i(le)},"resolve"),m=_e(async le=>{await l,s(le)},"reject");if(r?.aborted){c=!0;let le=new Error("Request aborted");le.name="AbortError",m(le);return}let{hostname:f,method:_,port:g,protocol:S,query:P}=t,x="";if(t.username!=null||t.password!=null){let le=t.username??"",yo=t.password??"";x=`${le}:${yo}@`}let R=`${S}//${x}${f}${g?`:${g}`:""}`,de={destination:new URL(R)},H=this.connectionManager.lease(de,{requestTimeout:(a=this.config)==null?void 0:a.sessionTimeout,disableConcurrentStreams:o||!1}),We=_e(le=>{o&&this.destroySession(H),c=!0,m(le)},"rejectWithDestroy"),dr=(0,vg.buildQueryString)(P||{}),Jr=t.path;dr&&(Jr+=`?${dr}`),t.fragment&&(Jr+=`#${t.fragment}`);let ft=H.request({...t.headers,[pg.constants.HTTP2_HEADER_PATH]:Jr,[pg.constants.HTTP2_HEADER_METHOD]:_});H.ref(),ft.on("response",le=>{let yo=new _g.HttpResponse({statusCode:le[":status"]||-1,headers:gg(le),body:ft});c=!0,p({response:yo}),o&&(H.close(),this.connectionManager.deleteSession(R,H))}),n&&ft.setTimeout(n,()=>{ft.close();let le=new Error(`Stream timed out because of no activity for ${n} ms`);le.name="TimeoutError",We(le)}),r&&(r.onabort=()=>{ft.close();let le=new Error("Request aborted");le.name="AbortError",We(le)}),ft.on("frameError",(le,yo,WK)=>{We(new Error(`Frame type id ${le} in stream id ${WK} has failed with code ${yo}.`))}),ft.on("error",We),ft.on("aborted",()=>{We(new Error(`HTTP/2 stream is abnormally aborted in mid-communication with result code ${ft.rstCode}.`))}),ft.on("close",()=>{H.unref(),o&&H.destroy(),c||We(new Error("Unexpected error: http2 request did not get a response"))}),l=zd(ft,t,n)})}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[t]:r}))}httpHandlerConfigs(){return this.config??{}}destroySession(t){t.destroyed||t.destroy()}};_e(Pg,"NodeHttp2Handler");var hH=Pg,xg=class extends yg.Writable{constructor(){super(...arguments),this.bufferedBytes=[]}_write(t,r,n){this.bufferedBytes.push(t),n()}};_e(xg,"Collector");var SH=xg,EH=_e(e=>new Promise((t,r)=>{let n=new SH;e.pipe(n),e.on("error",o=>{n.end(),r(o)}),n.on("error",r),n.on("finish",function(){let o=new Uint8Array(Buffer.concat(this.bufferedBytes));t(o)})}),"streamCollector")});var Ag=v(Ss=>{"use strict";Object.defineProperty(Ss,"__esModule",{value:!0});Ss.sdkStreamMixin=void 0;var CH=It(),PH=vn(),Wd=require("stream"),wH=require("util"),bg="The stream has already been transformed.",xH=e=>{var t,r;if(!(e instanceof Wd.Readable)){let i=((r=(t=e?.__proto__)===null||t===void 0?void 0:t.constructor)===null||r===void 0?void 0:r.name)||e;throw new Error(`Unexpected stream implementation, expect Stream.Readable instance, got ${i}`)}let n=!1,o=async()=>{if(n)throw new Error(bg);return n=!0,await(0,CH.streamCollector)(e)};return Object.assign(e,{transformToByteArray:o,transformToString:async i=>{let s=await o();return i===void 0||Buffer.isEncoding(i)?(0,PH.fromArrayBuffer)(s.buffer,s.byteOffset,s.byteLength).toString(i):new wH.TextDecoder(i).decode(s)},transformToWebStream:()=>{if(n)throw new Error(bg);if(e.readableFlowing!==null)throw new Error("The stream has been consumed by other callbacks.");if(typeof Wd.Readable.toWeb!="function")throw new Error("Readable.toWeb() is not supported. Please make sure you are using Node.js >= 17.0.0, or polyfill is available.");return n=!0,Wd.Readable.toWeb(e)}})};Ss.sdkStreamMixin=xH});var ws=v((Uae,Ps)=>{var Es=Object.defineProperty,RH=Object.getOwnPropertyDescriptor,bH=Object.getOwnPropertyNames,AH=Object.prototype.hasOwnProperty,Xd=(e,t)=>Es(e,"name",{value:t,configurable:!0}),IH=(e,t)=>{for(var r in t)Es(e,r,{get:t[r],enumerable:!0})},Vd=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of bH(t))!AH.call(e,o)&&o!==r&&Es(e,o,{get:()=>t[o],enumerable:!(n=RH(t,o))||n.enumerable});return e},Ig=(e,t,r)=>(Vd(e,t,"default"),r&&Vd(r,t,"default")),OH=e=>Vd(Es({},"__esModule",{value:!0}),e),Cs={};IH(Cs,{Uint8ArrayBlobAdapter:()=>Bd});Ps.exports=OH(Cs);var Og=_r(),Tg=Fe();function Ng(e,t="utf-8"){return t==="base64"?(0,Og.toBase64)(e):(0,Tg.toUtf8)(e)}Xd(Ng,"transformToString");function Dg(e,t){return t==="base64"?Bd.mutate((0,Og.fromBase64)(e)):Bd.mutate((0,Tg.fromUtf8)(e))}Xd(Dg,"transformFromString");var kg=class Mg extends Uint8Array{static fromString(t,r="utf-8"){switch(typeof t){case"string":return Dg(t,r);default:throw new Error(`Unsupported conversion from ${typeof t} to Uint8ArrayBlobAdapter.`)}}static mutate(t){return Object.setPrototypeOf(t,Mg.prototype),t}transformToString(t="utf-8"){return Ng(this,t)}};Xd(kg,"Uint8ArrayBlobAdapter");var Bd=kg;Ig(Cs,ng(),Ps.exports);Ig(Cs,Ag(),Ps.exports)});var z=v(($ae,iy)=>{var Is=Object.defineProperty,TH=Object.getOwnPropertyDescriptor,NH=Object.getOwnPropertyNames,DH=Object.prototype.hasOwnProperty,w=(e,t)=>Is(e,"name",{value:t,configurable:!0}),kH=(e,t)=>{for(var r in t)Is(e,r,{get:t[r],enumerable:!0})},MH=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of NH(t))!DH.call(e,o)&&o!==r&&Is(e,o,{get:()=>t[o],enumerable:!(n=TH(t,o))||n.enumerable});return e},KH=e=>MH(Is({},"__esModule",{value:!0}),e),Fg={};kH(Fg,{Client:()=>LH,Command:()=>Hg,LazyJsonString:()=>kG,NoOpLogger:()=>FH,SENSITIVE_STRING:()=>jH,ServiceException:()=>CG,StringWrapper:()=>Fo,_json:()=>rl,collectBody:()=>UH,convertMap:()=>MG,createAggregatedClient:()=>HH,dateToUtcString:()=>Xg,decorateServiceException:()=>Qg,emitWarningIfUnsupportedVersion:()=>RG,expectBoolean:()=>$H,expectByte:()=>tl,expectFloat32:()=>Rs,expectInt:()=>WH,expectInt32:()=>Zd,expectLong:()=>Mo,expectNonNull:()=>BH,expectNumber:()=>ko,expectObject:()=>$g,expectShort:()=>el,expectString:()=>XH,expectUnion:()=>JH,extendedEncodeURIComponent:()=>As,getArrayIfSingleItem:()=>DG,getDefaultClientConfiguration:()=>TG,getDefaultExtensionConfiguration:()=>ey,getValueFromTextNode:()=>ty,handleFloat:()=>ZH,limitedParseDouble:()=>il,limitedParseFloat:()=>eG,limitedParseFloat32:()=>tG,loadConfigsForDefaultMode:()=>xG,logger:()=>Ko,map:()=>al,parseBoolean:()=>GH,parseEpochTimestamp:()=>mG,parseRfc3339DateTime:()=>sG,parseRfc3339DateTimeWithOffset:()=>cG,parseRfc7231DateTime:()=>pG,resolveDefaultRuntimeConfig:()=>NG,resolvedPath:()=>qG,serializeFloat:()=>jG,splitEvery:()=>oy,strictParseByte:()=>Bg,strictParseDouble:()=>ol,strictParseFloat:()=>YH,strictParseFloat32:()=>zg,strictParseInt:()=>rG,strictParseInt32:()=>nG,strictParseLong:()=>Vg,strictParseShort:()=>gn,take:()=>KG,throwDefaultError:()=>Zg,withBaseException:()=>PG});iy.exports=KH(Fg);var Lg=class{trace(){}debug(){}info(){}warn(){}error(){}};w(Lg,"NoOpLogger");var FH=Lg,Ug=Gv(),qg=class{constructor(t){this.middlewareStack=(0,Ug.constructStack)(),this.config=t}send(t,r,n){let o=typeof r!="function"?r:void 0,i=typeof r=="function"?r:n,s=t.resolveMiddleware(this.middlewareStack,this.config,o);if(i)s(t).then(a=>i(null,a.output),a=>i(a)).catch(()=>{});else return s(t).then(a=>a.output)}destroy(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()}};w(qg,"Client");var LH=qg,Jd=ws(),UH=w(async(e=new Uint8Array,t)=>{if(e instanceof Uint8Array)return Jd.Uint8ArrayBlobAdapter.mutate(e);if(!e)return Jd.Uint8ArrayBlobAdapter.mutate(new Uint8Array);let r=t.streamCollector(e);return Jd.Uint8ArrayBlobAdapter.mutate(await r)},"collectBody"),Qd=qe(),jg=class{constructor(){this.middlewareStack=(0,Ug.constructStack)()}static classBuilder(){return new qH}resolveMiddlewareWithContext(t,r,n,{middlewareFn:o,clientName:i,commandName:s,inputFilterSensitiveLog:a,outputFilterSensitiveLog:c,smithyContext:l,additionalContext:p,CommandCtor:m}){for(let P of o.bind(this)(m,t,r,n))this.middlewareStack.use(P);let f=t.concat(this.middlewareStack),{logger:_}=r,g={logger:_,clientName:i,commandName:s,inputFilterSensitiveLog:a,outputFilterSensitiveLog:c,[Qd.SMITHY_CONTEXT_KEY]:{...l},...p},{requestHandler:S}=r;return f.resolve(P=>S.handle(P.request,n||{}),g)}};w(jg,"Command");var Hg=jg,Gg=class{constructor(){this._init=()=>{},this._ep={},this._middlewareFn=()=>[],this._commandName="",this._clientName="",this._additionalContext={},this._smithyContext={},this._inputFilterSensitiveLog=t=>t,this._outputFilterSensitiveLog=t=>t,this._serializer=null,this._deserializer=null}init(t){this._init=t}ep(t){return this._ep=t,this}m(t){return this._middlewareFn=t,this}s(t,r,n={}){return this._smithyContext={service:t,operation:r,...n},this}c(t={}){return this._additionalContext=t,this}n(t,r){return this._clientName=t,this._commandName=r,this}f(t=n=>n,r=n=>n){return this._inputFilterSensitiveLog=t,this._outputFilterSensitiveLog=r,this}ser(t){return this._serializer=t,this}de(t){return this._deserializer=t,this}build(){var t;let r=this,n;return n=(t=class extends Hg{constructor(...[o]){super(),this.serialize=r._serializer,this.deserialize=r._deserializer,this.input=o??{},r._init(this)}static getEndpointParameterInstructions(){return r._ep}resolveMiddleware(o,i,s){return this.resolveMiddlewareWithContext(o,i,s,{CommandCtor:n,middlewareFn:r._middlewareFn,clientName:r._clientName,commandName:r._commandName,inputFilterSensitiveLog:r._inputFilterSensitiveLog,outputFilterSensitiveLog:r._outputFilterSensitiveLog,smithyContext:r._smithyContext,additionalContext:r._additionalContext})}},w(t,"CommandRef"),t)}};w(Gg,"ClassBuilder");var qH=Gg,jH="***SensitiveInformation***",HH=w((e,t)=>{for(let r of Object.keys(e)){let n=e[r],o=w(async function(s,a,c){let l=new n(s);if(typeof a=="function")this.send(l,a);else if(typeof c=="function"){if(typeof a!="object")throw new Error(`Expected http options but got ${typeof a}`);this.send(l,a||{},c)}else return this.send(l,a)},"methodImpl"),i=(r[0].toLowerCase()+r.slice(1)).replace(/Command$/,"");t.prototype[i]=o}},"createAggregatedClient"),GH=w(e=>{switch(e){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${e}"`)}},"parseBoolean"),$H=w(e=>{if(e!=null){if(typeof e=="number"){if((e===0||e===1)&&Ko.warn(bs(`Expected boolean, got ${typeof e}: ${e}`)),e===0)return!1;if(e===1)return!0}if(typeof e=="string"){let t=e.toLowerCase();if((t==="false"||t==="true")&&Ko.warn(bs(`Expected boolean, got ${typeof e}: ${e}`)),t==="false")return!1;if(t==="true")return!0}if(typeof e=="boolean")return e;throw new TypeError(`Expected boolean, got ${typeof e}: ${e}`)}},"expectBoolean"),ko=w(e=>{if(e!=null){if(typeof e=="string"){let t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&Ko.warn(bs(`Expected number but observed string: ${e}`)),t}if(typeof e=="number")return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}},"expectNumber"),zH=Math.ceil(2**127*(2-2**-23)),Rs=w(e=>{let t=ko(e);if(t!==void 0&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0&&Math.abs(t)>zH)throw new TypeError(`Expected 32-bit float, got ${e}`);return t},"expectFloat32"),Mo=w(e=>{if(e!=null){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}},"expectLong"),WH=Mo,Zd=w(e=>nl(e,32),"expectInt32"),el=w(e=>nl(e,16),"expectShort"),tl=w(e=>nl(e,8),"expectByte"),nl=w((e,t)=>{let r=Mo(e);if(r!==void 0&&VH(r,t)!==r)throw new TypeError(`Expected ${t}-bit integer, got ${e}`);return r},"expectSizedInt"),VH=w((e,t)=>{switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},"castInt"),BH=w((e,t)=>{if(e==null)throw t?new TypeError(`Expected a non-null value for ${t}`):new TypeError("Expected a non-null value");return e},"expectNonNull"),$g=w(e=>{if(e==null)return;if(typeof e=="object"&&!Array.isArray(e))return e;let t=Array.isArray(e)?"array":typeof e;throw new TypeError(`Expected object, got ${t}: ${e}`)},"expectObject"),XH=w(e=>{if(e!=null){if(typeof e=="string")return e;if(["boolean","number","bigint"].includes(typeof e))return Ko.warn(bs(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}},"expectString"),JH=w(e=>{if(e==null)return;let t=$g(e),r=Object.entries(t).filter(([,n])=>n!=null).map(([n])=>n);if(r.length===0)throw new TypeError("Unions must have exactly one non-null member. None were found.");if(r.length>1)throw new TypeError(`Unions must have exactly one non-null member. Keys ${r} were not null.`);return t},"expectUnion"),ol=w(e=>ko(typeof e=="string"?hn(e):e),"strictParseDouble"),YH=ol,zg=w(e=>Rs(typeof e=="string"?hn(e):e),"strictParseFloat32"),QH=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,hn=w(e=>{let t=e.match(QH);if(t===null||t[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)},"parseNumber"),il=w(e=>typeof e=="string"?Wg(e):ko(e),"limitedParseDouble"),ZH=il,eG=il,tG=w(e=>typeof e=="string"?Wg(e):Rs(e),"limitedParseFloat32"),Wg=w(e=>{switch(e){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error(`Unable to parse float value: ${e}`)}},"parseFloatString"),Vg=w(e=>Mo(typeof e=="string"?hn(e):e),"strictParseLong"),rG=Vg,nG=w(e=>Zd(typeof e=="string"?hn(e):e),"strictParseInt32"),gn=w(e=>el(typeof e=="string"?hn(e):e),"strictParseShort"),Bg=w(e=>tl(typeof e=="string"?hn(e):e),"strictParseByte"),bs=w(e=>String(new TypeError(e).stack||e).split(`
`).slice(0,5).filter(t=>!t.includes("stackTraceWarning")).join(`
`),"stackTraceWarning"),Ko={warn:console.warn},oG=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],sl=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Xg(e){let t=e.getUTCFullYear(),r=e.getUTCMonth(),n=e.getUTCDay(),o=e.getUTCDate(),i=e.getUTCHours(),s=e.getUTCMinutes(),a=e.getUTCSeconds(),c=o<10?`0${o}`:`${o}`,l=i<10?`0${i}`:`${i}`,p=s<10?`0${s}`:`${s}`,m=a<10?`0${a}`:`${a}`;return`${oG[n]}, ${c} ${sl[r]} ${t} ${l}:${p}:${m} GMT`}w(Xg,"dateToUtcString");var iG=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/),sG=w(e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=iG.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,o,i,s,a,c,l]=t,p=gn(yn(n)),m=Ot(o,"month",1,12),f=Ot(i,"day",1,31);return Do(p,m,f,{hours:s,minutes:a,seconds:c,fractionalMilliseconds:l})},"parseRfc3339DateTime"),aG=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),cG=w(e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=aG.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,o,i,s,a,c,l,p]=t,m=gn(yn(n)),f=Ot(o,"month",1,12),_=Ot(i,"day",1,31),g=Do(m,f,_,{hours:s,minutes:a,seconds:c,fractionalMilliseconds:l});return p.toUpperCase()!="Z"&&g.setTime(g.getTime()-EG(p)),g},"parseRfc3339DateTimeWithOffset"),dG=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),lG=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),uG=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),pG=w(e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let t=dG.exec(e);if(t){let[r,n,o,i,s,a,c,l]=t;return Do(gn(yn(i)),Yd(o),Ot(n,"day",1,31),{hours:s,minutes:a,seconds:c,fractionalMilliseconds:l})}if(t=lG.exec(e),t){let[r,n,o,i,s,a,c,l]=t;return vG(Do(fG(i),Yd(o),Ot(n,"day",1,31),{hours:s,minutes:a,seconds:c,fractionalMilliseconds:l}))}if(t=uG.exec(e),t){let[r,n,o,i,s,a,c,l]=t;return Do(gn(yn(l)),Yd(n),Ot(o.trimLeft(),"day",1,31),{hours:i,minutes:s,seconds:a,fractionalMilliseconds:c})}throw new TypeError("Invalid RFC-7231 date-time value")},"parseRfc7231DateTime"),mG=w(e=>{if(e==null)return;let t;if(typeof e=="number")t=e;else if(typeof e=="string")t=ol(e);else throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");if(Number.isNaN(t)||t===1/0||t===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(t*1e3))},"parseEpochTimestamp"),Do=w((e,t,r,n)=>{let o=t-1;return yG(e,o,r),new Date(Date.UTC(e,o,r,Ot(n.hours,"hour",0,23),Ot(n.minutes,"minute",0,59),Ot(n.seconds,"seconds",0,60),SG(n.fractionalMilliseconds)))},"buildDate"),fG=w(e=>{let t=new Date().getUTCFullYear(),r=Math.floor(t/100)*100+gn(yn(e));return r<t?r+100:r},"parseTwoDigitYear"),_G=50*365*24*60*60*1e3,vG=w(e=>e.getTime()-new Date().getTime()>_G?new Date(Date.UTC(e.getUTCFullYear()-100,e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())):e,"adjustRfc850Year"),Yd=w(e=>{let t=sl.indexOf(e);if(t<0)throw new TypeError(`Invalid month: ${e}`);return t+1},"parseMonthByShortName"),gG=[31,28,31,30,31,30,31,31,30,31,30,31],yG=w((e,t,r)=>{let n=gG[t];if(t===1&&hG(e)&&(n=29),r>n)throw new TypeError(`Invalid day for ${sl[t]} in ${e}: ${r}`)},"validateDayOfMonth"),hG=w(e=>e%4===0&&(e%100!==0||e%400===0),"isLeapYear"),Ot=w((e,t,r,n)=>{let o=Bg(yn(e));if(o<r||o>n)throw new TypeError(`${t} must be between ${r} and ${n}, inclusive`);return o},"parseDateValue"),SG=w(e=>e==null?0:zg("0."+e)*1e3,"parseMilliseconds"),EG=w(e=>{let t=e[0],r=1;if(t=="+")r=1;else if(t=="-")r=-1;else throw new TypeError(`Offset direction, ${t}, must be "+" or "-"`);let n=Number(e.substring(1,3)),o=Number(e.substring(4,6));return r*(n*60+o)*60*1e3},"parseOffsetToMilliseconds"),yn=w(e=>{let t=0;for(;t<e.length-1&&e.charAt(t)==="0";)t++;return t===0?e:e.slice(t)},"stripLeadingZeroes"),Jg=class Yg extends Error{constructor(t){super(t.message),Object.setPrototypeOf(this,Yg.prototype),this.name=t.name,this.$fault=t.$fault,this.$metadata=t.$metadata}};w(Jg,"ServiceException");var CG=Jg,Qg=w((e,t={})=>{Object.entries(t).filter(([,n])=>n!==void 0).forEach(([n,o])=>{(e[n]==null||e[n]==="")&&(e[n]=o)});let r=e.message||e.Message||"UnknownError";return e.message=r,delete e.Message,e},"decorateServiceException"),Zg=w(({output:e,parsedBody:t,exceptionCtor:r,errorCode:n})=>{let o=wG(e),i=o.httpStatusCode?o.httpStatusCode+"":void 0,s=new r({name:t?.code||t?.Code||n||i||"UnknownError",$fault:"client",$metadata:o});throw Qg(s,t)},"throwDefaultError"),PG=w(e=>({output:t,parsedBody:r,errorCode:n})=>{Zg({output:t,parsedBody:r,exceptionCtor:e,errorCode:n})},"withBaseException"),wG=w(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),xG=w(e=>{switch(e){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},"loadConfigsForDefaultMode"),Kg=!1,RG=w(e=>{e&&!Kg&&parseInt(e.substring(1,e.indexOf(".")))<14&&(Kg=!0)},"emitWarningIfUnsupportedVersion"),bG=w(e=>{let t=[];for(let r in Qd.AlgorithmId){let n=Qd.AlgorithmId[r];e[n]!==void 0&&t.push({algorithmId:()=>n,checksumConstructor:()=>e[n]})}return{_checksumAlgorithms:t,addChecksumAlgorithm(r){this._checksumAlgorithms.push(r)},checksumAlgorithms(){return this._checksumAlgorithms}}},"getChecksumConfiguration"),AG=w(e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},"resolveChecksumRuntimeConfig"),IG=w(e=>{let t=e.retryStrategy;return{setRetryStrategy(r){t=r},retryStrategy(){return t}}},"getRetryConfiguration"),OG=w(e=>{let t={};return t.retryStrategy=e.retryStrategy(),t},"resolveRetryRuntimeConfig"),ey=w(e=>({...bG(e),...IG(e)}),"getDefaultExtensionConfiguration"),TG=ey,NG=w(e=>({...AG(e),...OG(e)}),"resolveDefaultRuntimeConfig");function As(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}w(As,"extendedEncodeURIComponent");var DG=w(e=>Array.isArray(e)?e:[e],"getArrayIfSingleItem"),ty=w(e=>{let t="#text";for(let r in e)e.hasOwnProperty(r)&&e[r][t]!==void 0?e[r]=e[r][t]:typeof e[r]=="object"&&e[r]!==null&&(e[r]=ty(e[r]));return e},"getValueFromTextNode"),Fo=w(function(){let e=Object.getPrototypeOf(this).constructor,t=Function.bind.apply(String,[null,...arguments]),r=new t;return Object.setPrototypeOf(r,e.prototype),r},"StringWrapper");Fo.prototype=Object.create(String.prototype,{constructor:{value:Fo,enumerable:!1,writable:!0,configurable:!0}});Object.setPrototypeOf(Fo,String);var ry=class xs extends Fo{deserializeJSON(){return JSON.parse(super.toString())}toJSON(){return super.toString()}static fromObject(t){return t instanceof xs?t:t instanceof String||typeof t=="string"?new xs(t):new xs(JSON.stringify(t))}};w(ry,"LazyJsonString");var kG=ry;function al(e,t,r){let n,o,i;if(typeof t>"u"&&typeof r>"u")n={},i=e;else{if(n=e,typeof t=="function")return o=t,i=r,FG(n,o,i);i=t}for(let s of Object.keys(i)){if(!Array.isArray(i[s])){n[s]=i[s];continue}ny(n,null,i,s)}return n}w(al,"map");var MG=w(e=>{let t={};for(let[r,n]of Object.entries(e||{}))t[r]=[,n];return t},"convertMap"),KG=w((e,t)=>{let r={};for(let n in t)ny(r,e,t,n);return r},"take"),FG=w((e,t,r)=>al(e,Object.entries(r).reduce((n,[o,i])=>(Array.isArray(i)?n[o]=i:typeof i=="function"?n[o]=[t,i()]:n[o]=[t,i],n),{})),"mapWithFilter"),ny=w((e,t,r,n)=>{if(t!==null){let s=r[n];typeof s=="function"&&(s=[,s]);let[a=LG,c=UG,l=n]=s;(typeof a=="function"&&a(t[l])||typeof a!="function"&&a)&&(e[n]=c(t[l]));return}let[o,i]=r[n];if(typeof i=="function"){let s,a=o===void 0&&(s=i())!=null,c=typeof o=="function"&&!!o(void 0)||typeof o!="function"&&!!o;a?e[n]=s:c&&(e[n]=i())}else{let s=o===void 0&&i!=null,a=typeof o=="function"&&!!o(i)||typeof o!="function"&&!!o;(s||a)&&(e[n]=i)}},"applyInstruction"),LG=w(e=>e!=null,"nonNullish"),UG=w(e=>e,"pass"),qG=w((e,t,r,n,o,i)=>{if(t!=null&&t[r]!==void 0){let s=n();if(s.length<=0)throw new Error("Empty value provided for input HTTP label: "+r+".");e=e.replace(o,i?s.split("/").map(a=>As(a)).join("/"):As(s))}else throw new Error("No value provided for input HTTP label: "+r+".");return e},"resolvedPath"),jG=w(e=>{if(e!==e)return"NaN";switch(e){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return e}},"serializeFloat"),rl=w(e=>{if(e==null)return{};if(Array.isArray(e))return e.filter(t=>t!=null).map(rl);if(typeof e=="object"){let t={};for(let r of Object.keys(e))e[r]!=null&&(t[r]=rl(e[r]));return t}return e},"_json");function oy(e,t,r){if(r<=0||!Number.isInteger(r))throw new Error("Invalid number of delimiters ("+r+") for splitEvery.");let n=e.split(t);if(r===1)return n;let o=[],i="";for(let s=0;s<n.length;s++)i===""?i=n[s]:i+=t+n[s],(s+1)%r===0&&(o.push(i),i="");return i!==""&&o.push(i),o}w(oy,"splitEvery")});var sy=v(Os=>{"use strict";Object.defineProperty(Os,"__esModule",{value:!0});Os.isStreamingPayload=void 0;var HG=require("stream"),GG=e=>e?.body instanceof HG.Readable||typeof ReadableStream<"u"&&e?.body instanceof ReadableStream;Os.isStreamingPayload=GG});var Le=v((Xae,Py)=>{var Ts=Object.defineProperty,$G=Object.getOwnPropertyDescriptor,zG=Object.getOwnPropertyNames,WG=Object.prototype.hasOwnProperty,ue=(e,t)=>Ts(e,"name",{value:t,configurable:!0}),VG=(e,t)=>{for(var r in t)Ts(e,r,{get:t[r],enumerable:!0})},BG=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of zG(t))!WG.call(e,o)&&o!==r&&Ts(e,o,{get:()=>t[o],enumerable:!(n=$G(t,o))||n.enumerable});return e},XG=e=>BG(Ts({},"__esModule",{value:!0}),e),cy={};VG(cy,{AdaptiveRetryStrategy:()=>QG,CONFIG_MAX_ATTEMPTS:()=>dl,CONFIG_RETRY_MODE:()=>gy,ENV_MAX_ATTEMPTS:()=>cl,ENV_RETRY_MODE:()=>vy,NODE_MAX_ATTEMPT_CONFIG_OPTIONS:()=>ZG,NODE_RETRY_MODE_CONFIG_OPTIONS:()=>t$,StandardRetryStrategy:()=>fy,defaultDelayDecider:()=>ly,defaultRetryDecider:()=>uy,getOmitRetryHeadersPlugin:()=>r$,getRetryAfterHint:()=>Cy,getRetryPlugin:()=>c$,omitRetryHeadersMiddleware:()=>yy,omitRetryHeadersMiddlewareOptions:()=>hy,resolveRetryConfig:()=>e$,retryMiddleware:()=>Sy,retryMiddlewareOptions:()=>Ey});Py.exports=XG(cy);var Sn=ae(),dy=(Ev(),bt(Sv)),ce=mr(),JG=ue((e,t)=>{let r=e,n=t?.noRetryIncrement??ce.NO_RETRY_INCREMENT,o=t?.retryCost??ce.RETRY_COST,i=t?.timeoutRetryCost??ce.TIMEOUT_RETRY_COST,s=e,a=ue(m=>m.name==="TimeoutError"?i:o,"getCapacityAmount"),c=ue(m=>a(m)<=s,"hasRetryTokens");return Object.freeze({hasRetryTokens:c,retrieveRetryTokens:ue(m=>{if(!c(m))throw new Error("No retry token available");let f=a(m);return s-=f,f},"retrieveRetryTokens"),releaseRetryTokens:ue(m=>{s+=m??n,s=Math.min(s,r)},"releaseRetryTokens")})},"getDefaultRetryQuota"),ly=ue((e,t)=>Math.floor(Math.min(ce.MAXIMUM_RETRY_DELAY,Math.random()*2**t*e)),"defaultDelayDecider"),vr=Ad(),uy=ue(e=>e?(0,vr.isRetryableByTrait)(e)||(0,vr.isClockSkewError)(e)||(0,vr.isThrottlingError)(e)||(0,vr.isTransientError)(e):!1,"defaultRetryDecider"),py=ue(e=>e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):typeof e=="string"?new Error(e):new Error(`AWS SDK error wrapper for ${e}`),"asSdkError"),my=class{constructor(t,r){this.maxAttemptsProvider=t,this.mode=ce.RETRY_MODES.STANDARD,this.retryDecider=r?.retryDecider??uy,this.delayDecider=r?.delayDecider??ly,this.retryQuota=r?.retryQuota??JG(ce.INITIAL_RETRY_TOKENS)}shouldRetry(t,r,n){return r<n&&this.retryDecider(t)&&this.retryQuota.hasRetryTokens(t)}async getMaxAttempts(){let t;try{t=await this.maxAttemptsProvider()}catch{t=ce.DEFAULT_MAX_ATTEMPTS}return t}async retry(t,r,n){let o,i=0,s=0,a=await this.getMaxAttempts(),{request:c}=r;for(Sn.HttpRequest.isInstance(c)&&(c.headers[ce.INVOCATION_ID_HEADER]=(0,dy.v4)());;)try{Sn.HttpRequest.isInstance(c)&&(c.headers[ce.REQUEST_HEADER]=`attempt=${i+1}; max=${a}`),n?.beforeRequest&&await n.beforeRequest();let{response:l,output:p}=await t(r);return n?.afterRequest&&n.afterRequest(l),this.retryQuota.releaseRetryTokens(o),p.$metadata.attempts=i+1,p.$metadata.totalRetryDelay=s,{response:l,output:p}}catch(l){let p=py(l);if(i++,this.shouldRetry(p,i,a)){o=this.retryQuota.retrieveRetryTokens(p);let m=this.delayDecider((0,vr.isThrottlingError)(p)?ce.THROTTLING_RETRY_DELAY_BASE:ce.DEFAULT_RETRY_DELAY_BASE,i),f=YG(p.$response),_=Math.max(f||0,m);s+=_,await new Promise(g=>setTimeout(g,_));continue}throw p.$metadata||(p.$metadata={}),p.$metadata.attempts=i,p.$metadata.totalRetryDelay=s,p}}};ue(my,"StandardRetryStrategy");var fy=my,YG=ue(e=>{if(!Sn.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(i=>i.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r).getTime()-Date.now():n*1e3},"getDelayFromRetryAfterHeader"),_y=class extends fy{constructor(t,r){let{rateLimiter:n,...o}=r??{};super(t,o),this.rateLimiter=n??new ce.DefaultRateLimiter,this.mode=ce.RETRY_MODES.ADAPTIVE}async retry(t,r){return super.retry(t,r,{beforeRequest:async()=>this.rateLimiter.getSendToken(),afterRequest:n=>{this.rateLimiter.updateClientSendingRate(n)}})}};ue(_y,"AdaptiveRetryStrategy");var QG=_y,ay=Ve(),cl="AWS_MAX_ATTEMPTS",dl="max_attempts",ZG={environmentVariableSelector:e=>{let t=e[cl];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Environment variable ${cl} mast be a number, got "${t}"`);return r},configFileSelector:e=>{let t=e[dl];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Shared config file entry ${dl} mast be a number, got "${t}"`);return r},default:ce.DEFAULT_MAX_ATTEMPTS},e$=ue(e=>{let{retryStrategy:t}=e,r=(0,ay.normalizeProvider)(e.maxAttempts??ce.DEFAULT_MAX_ATTEMPTS);return{...e,maxAttempts:r,retryStrategy:async()=>t||(await(0,ay.normalizeProvider)(e.retryMode)()===ce.RETRY_MODES.ADAPTIVE?new ce.AdaptiveRetryStrategy(r):new ce.StandardRetryStrategy(r))}},"resolveRetryConfig"),vy="AWS_RETRY_MODE",gy="retry_mode",t$={environmentVariableSelector:e=>e[vy],configFileSelector:e=>e[gy],default:ce.DEFAULT_RETRY_MODE},yy=ue(()=>e=>async t=>{let{request:r}=t;return Sn.HttpRequest.isInstance(r)&&(delete r.headers[ce.INVOCATION_ID_HEADER],delete r.headers[ce.REQUEST_HEADER]),e(t)},"omitRetryHeadersMiddleware"),hy={name:"omitRetryHeadersMiddleware",tags:["RETRY","HEADERS","OMIT_RETRY_HEADERS"],relation:"before",toMiddleware:"awsAuthMiddleware",override:!0},r$=ue(e=>({applyToStack:t=>{t.addRelativeTo(yy(),hy)}}),"getOmitRetryHeadersPlugin"),n$=z(),o$=sy(),Sy=ue(e=>(t,r)=>async n=>{var o;let i=await e.retryStrategy(),s=await e.maxAttempts();if(i$(i)){i=i;let a=await i.acquireInitialRetryToken(r.partition_id),c=new Error,l=0,p=0,{request:m}=n,f=Sn.HttpRequest.isInstance(m);for(f&&(m.headers[ce.INVOCATION_ID_HEADER]=(0,dy.v4)());;)try{f&&(m.headers[ce.REQUEST_HEADER]=`attempt=${l+1}; max=${s}`);let{response:_,output:g}=await t(n);return i.recordSuccess(a),g.$metadata.attempts=l+1,g.$metadata.totalRetryDelay=p,{response:_,output:g}}catch(_){let g=s$(_);if(c=py(_),f&&(0,o$.isStreamingPayload)(m))throw(o=r.logger instanceof n$.NoOpLogger?console:r.logger)==null||o.warn("An error was encountered in a non-retryable streaming request."),c;try{a=await i.refreshRetryTokenForRetry(a,g)}catch{throw c.$metadata||(c.$metadata={}),c.$metadata.attempts=l+1,c.$metadata.totalRetryDelay=p,c}l=a.getRetryCount();let S=a.getRetryDelay();p+=S,await new Promise(P=>setTimeout(P,S))}}else return i=i,i?.mode&&(r.userAgent=[...r.userAgent||[],["cfg/retry-mode",i.mode]]),i.retry(t,n)},"retryMiddleware"),i$=ue(e=>typeof e.acquireInitialRetryToken<"u"&&typeof e.refreshRetryTokenForRetry<"u"&&typeof e.recordSuccess<"u","isRetryStrategyV2"),s$=ue(e=>{let t={error:e,errorType:a$(e)},r=Cy(e.$response);return r&&(t.retryAfterHint=r),t},"getRetryErrorInfo"),a$=ue(e=>(0,vr.isThrottlingError)(e)?"THROTTLING":(0,vr.isTransientError)(e)?"TRANSIENT":(0,vr.isServerError)(e)?"SERVER_ERROR":"CLIENT_ERROR","getRetryErrorType"),Ey={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},c$=ue(e=>({applyToStack:t=>{t.add(Sy(e),Ey)}}),"getRetryPlugin"),Cy=ue(e=>{if(!Sn.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(i=>i.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r):new Date(n*1e3)},"getRetryAfterHint")});var Pe=v((tce,Gy)=>{var Ds=Object.defineProperty,d$=Object.getOwnPropertyDescriptor,l$=Object.getOwnPropertyNames,u$=Object.prototype.hasOwnProperty,re=(e,t)=>Ds(e,"name",{value:t,configurable:!0}),p$=(e,t)=>{for(var r in t)Ds(e,r,{get:t[r],enumerable:!0})},m$=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of l$(t))!u$.call(e,o)&&o!==r&&Ds(e,o,{get:()=>t[o],enumerable:!(n=d$(t,o))||n.enumerable});return e},f$=e=>m$(Ds({},"__esModule",{value:!0}),e),wy={};p$(wy,{DefaultIdentityProviderConfig:()=>P$,EXPIRATION_MS:()=>Fy,HttpApiKeyAuthSigner:()=>w$,HttpBearerAuthSigner:()=>x$,NoAuthSigner:()=>R$,RequestBuilder:()=>jy,createIsIdentityExpiredFunction:()=>Ky,createPaginator:()=>Hy,doesIdentityRequireRefresh:()=>Ly,getHttpAuthSchemeEndpointRuleSetPlugin:()=>v$,getHttpAuthSchemePlugin:()=>y$,getHttpSigningPlugin:()=>C$,getSmithyContext:()=>I$,httpAuthSchemeEndpointRuleSetMiddlewareOptions:()=>by,httpAuthSchemeMiddleware:()=>ll,httpAuthSchemeMiddlewareOptions:()=>Ay,httpSigningMiddleware:()=>Oy,httpSigningMiddlewareOptions:()=>Ty,isIdentityExpired:()=>b$,memoizeIdentityProvider:()=>A$,normalizeProvider:()=>O$,requestBuilder:()=>Uy});Gy.exports=f$(wy);var xy=Ve();function Ry(e){let t=new Map;for(let r of e)t.set(r.schemeId,r);return t}re(Ry,"convertHttpAuthSchemesToMap");var ll=re((e,t)=>(r,n)=>async o=>{var i;let s=e.httpAuthSchemeProvider(await t.httpAuthSchemeParametersProvider(e,n,o.input)),a=Ry(e.httpAuthSchemes),c=(0,xy.getSmithyContext)(n),l=[];for(let p of s){let m=a.get(p.schemeId);if(!m){l.push(`HttpAuthScheme \`${p.schemeId}\` was not enabled for this service.`);continue}let f=m.identityProvider(await t.identityProviderConfigProvider(e));if(!f){l.push(`HttpAuthScheme \`${p.schemeId}\` did not have an IdentityProvider configured.`);continue}let{identityProperties:_={},signingProperties:g={}}=((i=p.propertiesExtractor)==null?void 0:i.call(p,e,n))||{};p.identityProperties=Object.assign(p.identityProperties||{},_),p.signingProperties=Object.assign(p.signingProperties||{},g),c.selectedHttpAuthScheme={httpAuthOption:p,identity:await f(p.identityProperties),signer:m.signer};break}if(!c.selectedHttpAuthScheme)throw new Error(l.join(`
`));return r(o)},"httpAuthSchemeMiddleware"),_$=At(),by={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:_$.endpointMiddlewareOptions.name},v$=re((e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(ll(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),by)}}),"getHttpAuthSchemeEndpointRuleSetPlugin"),g$=zt(),Ay={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:g$.serializerMiddlewareOption.name},y$=re((e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(ll(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),Ay)}}),"getHttpAuthSchemePlugin"),Iy=ae(),h$=re(e=>t=>{throw t},"defaultErrorHandler"),S$=re((e,t)=>{},"defaultSuccessHandler"),Oy=re(e=>(t,r)=>async n=>{if(!Iy.HttpRequest.isInstance(n.request))return t(n);let i=(0,xy.getSmithyContext)(r).selectedHttpAuthScheme;if(!i)throw new Error("No HttpAuthScheme was selected: unable to sign request");let{httpAuthOption:{signingProperties:s={}},identity:a,signer:c}=i,l=await t({...n,request:await c.sign(n.request,a,s)}).catch((c.errorHandler||h$)(s));return(c.successHandler||S$)(l.response,s),l},"httpSigningMiddleware"),E$=Le(),Ty={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:E$.retryMiddlewareOptions.name},C$=re(e=>({applyToStack:t=>{t.addRelativeTo(Oy(e),Ty)}}),"getHttpSigningPlugin"),Ny=class{constructor(t){this.authSchemes=new Map;for(let[r,n]of Object.entries(t))n!==void 0&&this.authSchemes.set(r,n)}getIdentityProvider(t){return this.authSchemes.get(t)}};re(Ny,"DefaultIdentityProviderConfig");var P$=Ny,Ns=qe(),Dy=class{async sign(t,r,n){if(!n)throw new Error("request could not be signed with `apiKey` since the `name` and `in` signer properties are missing");if(!n.name)throw new Error("request could not be signed with `apiKey` since the `name` signer property is missing");if(!n.in)throw new Error("request could not be signed with `apiKey` since the `in` signer property is missing");if(!r.apiKey)throw new Error("request could not be signed with `apiKey` since the `apiKey` is not defined");let o=t.clone();if(n.in===Ns.HttpApiKeyAuthLocation.QUERY)o.query[n.name]=r.apiKey;else if(n.in===Ns.HttpApiKeyAuthLocation.HEADER)o.headers[n.name]=n.scheme?`${n.scheme} ${r.apiKey}`:r.apiKey;else throw new Error("request can only be signed with `apiKey` locations `query` or `header`, but found: `"+n.in+"`");return o}};re(Dy,"HttpApiKeyAuthSigner");var w$=Dy,ky=class{async sign(t,r,n){let o=t.clone();if(!r.token)throw new Error("request could not be signed with `token` since the `token` is not defined");return o.headers.Authorization=`Bearer ${r.token}`,o}};re(ky,"HttpBearerAuthSigner");var x$=ky,My=class{async sign(t,r,n){return t}};re(My,"NoAuthSigner");var R$=My,Ky=re(e=>t=>Ly(t)&&t.expiration.getTime()-Date.now()<e,"createIsIdentityExpiredFunction"),Fy=3e5,b$=Ky(Fy),Ly=re(e=>e.expiration!==void 0,"doesIdentityRequireRefresh"),A$=re((e,t,r)=>{if(e===void 0)return;let n=typeof e!="function"?async()=>Promise.resolve(e):e,o,i,s,a=!1,c=re(async l=>{i||(i=n(l));try{o=await i,s=!0,a=!1}finally{i=void 0}return o},"coalesceProvider");return t===void 0?async l=>((!s||l?.forceRefresh)&&(o=await c(l)),o):async l=>((!s||l?.forceRefresh)&&(o=await c(l)),a?o:r(o)?(t(o)&&await c(l),o):(a=!0,o))},"memoizeIdentityProvider"),I$=re(e=>e[Ns.SMITHY_CONTEXT_KEY]||(e[Ns.SMITHY_CONTEXT_KEY]={}),"getSmithyContext"),O$=re(e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t},"normalizeProvider"),T$=z();function Uy(e,t){return new jy(e,t)}re(Uy,"requestBuilder");var qy=class{constructor(t,r){this.input=t,this.context=r,this.query={},this.method="",this.headers={},this.path="",this.body=null,this.hostname="",this.resolvePathStack=[]}async build(){let{hostname:t,protocol:r="https",port:n,path:o}=await this.context.endpoint();this.path=o;for(let i of this.resolvePathStack)i(this.path);return new Iy.HttpRequest({protocol:r,hostname:this.hostname||t,port:n,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers})}hn(t){return this.hostname=t,this}bp(t){return this.resolvePathStack.push(r=>{this.path=`${r?.endsWith("/")?r.slice(0,-1):r||""}`+t}),this}p(t,r,n,o){return this.resolvePathStack.push(i=>{this.path=(0,T$.resolvedPath)(i,this.input,t,r,n,o)}),this}h(t){return this.headers=t,this}q(t){return this.query=t,this}b(t){return this.body=t,this}m(t){return this.method=t,this}};re(qy,"RequestBuilder");var jy=qy,N$=re(async(e,t,r,...n)=>await t.send(new e(r),...n),"makePagedClientRequest");function Hy(e,t,r,n,o){return re(async function*(s,a,...c){let l=s.startingToken||void 0,p=!0,m;for(;p;){if(a[r]=l,o&&(a[o]=a[o]??s.pageSize),s.client instanceof e)m=await N$(t,s.client,a,...c);else throw new Error(`Invalid client, expected instance of ${e.name}`);yield m;let f=l;l=D$(m,n),p=!!(l&&(!s.stopOnSameToken||l!==f))}return void 0},"paginateOperation")}re(Hy,"createPaginator");var D$=re((e,t)=>{let r=e,n=t.split(".");for(let o of n){if(!r||typeof r!="object")return;r=r[o]}return r},"get")});var tn=v((rce,By)=>{var ks=Object.defineProperty,k$=Object.getOwnPropertyDescriptor,M$=Object.getOwnPropertyNames,K$=Object.prototype.hasOwnProperty,zy=(e,t)=>ks(e,"name",{value:t,configurable:!0}),F$=(e,t)=>{for(var r in t)ks(e,r,{get:t[r],enumerable:!0})},L$=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of M$(t))!K$.call(e,o)&&o!==r&&ks(e,o,{get:()=>t[o],enumerable:!(n=k$(t,o))||n.enumerable});return e},U$=e=>L$(ks({},"__esModule",{value:!0}),e),Wy={};F$(Wy,{contentLengthMiddleware:()=>ul,contentLengthMiddlewareOptions:()=>Vy,getContentLengthPlugin:()=>j$});By.exports=U$(Wy);var q$=ae(),$y="content-length";function ul(e){return t=>async r=>{let n=r.request;if(q$.HttpRequest.isInstance(n)){let{body:o,headers:i}=n;if(o&&Object.keys(i).map(s=>s.toLowerCase()).indexOf($y)===-1)try{let s=e(o);n.headers={...n.headers,[$y]:String(s)}}catch{}}return t({...r,request:n})}}zy(ul,"contentLengthMiddleware");var Vy={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},j$=zy(e=>({applyToStack:t=>{t.add(ul(e.bodyLengthChecker),Vy)}}),"getContentLengthPlugin")});var th=v((nce,eh)=>{var Ms=Object.defineProperty,H$=Object.getOwnPropertyDescriptor,G$=Object.getOwnPropertyNames,$$=Object.prototype.hasOwnProperty,Xy=(e,t)=>Ms(e,"name",{value:t,configurable:!0}),z$=(e,t)=>{for(var r in t)Ms(e,r,{get:t[r],enumerable:!0})},W$=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of G$(t))!$$.call(e,o)&&o!==r&&Ms(e,o,{get:()=>t[o],enumerable:!(n=H$(t,o))||n.enumerable});return e},V$=e=>W$(Ms({},"__esModule",{value:!0}),e),Jy={};z$(Jy,{fromHex:()=>Qy,toHex:()=>Zy});eh.exports=V$(Jy);var Yy={},pl={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();t.length===1&&(t=`0${t}`),Yy[e]=t,pl[t]=e}function Qy(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");let t=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2){let n=e.slice(r,r+2).toLowerCase();if(n in pl)t[r/2]=pl[n];else throw new Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`)}return t}Xy(Qy,"fromHex");function Zy(e){let t="";for(let r=0;r<e.byteLength;r++)t+=Yy[e[r]];return t}Xy(Zy,"toHex")});var hl=v((sce,Eh)=>{var qs=Object.defineProperty,B$=Object.getOwnPropertyDescriptor,X$=Object.getOwnPropertyNames,J$=Object.prototype.hasOwnProperty,pe=(e,t)=>qs(e,"name",{value:t,configurable:!0}),Y$=(e,t)=>{for(var r in t)qs(e,r,{get:t[r],enumerable:!0})},Q$=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of X$(t))!J$.call(e,o)&&o!==r&&qs(e,o,{get:()=>t[o],enumerable:!(n=B$(t,o))||n.enumerable});return e},Z$=e=>Q$(qs({},"__esModule",{value:!0}),e),sh={};Y$(sh,{SignatureV4:()=>R2,clearCredentialCache:()=>v2,createScope:()=>Ls,getCanonicalHeaders:()=>vl,getCanonicalQuery:()=>fh,getPayloadHash:()=>Us,getSigningKey:()=>mh,moveHeadersToQuery:()=>hh,prepareRequest:()=>yl});Eh.exports=Z$(sh);var rh=Ve(),ml=Fe(),e2="X-Amz-Algorithm",t2="X-Amz-Credential",ah="X-Amz-Date",r2="X-Amz-SignedHeaders",n2="X-Amz-Expires",ch="X-Amz-Signature",dh="X-Amz-Security-Token",lh="authorization",uh=ah.toLowerCase(),o2="date",i2=[lh,uh,o2],s2=ch.toLowerCase(),_l="x-amz-content-sha256",a2=dh.toLowerCase(),c2={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},d2=/^proxy-/,l2=/^sec-/,fl="AWS4-HMAC-SHA256",u2="AWS4-HMAC-SHA256-PAYLOAD",p2="UNSIGNED-PAYLOAD",m2=50,ph="aws4_request",f2=60*60*24*7,gr=th(),_2=Fe(),En={},Fs=[],Ls=pe((e,t,r)=>`${e}/${t}/${r}/${ph}`,"createScope"),mh=pe(async(e,t,r,n,o)=>{let i=await nh(e,t.secretAccessKey,t.accessKeyId),s=`${r}:${n}:${o}:${(0,gr.toHex)(i)}:${t.sessionToken}`;if(s in En)return En[s];for(Fs.push(s);Fs.length>m2;)delete En[Fs.shift()];let a=`AWS4${t.secretAccessKey}`;for(let c of[r,n,o,ph])a=await nh(e,a,c);return En[s]=a},"getSigningKey"),v2=pe(()=>{Fs.length=0,Object.keys(En).forEach(e=>{delete En[e]})},"clearCredentialCache"),nh=pe((e,t,r)=>{let n=new e(t);return n.update((0,_2.toUint8Array)(r)),n.digest()},"hmac"),vl=pe(({headers:e},t,r)=>{let n={};for(let o of Object.keys(e).sort()){if(e[o]==null)continue;let i=o.toLowerCase();(i in c2||t?.has(i)||d2.test(i)||l2.test(i))&&(!r||r&&!r.has(i))||(n[i]=e[o].trim().replace(/\s+/g," "))}return n},"getCanonicalHeaders"),Lo=qd(),fh=pe(({query:e={}})=>{let t=[],r={};for(let n of Object.keys(e).sort()){if(n.toLowerCase()===s2)continue;t.push(n);let o=e[n];typeof o=="string"?r[n]=`${(0,Lo.escapeUri)(n)}=${(0,Lo.escapeUri)(o)}`:Array.isArray(o)&&(r[n]=o.slice(0).reduce((i,s)=>i.concat([`${(0,Lo.escapeUri)(n)}=${(0,Lo.escapeUri)(s)}`]),[]).sort().join("&"))}return t.map(n=>r[n]).filter(n=>n).join("&")},"getCanonicalQuery"),g2=kd(),y2=Fe(),Us=pe(async({headers:e,body:t},r)=>{for(let n of Object.keys(e))if(n.toLowerCase()===_l)return e[n];if(t==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof t=="string"||ArrayBuffer.isView(t)||(0,g2.isArrayBuffer)(t)){let n=new r;return n.update((0,y2.toUint8Array)(t)),(0,gr.toHex)(await n.digest())}return p2},"getPayloadHash"),oh=Fe(),_h=class{format(t){let r=[];for(let i of Object.keys(t)){let s=(0,oh.fromUtf8)(i);r.push(Uint8Array.from([s.byteLength]),s,this.formatHeaderValue(t[i]))}let n=new Uint8Array(r.reduce((i,s)=>i+s.byteLength,0)),o=0;for(let i of r)n.set(i,o),o+=i.byteLength;return n}formatHeaderValue(t){switch(t.type){case"boolean":return Uint8Array.from([t.value?0:1]);case"byte":return Uint8Array.from([2,t.value]);case"short":let r=new DataView(new ArrayBuffer(3));return r.setUint8(0,3),r.setInt16(1,t.value,!1),new Uint8Array(r.buffer);case"integer":let n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,t.value,!1),new Uint8Array(n.buffer);case"long":let o=new Uint8Array(9);return o[0]=5,o.set(t.value.bytes,1),o;case"binary":let i=new DataView(new ArrayBuffer(3+t.value.byteLength));i.setUint8(0,6),i.setUint16(1,t.value.byteLength,!1);let s=new Uint8Array(i.buffer);return s.set(t.value,3),s;case"string":let a=(0,oh.fromUtf8)(t.value),c=new DataView(new ArrayBuffer(3+a.byteLength));c.setUint8(0,7),c.setUint16(1,a.byteLength,!1);let l=new Uint8Array(c.buffer);return l.set(a,3),l;case"timestamp":let p=new Uint8Array(9);return p[0]=8,p.set(E2.fromNumber(t.value.valueOf()).bytes,1),p;case"uuid":if(!S2.test(t.value))throw new Error(`Invalid UUID received: ${t.value}`);let m=new Uint8Array(17);return m[0]=9,m.set((0,gr.fromHex)(t.value.replace(/\-/g,"")),1),m}}};pe(_h,"HeaderFormatter");var h2=_h,S2=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,vh=class gh{constructor(t){if(this.bytes=t,t.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(t){if(t>9223372036854776e3||t<-9223372036854776e3)throw new Error(`${t} is too large (or, if negative, too small) to represent as an Int64`);let r=new Uint8Array(8);for(let n=7,o=Math.abs(Math.round(t));n>-1&&o>0;n--,o/=256)r[n]=o;return t<0&&gl(r),new gh(r)}valueOf(){let t=this.bytes.slice(0),r=t[0]&128;return r&&gl(t),parseInt((0,gr.toHex)(t),16)*(r?-1:1)}toString(){return String(this.valueOf())}};pe(vh,"Int64");var E2=vh;function gl(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,e[t]===0);t--);}pe(gl,"negate");var C2=pe((e,t)=>{e=e.toLowerCase();for(let r of Object.keys(t))if(e===r.toLowerCase())return!0;return!1},"hasHeader"),yh=pe(({headers:e,query:t,...r})=>({...r,headers:{...e},query:t?P2(t):void 0}),"cloneRequest"),P2=pe(e=>Object.keys(e).reduce((t,r)=>{let n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{}),"cloneQuery"),hh=pe((e,t={})=>{var r;let{headers:n,query:o={}}=typeof e.clone=="function"?e.clone():yh(e);for(let i of Object.keys(n)){let s=i.toLowerCase();s.slice(0,6)==="x-amz-"&&!((r=t.unhoistableHeaders)!=null&&r.has(s))&&(o[i]=n[i],delete n[i])}return{...e,headers:n,query:o}},"moveHeadersToQuery"),yl=pe(e=>{e=typeof e.clone=="function"?e.clone():yh(e);for(let t of Object.keys(e.headers))i2.indexOf(t.toLowerCase())>-1&&delete e.headers[t];return e},"prepareRequest"),w2=pe(e=>x2(e).toISOString().replace(/\.\d{3}Z$/,"Z"),"iso8601"),x2=pe(e=>typeof e=="number"?new Date(e*1e3):typeof e=="string"?Number(e)?new Date(Number(e)*1e3):new Date(e):e,"toDate"),Sh=class{constructor({applyChecksum:t,credentials:r,region:n,service:o,sha256:i,uriEscapePath:s=!0}){this.headerFormatter=new h2,this.service=o,this.sha256=i,this.uriEscapePath=s,this.applyChecksum=typeof t=="boolean"?t:!0,this.regionProvider=(0,rh.normalizeProvider)(n),this.credentialProvider=(0,rh.normalizeProvider)(r)}async presign(t,r={}){let{signingDate:n=new Date,expiresIn:o=3600,unsignableHeaders:i,unhoistableHeaders:s,signableHeaders:a,signingRegion:c,signingService:l}=r,p=await this.credentialProvider();this.validateResolvedCredentials(p);let m=c??await this.regionProvider(),{longDate:f,shortDate:_}=Ks(n);if(o>f2)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let g=Ls(_,m,l??this.service),S=hh(yl(t),{unhoistableHeaders:s});p.sessionToken&&(S.query[dh]=p.sessionToken),S.query[e2]=fl,S.query[t2]=`${p.accessKeyId}/${g}`,S.query[ah]=f,S.query[n2]=o.toString(10);let P=vl(S,i,a);return S.query[r2]=ih(P),S.query[ch]=await this.getSignature(f,g,this.getSigningKey(p,m,_,l),this.createCanonicalRequest(S,P,await Us(t,this.sha256))),S}async sign(t,r){return typeof t=="string"?this.signString(t,r):t.headers&&t.payload?this.signEvent(t,r):t.message?this.signMessage(t,r):this.signRequest(t,r)}async signEvent({headers:t,payload:r},{signingDate:n=new Date,priorSignature:o,signingRegion:i,signingService:s}){let a=i??await this.regionProvider(),{shortDate:c,longDate:l}=Ks(n),p=Ls(c,a,s??this.service),m=await Us({headers:{},body:r},this.sha256),f=new this.sha256;f.update(t);let _=(0,gr.toHex)(await f.digest()),g=[u2,l,p,o,_,m].join(`
`);return this.signString(g,{signingDate:n,signingRegion:a,signingService:s})}async signMessage(t,{signingDate:r=new Date,signingRegion:n,signingService:o}){return this.signEvent({headers:this.headerFormatter.format(t.message.headers),payload:t.message.body},{signingDate:r,signingRegion:n,signingService:o,priorSignature:t.priorSignature}).then(s=>({message:t.message,signature:s}))}async signString(t,{signingDate:r=new Date,signingRegion:n,signingService:o}={}){let i=await this.credentialProvider();this.validateResolvedCredentials(i);let s=n??await this.regionProvider(),{shortDate:a}=Ks(r),c=new this.sha256(await this.getSigningKey(i,s,a,o));return c.update((0,ml.toUint8Array)(t)),(0,gr.toHex)(await c.digest())}async signRequest(t,{signingDate:r=new Date,signableHeaders:n,unsignableHeaders:o,signingRegion:i,signingService:s}={}){let a=await this.credentialProvider();this.validateResolvedCredentials(a);let c=i??await this.regionProvider(),l=yl(t),{longDate:p,shortDate:m}=Ks(r),f=Ls(m,c,s??this.service);l.headers[uh]=p,a.sessionToken&&(l.headers[a2]=a.sessionToken);let _=await Us(l,this.sha256);!C2(_l,l.headers)&&this.applyChecksum&&(l.headers[_l]=_);let g=vl(l,o,n),S=await this.getSignature(p,f,this.getSigningKey(a,c,m,s),this.createCanonicalRequest(l,g,_));return l.headers[lh]=`${fl} Credential=${a.accessKeyId}/${f}, SignedHeaders=${ih(g)}, Signature=${S}`,l}createCanonicalRequest(t,r,n){let o=Object.keys(r).sort();return`${t.method}
${this.getCanonicalPath(t)}
${fh(t)}
${o.map(i=>`${i}:${r[i]}`).join(`
`)}

${o.join(";")}
${n}`}async createStringToSign(t,r,n){let o=new this.sha256;o.update((0,ml.toUint8Array)(n));let i=await o.digest();return`${fl}
${t}
${r}
${(0,gr.toHex)(i)}`}getCanonicalPath({path:t}){if(this.uriEscapePath){let r=[];for(let i of t.split("/"))i?.length!==0&&i!=="."&&(i===".."?r.pop():r.push(i));let n=`${t?.startsWith("/")?"/":""}${r.join("/")}${r.length>0&&t?.endsWith("/")?"/":""}`;return(0,Lo.escapeUri)(n).replace(/%2F/g,"/")}return t}async getSignature(t,r,n,o){let i=await this.createStringToSign(t,r,o),s=new this.sha256(await n);return s.update((0,ml.toUint8Array)(i)),(0,gr.toHex)(await s.digest())}getSigningKey(t,r,n,o){return mh(this.sha256,t,n,r,o||this.service)}validateResolvedCredentials(t){if(typeof t!="object"||typeof t.accessKeyId!="string"||typeof t.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}};pe(Sh,"SignatureV4");var R2=Sh,Ks=pe(e=>{let t=w2(e).replace(/[\-:]/g,"");return{longDate:t,shortDate:t.slice(0,8)}},"formatDate"),ih=pe(e=>Object.keys(e).sort().join(";"),"getCanonicalHeaderList")});var js=v(Wt=>{"use strict";var Ch=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",b2=Ch+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",Ph="["+Ch+"]["+b2+"]*",A2=new RegExp("^"+Ph+"$"),I2=function(e,t){let r=[],n=t.exec(e);for(;n;){let o=[];o.startIndex=t.lastIndex-n[0].length;let i=n.length;for(let s=0;s<i;s++)o.push(n[s]);r.push(o),n=t.exec(e)}return r},O2=function(e){let t=A2.exec(e);return!(t===null||typeof t>"u")};Wt.isExist=function(e){return typeof e<"u"};Wt.isEmptyObject=function(e){return Object.keys(e).length===0};Wt.merge=function(e,t,r){if(t){let n=Object.keys(t),o=n.length;for(let i=0;i<o;i++)r==="strict"?e[n[i]]=[t[n[i]]]:e[n[i]]=t[n[i]]}};Wt.getValue=function(e){return Wt.isExist(e)?e:""};Wt.isName=O2;Wt.getAllMatches=I2;Wt.nameRegexp=Ph});var El=v(Ah=>{"use strict";var Sl=js(),T2={allowBooleanAttributes:!1,unpairedTags:[]};Ah.validate=function(e,t){t=Object.assign({},T2,t);let r=[],n=!1,o=!1;e[0]==="\uFEFF"&&(e=e.substr(1));for(let i=0;i<e.length;i++)if(e[i]==="<"&&e[i+1]==="?"){if(i+=2,i=xh(e,i),i.err)return i}else if(e[i]==="<"){let s=i;if(i++,e[i]==="!"){i=Rh(e,i);continue}else{let a=!1;e[i]==="/"&&(a=!0,i++);let c="";for(;i<e.length&&e[i]!==">"&&e[i]!==" "&&e[i]!=="	"&&e[i]!==`
`&&e[i]!=="\r";i++)c+=e[i];if(c=c.trim(),c[c.length-1]==="/"&&(c=c.substring(0,c.length-1),i--),!U2(c)){let m;return c.trim().length===0?m="Invalid space after '<'.":m="Tag '"+c+"' is an invalid name.",me("InvalidTag",m,Ue(e,i))}let l=k2(e,i);if(l===!1)return me("InvalidAttr","Attributes for '"+c+"' have open quote.",Ue(e,i));let p=l.value;if(i=l.index,p[p.length-1]==="/"){let m=i-p.length;p=p.substring(0,p.length-1);let f=bh(p,t);if(f===!0)n=!0;else return me(f.err.code,f.err.msg,Ue(e,m+f.err.line))}else if(a)if(l.tagClosed){if(p.trim().length>0)return me("InvalidTag","Closing tag '"+c+"' can't have attributes or invalid starting.",Ue(e,s));{let m=r.pop();if(c!==m.tagName){let f=Ue(e,m.tagStartPos);return me("InvalidTag","Expected closing tag '"+m.tagName+"' (opened in line "+f.line+", col "+f.col+") instead of closing tag '"+c+"'.",Ue(e,s))}r.length==0&&(o=!0)}}else return me("InvalidTag","Closing tag '"+c+"' doesn't have proper closing.",Ue(e,i));else{let m=bh(p,t);if(m!==!0)return me(m.err.code,m.err.msg,Ue(e,i-p.length+m.err.line));if(o===!0)return me("InvalidXml","Multiple possible root nodes found.",Ue(e,i));t.unpairedTags.indexOf(c)!==-1||r.push({tagName:c,tagStartPos:s}),n=!0}for(i++;i<e.length;i++)if(e[i]==="<")if(e[i+1]==="!"){i++,i=Rh(e,i);continue}else if(e[i+1]==="?"){if(i=xh(e,++i),i.err)return i}else break;else if(e[i]==="&"){let m=F2(e,i);if(m==-1)return me("InvalidChar","char '&' is not expected.",Ue(e,i));i=m}else if(o===!0&&!wh(e[i]))return me("InvalidXml","Extra text at the end",Ue(e,i));e[i]==="<"&&i--}}else{if(wh(e[i]))continue;return me("InvalidChar","char '"+e[i]+"' is not expected.",Ue(e,i))}if(n){if(r.length==1)return me("InvalidTag","Unclosed tag '"+r[0].tagName+"'.",Ue(e,r[0].tagStartPos));if(r.length>0)return me("InvalidXml","Invalid '"+JSON.stringify(r.map(i=>i.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return me("InvalidXml","Start tag expected.",1);return!0};function wh(e){return e===" "||e==="	"||e===`
`||e==="\r"}function xh(e,t){let r=t;for(;t<e.length;t++)if(e[t]=="?"||e[t]==" "){let n=e.substr(r,t-r);if(t>5&&n==="xml")return me("InvalidXml","XML declaration allowed only at the start of the document.",Ue(e,t));if(e[t]=="?"&&e[t+1]==">"){t++;break}else continue}return t}function Rh(e,t){if(e.length>t+5&&e[t+1]==="-"&&e[t+2]==="-"){for(t+=3;t<e.length;t++)if(e[t]==="-"&&e[t+1]==="-"&&e[t+2]===">"){t+=2;break}}else if(e.length>t+8&&e[t+1]==="D"&&e[t+2]==="O"&&e[t+3]==="C"&&e[t+4]==="T"&&e[t+5]==="Y"&&e[t+6]==="P"&&e[t+7]==="E"){let r=1;for(t+=8;t<e.length;t++)if(e[t]==="<")r++;else if(e[t]===">"&&(r--,r===0))break}else if(e.length>t+9&&e[t+1]==="["&&e[t+2]==="C"&&e[t+3]==="D"&&e[t+4]==="A"&&e[t+5]==="T"&&e[t+6]==="A"&&e[t+7]==="["){for(t+=8;t<e.length;t++)if(e[t]==="]"&&e[t+1]==="]"&&e[t+2]===">"){t+=2;break}}return t}var N2='"',D2="'";function k2(e,t){let r="",n="",o=!1;for(;t<e.length;t++){if(e[t]===N2||e[t]===D2)n===""?n=e[t]:n!==e[t]||(n="");else if(e[t]===">"&&n===""){o=!0;break}r+=e[t]}return n!==""?!1:{value:r,index:t,tagClosed:o}}var M2=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function bh(e,t){let r=Sl.getAllMatches(e,M2),n={};for(let o=0;o<r.length;o++){if(r[o][1].length===0)return me("InvalidAttr","Attribute '"+r[o][2]+"' has no space in starting.",Uo(r[o]));if(r[o][3]!==void 0&&r[o][4]===void 0)return me("InvalidAttr","Attribute '"+r[o][2]+"' is without value.",Uo(r[o]));if(r[o][3]===void 0&&!t.allowBooleanAttributes)return me("InvalidAttr","boolean attribute '"+r[o][2]+"' is not allowed.",Uo(r[o]));let i=r[o][2];if(!L2(i))return me("InvalidAttr","Attribute '"+i+"' is an invalid name.",Uo(r[o]));if(!n.hasOwnProperty(i))n[i]=1;else return me("InvalidAttr","Attribute '"+i+"' is repeated.",Uo(r[o]))}return!0}function K2(e,t){let r=/\d/;for(e[t]==="x"&&(t++,r=/[\da-fA-F]/);t<e.length;t++){if(e[t]===";")return t;if(!e[t].match(r))break}return-1}function F2(e,t){if(t++,e[t]===";")return-1;if(e[t]==="#")return t++,K2(e,t);let r=0;for(;t<e.length;t++,r++)if(!(e[t].match(/\w/)&&r<20)){if(e[t]===";")break;return-1}return t}function me(e,t,r){return{err:{code:e,msg:t,line:r.line||r,col:r.col}}}function L2(e){return Sl.isName(e)}function U2(e){return Sl.isName(e)}function Ue(e,t){let r=e.substring(0,t).split(/\r?\n/);return{line:r.length,col:r[r.length-1].length+1}}function Uo(e){return e.startIndex+e[1].length}});var Oh=v(Cl=>{var Ih={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(e,t,r){return e}},q2=function(e){return Object.assign({},Ih,e)};Cl.buildOptions=q2;Cl.defaultOptions=Ih});var Nh=v((lce,Th)=>{"use strict";var Pl=class{constructor(t){this.tagname=t,this.child=[],this[":@"]={}}add(t,r){t==="__proto__"&&(t="#__proto__"),this.child.push({[t]:r})}addChild(t){t.tagname==="__proto__"&&(t.tagname="#__proto__"),t[":@"]&&Object.keys(t[":@"]).length>0?this.child.push({[t.tagname]:t.child,":@":t[":@"]}):this.child.push({[t.tagname]:t.child})}};Th.exports=Pl});var kh=v((uce,Dh)=>{var j2=js();function H2(e,t){let r={};if(e[t+3]==="O"&&e[t+4]==="C"&&e[t+5]==="T"&&e[t+6]==="Y"&&e[t+7]==="P"&&e[t+8]==="E"){t=t+9;let n=1,o=!1,i=!1,s="";for(;t<e.length;t++)if(e[t]==="<"&&!i){if(o&&z2(e,t))t+=7,[entityName,val,t]=G2(e,t+1),val.indexOf("&")===-1&&(r[X2(entityName)]={regx:RegExp(`&${entityName};`,"g"),val});else if(o&&W2(e,t))t+=8;else if(o&&V2(e,t))t+=8;else if(o&&B2(e,t))t+=9;else if($2)i=!0;else throw new Error("Invalid DOCTYPE");n++,s=""}else if(e[t]===">"){if(i?e[t-1]==="-"&&e[t-2]==="-"&&(i=!1,n--):n--,n===0)break}else e[t]==="["?o=!0:s+=e[t];if(n!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:r,i:t}}function G2(e,t){let r="";for(;t<e.length&&e[t]!=="'"&&e[t]!=='"';t++)r+=e[t];if(r=r.trim(),r.indexOf(" ")!==-1)throw new Error("External entites are not supported");let n=e[t++],o="";for(;t<e.length&&e[t]!==n;t++)o+=e[t];return[r,o,t]}function $2(e,t){return e[t+1]==="!"&&e[t+2]==="-"&&e[t+3]==="-"}function z2(e,t){return e[t+1]==="!"&&e[t+2]==="E"&&e[t+3]==="N"&&e[t+4]==="T"&&e[t+5]==="I"&&e[t+6]==="T"&&e[t+7]==="Y"}function W2(e,t){return e[t+1]==="!"&&e[t+2]==="E"&&e[t+3]==="L"&&e[t+4]==="E"&&e[t+5]==="M"&&e[t+6]==="E"&&e[t+7]==="N"&&e[t+8]==="T"}function V2(e,t){return e[t+1]==="!"&&e[t+2]==="A"&&e[t+3]==="T"&&e[t+4]==="T"&&e[t+5]==="L"&&e[t+6]==="I"&&e[t+7]==="S"&&e[t+8]==="T"}function B2(e,t){return e[t+1]==="!"&&e[t+2]==="N"&&e[t+3]==="O"&&e[t+4]==="T"&&e[t+5]==="A"&&e[t+6]==="T"&&e[t+7]==="I"&&e[t+8]==="O"&&e[t+9]==="N"}function X2(e){if(j2.isName(e))return e;throw new Error(`Invalid entity name ${e}`)}Dh.exports=H2});var Kh=v((pce,Mh)=>{var J2=/^[-+]?0x[a-fA-F0-9]+$/,Y2=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt);!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);var Q2={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function Z2(e,t={}){if(t=Object.assign({},Q2,t),!e||typeof e!="string")return e;let r=e.trim();if(t.skipLike!==void 0&&t.skipLike.test(r))return e;if(t.hex&&J2.test(r))return Number.parseInt(r,16);{let n=Y2.exec(r);if(n){let o=n[1],i=n[2],s=ez(n[3]),a=n[4]||n[6];if(!t.leadingZeros&&i.length>0&&o&&r[2]!==".")return e;if(!t.leadingZeros&&i.length>0&&!o&&r[1]!==".")return e;{let c=Number(r),l=""+c;return l.search(/[eE]/)!==-1||a?t.eNotation?c:e:r.indexOf(".")!==-1?l==="0"&&s===""||l===s||o&&l==="-"+s?c:e:i?s===l||o+s===l?c:e:r===l||r===o+l?c:e}}else return e}}function ez(e){return e&&e.indexOf(".")!==-1&&(e=e.replace(/0+$/,""),e==="."?e="0":e[0]==="."?e="0"+e:e[e.length-1]==="."&&(e=e.substr(0,e.length-1))),e}Mh.exports=Z2});var Lh=v((fce,Fh)=>{"use strict";var bl=js(),qo=Nh(),tz=kh(),rz=Kh(),mce="<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,bl.nameRegexp),wl=class{constructor(t){this.options=t,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xA2"},pound:{regex:/&(pound|#163);/g,val:"\xA3"},yen:{regex:/&(yen|#165);/g,val:"\xA5"},euro:{regex:/&(euro|#8364);/g,val:"\u20AC"},copyright:{regex:/&(copy|#169);/g,val:"\xA9"},reg:{regex:/&(reg|#174);/g,val:"\xAE"},inr:{regex:/&(inr|#8377);/g,val:"\u20B9"}},this.addExternalEntities=nz,this.parseXml=cz,this.parseTextData=oz,this.resolveNameSpace=iz,this.buildAttributesMap=az,this.isItStopNode=pz,this.replaceEntitiesValue=lz,this.readStopNodeData=fz,this.saveTextToParentTag=uz,this.addChild=dz}};function nz(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];this.lastEntities[n]={regex:new RegExp("&"+n+";","g"),val:e[n]}}}function oz(e,t,r,n,o,i,s){if(e!==void 0&&(this.options.trimValues&&!n&&(e=e.trim()),e.length>0)){s||(e=this.replaceEntitiesValue(e));let a=this.options.tagValueProcessor(t,e,r,o,i);return a==null?e:typeof a!=typeof e||a!==e?a:this.options.trimValues?Rl(e,this.options.parseTagValue,this.options.numberParseOptions):e.trim()===e?Rl(e,this.options.parseTagValue,this.options.numberParseOptions):e}}function iz(e){if(this.options.removeNSPrefix){let t=e.split(":"),r=e.charAt(0)==="/"?"/":"";if(t[0]==="xmlns")return"";t.length===2&&(e=r+t[1])}return e}var sz=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function az(e,t,r){if(!this.options.ignoreAttributes&&typeof e=="string"){let n=bl.getAllMatches(e,sz),o=n.length,i={};for(let s=0;s<o;s++){let a=this.resolveNameSpace(n[s][1]),c=n[s][4],l=this.options.attributeNamePrefix+a;if(a.length)if(this.options.transformAttributeName&&(l=this.options.transformAttributeName(l)),l==="__proto__"&&(l="#__proto__"),c!==void 0){this.options.trimValues&&(c=c.trim()),c=this.replaceEntitiesValue(c);let p=this.options.attributeValueProcessor(a,c,t);p==null?i[l]=c:typeof p!=typeof c||p!==c?i[l]=p:i[l]=Rl(c,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(i[l]=!0)}if(!Object.keys(i).length)return;if(this.options.attributesGroupName){let s={};return s[this.options.attributesGroupName]=i,s}return i}}var cz=function(e){e=e.replace(/\r\n?/g,`
`);let t=new qo("!xml"),r=t,n="",o="";for(let i=0;i<e.length;i++)if(e[i]==="<")if(e[i+1]==="/"){let a=rn(e,">",i,"Closing Tag is not closed."),c=e.substring(i+2,a).trim();if(this.options.removeNSPrefix){let m=c.indexOf(":");m!==-1&&(c=c.substr(m+1))}this.options.transformTagName&&(c=this.options.transformTagName(c)),r&&(n=this.saveTextToParentTag(n,r,o));let l=o.substring(o.lastIndexOf(".")+1);if(c&&this.options.unpairedTags.indexOf(c)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${c}>`);let p=0;l&&this.options.unpairedTags.indexOf(l)!==-1?(p=o.lastIndexOf(".",o.lastIndexOf(".")-1),this.tagsNodeStack.pop()):p=o.lastIndexOf("."),o=o.substring(0,p),r=this.tagsNodeStack.pop(),n="",i=a}else if(e[i+1]==="?"){let a=xl(e,i,!1,"?>");if(!a)throw new Error("Pi Tag is not closed.");if(n=this.saveTextToParentTag(n,r,o),!(this.options.ignoreDeclaration&&a.tagName==="?xml"||this.options.ignorePiTags)){let c=new qo(a.tagName);c.add(this.options.textNodeName,""),a.tagName!==a.tagExp&&a.attrExpPresent&&(c[":@"]=this.buildAttributesMap(a.tagExp,o,a.tagName)),this.addChild(r,c,o)}i=a.closeIndex+1}else if(e.substr(i+1,3)==="!--"){let a=rn(e,"-->",i+4,"Comment is not closed.");if(this.options.commentPropName){let c=e.substring(i+4,a-2);n=this.saveTextToParentTag(n,r,o),r.add(this.options.commentPropName,[{[this.options.textNodeName]:c}])}i=a}else if(e.substr(i+1,2)==="!D"){let a=tz(e,i);this.docTypeEntities=a.entities,i=a.i}else if(e.substr(i+1,2)==="!["){let a=rn(e,"]]>",i,"CDATA is not closed.")-2,c=e.substring(i+9,a);if(n=this.saveTextToParentTag(n,r,o),this.options.cdataPropName)r.add(this.options.cdataPropName,[{[this.options.textNodeName]:c}]);else{let l=this.parseTextData(c,r.tagname,o,!0,!1,!0);l==null&&(l=""),r.add(this.options.textNodeName,l)}i=a+2}else{let a=xl(e,i,this.options.removeNSPrefix),c=a.tagName,l=a.tagExp,p=a.attrExpPresent,m=a.closeIndex;this.options.transformTagName&&(c=this.options.transformTagName(c)),r&&n&&r.tagname!=="!xml"&&(n=this.saveTextToParentTag(n,r,o,!1));let f=r;if(f&&this.options.unpairedTags.indexOf(f.tagname)!==-1&&(r=this.tagsNodeStack.pop(),o=o.substring(0,o.lastIndexOf("."))),c!==t.tagname&&(o+=o?"."+c:c),this.isItStopNode(this.options.stopNodes,o,c)){let _="";if(l.length>0&&l.lastIndexOf("/")===l.length-1)i=a.closeIndex;else if(this.options.unpairedTags.indexOf(c)!==-1)i=a.closeIndex;else{let S=this.readStopNodeData(e,c,m+1);if(!S)throw new Error(`Unexpected end of ${c}`);i=S.i,_=S.tagContent}let g=new qo(c);c!==l&&p&&(g[":@"]=this.buildAttributesMap(l,o,c)),_&&(_=this.parseTextData(_,c,o,!0,p,!0,!0)),o=o.substr(0,o.lastIndexOf(".")),g.add(this.options.textNodeName,_),this.addChild(r,g,o)}else{if(l.length>0&&l.lastIndexOf("/")===l.length-1){c[c.length-1]==="/"?(c=c.substr(0,c.length-1),l=c):l=l.substr(0,l.length-1),this.options.transformTagName&&(c=this.options.transformTagName(c));let _=new qo(c);c!==l&&p&&(_[":@"]=this.buildAttributesMap(l,o,c)),this.addChild(r,_,o),o=o.substr(0,o.lastIndexOf("."))}else{let _=new qo(c);this.tagsNodeStack.push(r),c!==l&&p&&(_[":@"]=this.buildAttributesMap(l,o,c)),this.addChild(r,_,o),r=_}n="",i=m}}else n+=e[i];return t.child};function dz(e,t,r){let n=this.options.updateTag(t.tagname,r,t[":@"]);n===!1||(typeof n=="string"&&(t.tagname=n),e.addChild(t))}var lz=function(e){if(this.options.processEntities){for(let t in this.docTypeEntities){let r=this.docTypeEntities[t];e=e.replace(r.regx,r.val)}for(let t in this.lastEntities){let r=this.lastEntities[t];e=e.replace(r.regex,r.val)}if(this.options.htmlEntities)for(let t in this.htmlEntities){let r=this.htmlEntities[t];e=e.replace(r.regex,r.val)}e=e.replace(this.ampEntity.regex,this.ampEntity.val)}return e};function uz(e,t,r,n){return e&&(n===void 0&&(n=Object.keys(t.child).length===0),e=this.parseTextData(e,t.tagname,r,!1,t[":@"]?Object.keys(t[":@"]).length!==0:!1,n),e!==void 0&&e!==""&&t.add(this.options.textNodeName,e),e=""),e}function pz(e,t,r){let n="*."+r;for(let o in e){let i=e[o];if(n===i||t===i)return!0}return!1}function mz(e,t,r=">"){let n,o="";for(let i=t;i<e.length;i++){let s=e[i];if(n)s===n&&(n="");else if(s==='"'||s==="'")n=s;else if(s===r[0])if(r[1]){if(e[i+1]===r[1])return{data:o,index:i}}else return{data:o,index:i};else s==="	"&&(s=" ");o+=s}}function rn(e,t,r,n){let o=e.indexOf(t,r);if(o===-1)throw new Error(n);return o+t.length-1}function xl(e,t,r,n=">"){let o=mz(e,t+1,n);if(!o)return;let i=o.data,s=o.index,a=i.search(/\s/),c=i,l=!0;if(a!==-1&&(c=i.substr(0,a).replace(/\s\s*$/,""),i=i.substr(a+1)),r){let p=c.indexOf(":");p!==-1&&(c=c.substr(p+1),l=c!==o.data.substr(p+1))}return{tagName:c,tagExp:i,closeIndex:s,attrExpPresent:l}}function fz(e,t,r){let n=r,o=1;for(;r<e.length;r++)if(e[r]==="<")if(e[r+1]==="/"){let i=rn(e,">",r,`${t} is not closed`);if(e.substring(r+2,i).trim()===t&&(o--,o===0))return{tagContent:e.substring(n,r),i};r=i}else if(e[r+1]==="?")r=rn(e,"?>",r+1,"StopNode is not closed.");else if(e.substr(r+1,3)==="!--")r=rn(e,"-->",r+3,"StopNode is not closed.");else if(e.substr(r+1,2)==="![")r=rn(e,"]]>",r,"StopNode is not closed.")-2;else{let i=xl(e,r,">");i&&((i&&i.tagName)===t&&i.tagExp[i.tagExp.length-1]!=="/"&&o++,r=i.closeIndex)}}function Rl(e,t,r){if(t&&typeof e=="string"){let n=e.trim();return n==="true"?!0:n==="false"?!1:rz(e,r)}else return bl.isExist(e)?e:""}Fh.exports=wl});var jh=v(qh=>{"use strict";function _z(e,t){return Uh(e,t)}function Uh(e,t,r){let n,o={};for(let i=0;i<e.length;i++){let s=e[i],a=vz(s),c="";if(r===void 0?c=a:c=r+"."+a,a===t.textNodeName)n===void 0?n=s[a]:n+=""+s[a];else{if(a===void 0)continue;if(s[a]){let l=Uh(s[a],t,c),p=yz(l,t);s[":@"]?gz(l,s[":@"],c,t):Object.keys(l).length===1&&l[t.textNodeName]!==void 0&&!t.alwaysCreateTextNode?l=l[t.textNodeName]:Object.keys(l).length===0&&(t.alwaysCreateTextNode?l[t.textNodeName]="":l=""),o[a]!==void 0&&o.hasOwnProperty(a)?(Array.isArray(o[a])||(o[a]=[o[a]]),o[a].push(l)):t.isArray(a,c,p)?o[a]=[l]:o[a]=l}}}return typeof n=="string"?n.length>0&&(o[t.textNodeName]=n):n!==void 0&&(o[t.textNodeName]=n),o}function vz(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];if(n!==":@")return n}}function gz(e,t,r,n){if(t){let o=Object.keys(t),i=o.length;for(let s=0;s<i;s++){let a=o[s];n.isArray(a,r+"."+a,!0,!0)?e[a]=[t[a]]:e[a]=t[a]}}}function yz(e,t){let{textNodeName:r}=t,n=Object.keys(e).length;return!!(n===0||n===1&&(e[r]||typeof e[r]=="boolean"||e[r]===0))}qh.prettify=_z});var Gh=v((vce,Hh)=>{var{buildOptions:hz}=Oh(),Sz=Lh(),{prettify:Ez}=jh(),Cz=El(),Al=class{constructor(t){this.externalEntities={},this.options=hz(t)}parse(t,r){if(typeof t!="string")if(t.toString)t=t.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(r){r===!0&&(r={});let i=Cz.validate(t,r);if(i!==!0)throw Error(`${i.err.msg}:${i.err.line}:${i.err.col}`)}let n=new Sz(this.options);n.addExternalEntities(this.externalEntities);let o=n.parseXml(t);return this.options.preserveOrder||o===void 0?o:Ez(o,this.options)}addEntity(t,r){if(r.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(t.indexOf("&")!==-1||t.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(r==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[t]=r}};Hh.exports=Al});var Bh=v((gce,Vh)=>{var Pz=`
`;function wz(e,t){let r="";return t.format&&t.indentBy.length>0&&(r=Pz),zh(e,t,"",r)}function zh(e,t,r,n){let o="",i=!1;for(let s=0;s<e.length;s++){let a=e[s],c=xz(a),l="";if(r.length===0?l=c:l=`${r}.${c}`,c===t.textNodeName){let g=a[c];Rz(l,t)||(g=t.tagValueProcessor(c,g),g=Wh(g,t)),i&&(o+=n),o+=g,i=!1;continue}else if(c===t.cdataPropName){i&&(o+=n),o+=`<![CDATA[${a[c][0][t.textNodeName]}]]>`,i=!1;continue}else if(c===t.commentPropName){o+=n+`<!--${a[c][0][t.textNodeName]}-->`,i=!0;continue}else if(c[0]==="?"){let g=$h(a[":@"],t),S=c==="?xml"?"":n,P=a[c][0][t.textNodeName];P=P.length!==0?" "+P:"",o+=S+`<${c}${P}${g}?>`,i=!0;continue}let p=n;p!==""&&(p+=t.indentBy);let m=$h(a[":@"],t),f=n+`<${c}${m}`,_=zh(a[c],t,l,p);t.unpairedTags.indexOf(c)!==-1?t.suppressUnpairedNode?o+=f+">":o+=f+"/>":(!_||_.length===0)&&t.suppressEmptyNode?o+=f+"/>":_&&_.endsWith(">")?o+=f+`>${_}${n}</${c}>`:(o+=f+">",_&&n!==""&&(_.includes("/>")||_.includes("</"))?o+=n+t.indentBy+_+n:o+=_,o+=`</${c}>`),i=!0}return o}function xz(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];if(n!==":@")return n}}function $h(e,t){let r="";if(e&&!t.ignoreAttributes)for(let n in e){let o=t.attributeValueProcessor(n,e[n]);o=Wh(o,t),o===!0&&t.suppressBooleanAttributes?r+=` ${n.substr(t.attributeNamePrefix.length)}`:r+=` ${n.substr(t.attributeNamePrefix.length)}="${o}"`}return r}function Rz(e,t){e=e.substr(0,e.length-t.textNodeName.length-1);let r=e.substr(e.lastIndexOf(".")+1);for(let n in t.stopNodes)if(t.stopNodes[n]===e||t.stopNodes[n]==="*."+r)return!0;return!1}function Wh(e,t){if(e&&e.length>0&&t.processEntities)for(let r=0;r<t.entities.length;r++){let n=t.entities[r];e=e.replace(n.regex,n.val)}return e}Vh.exports=wz});var Jh=v((yce,Xh)=>{"use strict";var bz=Bh(),Az={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function yr(e){this.options=Object.assign({},Az,e),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=Tz),this.processTextOrObjNode=Iz,this.options.format?(this.indentate=Oz,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}yr.prototype.build=function(e){return this.options.preserveOrder?bz(e,this.options):(Array.isArray(e)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(e={[this.options.arrayNodeName]:e}),this.j2x(e,0).val)};yr.prototype.j2x=function(e,t){let r="",n="";for(let o in e)if(!(typeof e[o]>"u"))if(e[o]===null)o[0]==="?"?n+=this.indentate(t)+"<"+o+"?"+this.tagEndChar:n+=this.indentate(t)+"<"+o+"/"+this.tagEndChar;else if(e[o]instanceof Date)n+=this.buildTextValNode(e[o],o,"",t);else if(typeof e[o]!="object"){let i=this.isAttribute(o);if(i)r+=this.buildAttrPairStr(i,""+e[o]);else if(o===this.options.textNodeName){let s=this.options.tagValueProcessor(o,""+e[o]);n+=this.replaceEntitiesValue(s)}else n+=this.buildTextValNode(e[o],o,"",t)}else if(Array.isArray(e[o])){let i=e[o].length,s="";for(let a=0;a<i;a++){let c=e[o][a];typeof c>"u"||(c===null?o[0]==="?"?n+=this.indentate(t)+"<"+o+"?"+this.tagEndChar:n+=this.indentate(t)+"<"+o+"/"+this.tagEndChar:typeof c=="object"?this.options.oneListGroup?s+=this.j2x(c,t+1).val:s+=this.processTextOrObjNode(c,o,t):s+=this.buildTextValNode(c,o,"",t))}this.options.oneListGroup&&(s=this.buildObjectNode(s,o,"",t)),n+=s}else if(this.options.attributesGroupName&&o===this.options.attributesGroupName){let i=Object.keys(e[o]),s=i.length;for(let a=0;a<s;a++)r+=this.buildAttrPairStr(i[a],""+e[o][i[a]])}else n+=this.processTextOrObjNode(e[o],o,t);return{attrStr:r,val:n}};yr.prototype.buildAttrPairStr=function(e,t){return t=this.options.attributeValueProcessor(e,""+t),t=this.replaceEntitiesValue(t),this.options.suppressBooleanAttributes&&t==="true"?" "+e:" "+e+'="'+t+'"'};function Iz(e,t,r){let n=this.j2x(e,r+1);return e[this.options.textNodeName]!==void 0&&Object.keys(e).length===1?this.buildTextValNode(e[this.options.textNodeName],t,n.attrStr,r):this.buildObjectNode(n.val,t,n.attrStr,r)}yr.prototype.buildObjectNode=function(e,t,r,n){if(e==="")return t[0]==="?"?this.indentate(n)+"<"+t+r+"?"+this.tagEndChar:this.indentate(n)+"<"+t+r+this.closeTag(t)+this.tagEndChar;{let o="</"+t+this.tagEndChar,i="";return t[0]==="?"&&(i="?",o=""),r&&e.indexOf("<")===-1?this.indentate(n)+"<"+t+r+i+">"+e+o:this.options.commentPropName!==!1&&t===this.options.commentPropName&&i.length===0?this.indentate(n)+`<!--${e}-->`+this.newLine:this.indentate(n)+"<"+t+r+i+this.tagEndChar+e+this.indentate(n)+o}};yr.prototype.closeTag=function(e){let t="";return this.options.unpairedTags.indexOf(e)!==-1?this.options.suppressUnpairedNode||(t="/"):this.options.suppressEmptyNode?t="/":t=`></${e}`,t};yr.prototype.buildTextValNode=function(e,t,r,n){if(this.options.cdataPropName!==!1&&t===this.options.cdataPropName)return this.indentate(n)+`<![CDATA[${e}]]>`+this.newLine;if(this.options.commentPropName!==!1&&t===this.options.commentPropName)return this.indentate(n)+`<!--${e}-->`+this.newLine;if(t[0]==="?")return this.indentate(n)+"<"+t+r+"?"+this.tagEndChar;{let o=this.options.tagValueProcessor(t,e);return o=this.replaceEntitiesValue(o),o===""?this.indentate(n)+"<"+t+r+this.closeTag(t)+this.tagEndChar:this.indentate(n)+"<"+t+r+">"+o+"</"+t+this.tagEndChar}};yr.prototype.replaceEntitiesValue=function(e){if(e&&e.length>0&&this.options.processEntities)for(let t=0;t<this.options.entities.length;t++){let r=this.options.entities[t];e=e.replace(r.regex,r.val)}return e};function Oz(e){return this.options.indentBy.repeat(e)}function Tz(e){return e.startsWith(this.options.attributeNamePrefix)?e.substr(this.attrPrefixLen):!1}Xh.exports=yr});var Il=v((hce,Yh)=>{"use strict";var Nz=El(),Dz=Gh(),kz=Jh();Yh.exports={XMLParser:Dz,XMLValidator:Nz,XMLBuilder:kz}});var He=v((Ece,uS)=>{"use strict";var Hs=Object.defineProperty,Mz=Object.getOwnPropertyDescriptor,Kz=Object.getOwnPropertyNames,Fz=Object.prototype.hasOwnProperty,Z=(e,t)=>Hs(e,"name",{value:t,configurable:!0}),Lz=(e,t)=>{for(var r in t)Hs(e,r,{get:t[r],enumerable:!0})},Uz=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Kz(t))!Fz.call(e,o)&&o!==r&&Hs(e,o,{get:()=>t[o],enumerable:!(n=Mz(t,o))||n.enumerable});return e},qz=e=>Uz(Hs({},"__esModule",{value:!0}),e),rS={};Lz(rS,{AWSSDKSigV4Signer:()=>$z,AwsSdkSigV4Signer:()=>sS,_toBool:()=>Vz,_toNum:()=>Bz,_toStr:()=>Wz,awsExpectUnion:()=>Xz,emitWarningIfUnsupportedVersion:()=>jz,loadRestJsonErrorCode:()=>Yz,loadRestXmlErrorCode:()=>eW,parseJsonBody:()=>dS,parseJsonErrorBody:()=>Jz,parseXmlBody:()=>lS,parseXmlErrorBody:()=>Zz,resolveAWSSDKSigV4Config:()=>zz,resolveAwsSdkSigV4Config:()=>aS});uS.exports=qz(rS);var Qh=!1,jz=Z(e=>{e&&!Qh&&parseInt(e.substring(1,e.indexOf(".")))<16&&(Qh=!0)},"emitWarningIfUnsupportedVersion"),nS=ae(),Zh=Z(e=>{var t,r;return nS.HttpResponse.isInstance(e)?((t=e.headers)==null?void 0:t.date)??((r=e.headers)==null?void 0:r.Date):void 0},"getDateHeader"),oS=Z(e=>new Date(Date.now()+e),"getSkewCorrectedDate"),Hz=Z((e,t)=>Math.abs(oS(t).getTime()-e)>=3e5,"isClockSkewed"),eS=Z((e,t)=>{let r=Date.parse(e);return Hz(r,t)?r-Date.now():t},"getUpdatedSystemClockOffset"),jo=Z((e,t)=>{if(!t)throw new Error(`Property \`${e}\` is not resolved for AWS SDK SigV4Auth`);return t},"throwSigningPropertyError"),Gz=Z(async e=>{var t,r,n;let o=jo("context",e.context),i=jo("config",e.config),s=(n=(r=(t=o.endpointV2)==null?void 0:t.properties)==null?void 0:r.authSchemes)==null?void 0:n[0],c=await jo("signer",i.signer)(s),l=e?.signingRegion,p=e?.signingName;return{config:i,signer:c,signingRegion:l,signingName:p}},"validateSigningProperties"),iS=class{async sign(t,r,n){if(!nS.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let{config:o,signer:i,signingRegion:s,signingName:a}=await Gz(n);return await i.sign(t,{signingDate:oS(o.systemClockOffset),signingRegion:s,signingService:a})}errorHandler(t){return r=>{let n=r.ServerTime??Zh(r.$response);if(n){let o=jo("config",t.config),i=o.systemClockOffset;o.systemClockOffset=eS(n,o.systemClockOffset),o.systemClockOffset!==i&&r.$metadata&&(r.$metadata.clockSkewCorrected=!0)}throw r}}successHandler(t,r){let n=Zh(t);if(n){let o=jo("config",r.config);o.systemClockOffset=eS(n,o.systemClockOffset)}}};Z(iS,"AwsSdkSigV4Signer");var sS=iS,$z=sS,nn=Pe(),tS=hl(),aS=Z(e=>{let t;e.credentials&&(t=(0,nn.memoizeIdentityProvider)(e.credentials,nn.isIdentityExpired,nn.doesIdentityRequireRefresh)),t||(e.credentialDefaultProvider?t=(0,nn.normalizeProvider)(e.credentialDefaultProvider(Object.assign({},e,{parentClientConfig:e}))):t=Z(async()=>{throw new Error("`credentials` is missing")},"normalizedCreds"));let{signingEscapePath:r=!0,systemClockOffset:n=e.systemClockOffset||0,sha256:o}=e,i;return e.signer?i=(0,nn.normalizeProvider)(e.signer):e.regionInfoProvider?i=Z(()=>(0,nn.normalizeProvider)(e.region)().then(async s=>[await e.regionInfoProvider(s,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},s]).then(([s,a])=>{let{signingRegion:c,signingService:l}=s;e.signingRegion=e.signingRegion||c||a,e.signingName=e.signingName||l||e.serviceId;let p={...e,credentials:t,region:e.signingRegion,service:e.signingName,sha256:o,uriEscapePath:r},m=e.signerConstructor||tS.SignatureV4;return new m(p)}),"signer"):i=Z(async s=>{s=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await(0,nn.normalizeProvider)(e.region)(),properties:{}},s);let a=s.signingRegion,c=s.signingName;e.signingRegion=e.signingRegion||a,e.signingName=e.signingName||c||e.serviceId;let l={...e,credentials:t,region:e.signingRegion,service:e.signingName,sha256:o,uriEscapePath:r},p=e.signerConstructor||tS.SignatureV4;return new p(l)},"signer"),{...e,systemClockOffset:n,signingEscapePath:r,credentials:t,signer:i}},"resolveAwsSdkSigV4Config"),zz=aS,Wz=Z(e=>{if(e==null)return e;if(typeof e=="number"||typeof e=="bigint"){let t=new Error(`Received number ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}if(typeof e=="boolean"){let t=new Error(`Received boolean ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}return e},"_toStr"),Vz=Z(e=>{if(e==null)return e;if(typeof e=="string"){let t=e.toLowerCase();if(e!==""&&t!=="false"&&t!=="true"){let r=new Error(`Received string "${e}" where a boolean was expected.`);r.name="Warning",console.warn(r)}return e!==""&&t!=="false"}return e},"_toBool"),Bz=Z(e=>{if(e==null)return e;if(typeof e=="string"){let t=Number(e);if(t.toString()!==e){let r=new Error(`Received string "${e}" where a number was expected.`);return r.name="Warning",console.warn(r),e}return t}return e},"_toNum"),Ol=z(),Xz=Z(e=>{if(e!=null)return typeof e=="object"&&"__type"in e&&delete e.__type,(0,Ol.expectUnion)(e)},"awsExpectUnion"),cS=Z((e,t)=>(0,Ol.collectBody)(e,t).then(r=>t.utf8Encoder(r)),"collectBodyString"),dS=Z((e,t)=>cS(e,t).then(r=>{if(r.length)try{return JSON.parse(r)}catch(n){throw n?.name==="SyntaxError"&&Object.defineProperty(n,"$responseBodyText",{value:r}),n}return{}}),"parseJsonBody"),Jz=Z(async(e,t)=>{let r=await dS(e,t);return r.message=r.message??r.Message,r},"parseJsonErrorBody"),Yz=Z((e,t)=>{let r=Z((i,s)=>Object.keys(i).find(a=>a.toLowerCase()===s.toLowerCase()),"findKey"),n=Z(i=>{let s=i;return typeof s=="number"&&(s=s.toString()),s.indexOf(",")>=0&&(s=s.split(",")[0]),s.indexOf(":")>=0&&(s=s.split(":")[0]),s.indexOf("#")>=0&&(s=s.split("#")[1]),s},"sanitizeErrorCode"),o=r(e.headers,"x-amzn-errortype");if(o!==void 0)return n(e.headers[o]);if(t.code!==void 0)return n(t.code);if(t.__type!==void 0)return n(t.__type)},"loadRestJsonErrorCode"),Qz=Il(),lS=Z((e,t)=>cS(e,t).then(r=>{if(r.length){let n=new Qz.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(c,l)=>l.trim()===""&&l.includes(`
`)?"":void 0});n.addEntity("#xD","\r"),n.addEntity("#10",`
`);let o;try{o=n.parse(r,!0)}catch(c){throw c&&typeof c=="object"&&Object.defineProperty(c,"$responseBodyText",{value:r}),c}let i="#text",s=Object.keys(o)[0],a=o[s];return a[i]&&(a[s]=a[i],delete a[i]),(0,Ol.getValueFromTextNode)(a)}return{}}),"parseXmlBody"),Zz=Z(async(e,t)=>{let r=await lS(e,t);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},"parseXmlErrorBody"),eW=Z((e,t)=>{var r;if(((r=t?.Error)==null?void 0:r.Code)!==void 0)return t.Error.Code;if(t?.Code!==void 0)return t.Code;if(e.statusCode==404)return"NotFound"},"loadRestXmlErrorCode")});var Tl=v(hr=>{"use strict";Object.defineProperty(hr,"__esModule",{value:!0});hr.resolveHttpAuthSchemeConfig=hr.defaultKMSHttpAuthSchemeProvider=hr.defaultKMSHttpAuthSchemeParametersProvider=void 0;var tW=He(),pS=Ve(),rW=async(e,t,r)=>({operation:(0,pS.getSmithyContext)(t).operation,region:await(0,pS.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});hr.defaultKMSHttpAuthSchemeParametersProvider=rW;function nW(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"kms",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}var oW=e=>{let t=[];switch(e.operation){default:t.push(nW(e))}return t};hr.defaultKMSHttpAuthSchemeProvider=oW;var iW=e=>({...(0,tW.resolveAwsSdkSigV4Config)(e)});hr.resolveHttpAuthSchemeConfig=iW});var Vt={};td(Vt,{__addDisposableResource:()=>DS,__assign:()=>Gs,__asyncDelegator:()=>xS,__asyncGenerator:()=>wS,__asyncValues:()=>RS,__await:()=>Cn,__awaiter:()=>yS,__classPrivateFieldGet:()=>OS,__classPrivateFieldIn:()=>NS,__classPrivateFieldSet:()=>TS,__createBinding:()=>zs,__decorate:()=>_S,__disposeResources:()=>kS,__esDecorate:()=>sW,__exportStar:()=>SS,__extends:()=>mS,__generator:()=>hS,__importDefault:()=>IS,__importStar:()=>AS,__makeTemplateObject:()=>bS,__metadata:()=>gS,__param:()=>vS,__propKey:()=>cW,__read:()=>Dl,__rest:()=>fS,__runInitializers:()=>aW,__setFunctionName:()=>dW,__spread:()=>ES,__spreadArray:()=>PS,__spreadArrays:()=>CS,__values:()=>$s,default:()=>pW});function mS(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Nl(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function fS(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r}function _S(e,t,r,n){var o=arguments.length,i=o<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(i=(o<3?s(i):o>3?s(t,r,i):s(t,r))||i);return o>3&&i&&Object.defineProperty(t,r,i),i}function vS(e,t){return function(r,n){t(r,n,e)}}function sW(e,t,r,n,o,i){function s(x){if(x!==void 0&&typeof x!="function")throw new TypeError("Function expected");return x}for(var a=n.kind,c=a==="getter"?"get":a==="setter"?"set":"value",l=!t&&e?n.static?e:e.prototype:null,p=t||(l?Object.getOwnPropertyDescriptor(l,n.name):{}),m,f=!1,_=r.length-1;_>=0;_--){var g={};for(var S in n)g[S]=S==="access"?{}:n[S];for(var S in n.access)g.access[S]=n.access[S];g.addInitializer=function(x){if(f)throw new TypeError("Cannot add initializers after decoration has completed");i.push(s(x||null))};var P=(0,r[_])(a==="accessor"?{get:p.get,set:p.set}:p[c],g);if(a==="accessor"){if(P===void 0)continue;if(P===null||typeof P!="object")throw new TypeError("Object expected");(m=s(P.get))&&(p.get=m),(m=s(P.set))&&(p.set=m),(m=s(P.init))&&o.unshift(m)}else(m=s(P))&&(a==="field"?o.unshift(m):p[c]=m)}l&&Object.defineProperty(l,n.name,p),f=!0}function aW(e,t,r){for(var n=arguments.length>2,o=0;o<t.length;o++)r=n?t[o].call(e,r):t[o].call(e);return n?r:void 0}function cW(e){return typeof e=="symbol"?e:"".concat(e)}function dW(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function gS(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function yS(e,t,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(p){try{l(n.next(p))}catch(m){s(m)}}function c(p){try{l(n.throw(p))}catch(m){s(m)}}function l(p){p.done?i(p.value):o(p.value).then(a,c)}l((n=n.apply(e,t||[])).next())})}function hS(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(p){return c([l,p])}}function c(l){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,l[0]&&(r=0)),r;)try{if(n=1,o&&(i=l[0]&2?o.return:l[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,l[1])).done)return i;switch(o=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,o=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){r.label=l[1];break}if(l[0]===6&&r.label<i[1]){r.label=i[1],i=l;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(l);break}i[2]&&r.ops.pop(),r.trys.pop();continue}l=t.call(e,r)}catch(p){l=[6,p],o=0}finally{n=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function SS(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&zs(t,e,r)}function $s(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Dl(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,i=[],s;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(a){s={error:a}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return i}function ES(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Dl(arguments[t]));return e}function CS(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),o=0,t=0;t<r;t++)for(var i=arguments[t],s=0,a=i.length;s<a;s++,o++)n[o]=i[s];return n}function PS(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,i;n<o;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function Cn(e){return this instanceof Cn?(this.v=e,this):new Cn(e)}function wS(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),o,i=[];return o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o;function s(f){n[f]&&(o[f]=function(_){return new Promise(function(g,S){i.push([f,_,g,S])>1||a(f,_)})})}function a(f,_){try{c(n[f](_))}catch(g){m(i[0][3],g)}}function c(f){f.value instanceof Cn?Promise.resolve(f.value.v).then(l,p):m(i[0][2],f)}function l(f){a("next",f)}function p(f){a("throw",f)}function m(f,_){f(_),i.shift(),i.length&&a(i[0][0],i[0][1])}}function xS(e){var t,r;return t={},n("next"),n("throw",function(o){throw o}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(o,i){t[o]=e[o]?function(s){return(r=!r)?{value:Cn(e[o](s)),done:!1}:i?i(s):s}:i}}function RS(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof $s=="function"?$s(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(s){return new Promise(function(a,c){s=e[i](s),o(a,c,s.done,s.value)})}}function o(i,s,a,c){Promise.resolve(c).then(function(l){i({value:l,done:a})},s)}}function bS(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function AS(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&zs(t,e,r);return lW(t,e),t}function IS(e){return e&&e.__esModule?e:{default:e}}function OS(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function TS(e,t,r,n,o){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?o.call(e,r):o?o.value=r:t.set(e,r),r}function NS(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function DS(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose]}if(typeof n!="function")throw new TypeError("Object not disposable.");e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}function kS(e){function t(n){e.error=e.hasError?new uW(n,e.error,"An error was suppressed during disposal."):n,e.hasError=!0}function r(){for(;e.stack.length;){var n=e.stack.pop();try{var o=n.dispose&&n.dispose.call(n.value);if(n.async)return Promise.resolve(o).then(r,function(i){return t(i),r()})}catch(i){t(i)}}if(e.hasError)throw e.error}return r()}var Nl,Gs,zs,lW,uW,pW,Bt=ve(()=>{Nl=function(e,t){return Nl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])},Nl(e,t)};Gs=function(){return Gs=Object.assign||function(t){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Gs.apply(this,arguments)};zs=Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};lW=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};uW=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};pW={__extends:mS,__assign:Gs,__rest:fS,__decorate:_S,__param:vS,__metadata:gS,__awaiter:yS,__generator:hS,__createBinding:zs,__exportStar:SS,__values:$s,__read:Dl,__spread:ES,__spreadArrays:CS,__spreadArray:PS,__await:Cn,__asyncGenerator:wS,__asyncDelegator:xS,__asyncValues:RS,__makeTemplateObject:bS,__importStar:AS,__importDefault:IS,__classPrivateFieldGet:OS,__classPrivateFieldSet:TS,__classPrivateFieldIn:NS,__addDisposableResource:DS,__disposeResources:kS}});var MS=v((Pce,mW)=>{mW.exports={name:"@aws-sdk/client-kms",description:"AWS SDK for JavaScript Kms Client for Node.js, Browser and React Native",version:"3.572.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-kms","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo kms"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/client-sso-oidc":"3.572.0","@aws-sdk/client-sts":"3.572.0","@aws-sdk/core":"3.572.0","@aws-sdk/credential-provider-node":"3.572.0","@aws-sdk/middleware-host-header":"3.567.0","@aws-sdk/middleware-logger":"3.568.0","@aws-sdk/middleware-recursion-detection":"3.567.0","@aws-sdk/middleware-user-agent":"3.572.0","@aws-sdk/region-config-resolver":"3.572.0","@aws-sdk/types":"3.567.0","@aws-sdk/util-endpoints":"3.572.0","@aws-sdk/util-user-agent-browser":"3.567.0","@aws-sdk/util-user-agent-node":"3.568.0","@smithy/config-resolver":"^2.2.0","@smithy/core":"^1.4.2","@smithy/fetch-http-handler":"^2.5.0","@smithy/hash-node":"^2.2.0","@smithy/invalid-dependency":"^2.2.0","@smithy/middleware-content-length":"^2.2.0","@smithy/middleware-endpoint":"^2.5.1","@smithy/middleware-retry":"^2.3.1","@smithy/middleware-serde":"^2.3.0","@smithy/middleware-stack":"^2.2.0","@smithy/node-config-provider":"^2.3.0","@smithy/node-http-handler":"^2.5.0","@smithy/protocol-http":"^3.3.0","@smithy/smithy-client":"^2.5.1","@smithy/types":"^2.12.0","@smithy/url-parser":"^2.2.0","@smithy/util-base64":"^2.3.0","@smithy/util-body-length-browser":"^2.2.0","@smithy/util-body-length-node":"^2.3.0","@smithy/util-defaults-mode-browser":"^2.2.1","@smithy/util-defaults-mode-node":"^2.3.1","@smithy/util-endpoints":"^1.2.0","@smithy/util-middleware":"^2.2.0","@smithy/util-retry":"^2.2.0","@smithy/util-utf8":"^2.3.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node16":"16.1.3","@types/node":"^16.18.96",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~4.9.5"},engines:{node:">=16.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-kms",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-kms"}}});var kl=v((wce,HS)=>{var Ws=Object.defineProperty,fW=Object.getOwnPropertyDescriptor,_W=Object.getOwnPropertyNames,vW=Object.prototype.hasOwnProperty,gW=(e,t)=>Ws(e,"name",{value:t,configurable:!0}),yW=(e,t)=>{for(var r in t)Ws(e,r,{get:t[r],enumerable:!0})},hW=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of _W(t))!vW.call(e,o)&&o!==r&&Ws(e,o,{get:()=>t[o],enumerable:!(n=fW(t,o))||n.enumerable});return e},SW=e=>hW(Ws({},"__esModule",{value:!0}),e),KS={};yW(KS,{ENV_CREDENTIAL_SCOPE:()=>jS,ENV_EXPIRATION:()=>qS,ENV_KEY:()=>FS,ENV_SECRET:()=>LS,ENV_SESSION:()=>US,fromEnv:()=>CW});HS.exports=SW(KS);var EW=te(),FS="AWS_ACCESS_KEY_ID",LS="AWS_SECRET_ACCESS_KEY",US="AWS_SESSION_TOKEN",qS="AWS_CREDENTIAL_EXPIRATION",jS="AWS_CREDENTIAL_SCOPE",CW=gW(e=>async()=>{var t;(t=e?.logger)==null||t.debug("@aws-sdk/credential-provider-env","fromEnv");let r=process.env[FS],n=process.env[LS],o=process.env[US],i=process.env[qS],s=process.env[jS];if(r&&n)return{accessKeyId:r,secretAccessKey:n,...o&&{sessionToken:o},...i&&{expiration:new Date(i)},...s&&{credentialScope:s}};throw new EW.CredentialsProviderError("Unable to find environment variable credentials.")},"fromEnv")});var Sr=v((xce,nE)=>{var Xs=Object.defineProperty,PW=Object.getOwnPropertyDescriptor,wW=Object.getOwnPropertyNames,xW=Object.prototype.hasOwnProperty,fe=(e,t)=>Xs(e,"name",{value:t,configurable:!0}),RW=(e,t)=>{for(var r in t)Xs(e,r,{get:t[r],enumerable:!0})},bW=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of wW(t))!xW.call(e,o)&&o!==r&&Xs(e,o,{get:()=>t[o],enumerable:!(n=PW(t,o))||n.enumerable});return e},AW=e=>bW(Xs({},"__esModule",{value:!0}),e),WS={};RW(WS,{DEFAULT_MAX_RETRIES:()=>JS,DEFAULT_TIMEOUT:()=>XS,ENV_CMDS_AUTH_TOKEN:()=>Fl,ENV_CMDS_FULL_URI:()=>Vs,ENV_CMDS_RELATIVE_URI:()=>Bs,Endpoint:()=>ZS,fromContainerMetadata:()=>NW,fromInstanceMetadata:()=>ZW,getInstanceMetadataEndpoint:()=>tE,httpRequest:()=>Pn,providerConfigFromInit:()=>Ll});nE.exports=AW(WS);var IW=require("url"),Tt=te(),OW=require("buffer"),TW=require("http");function Pn(e){return new Promise((t,r)=>{var n;let o=(0,TW.request)({method:"GET",...e,hostname:(n=e.hostname)==null?void 0:n.replace(/^\[(.+)\]$/,"$1")});o.on("error",i=>{r(Object.assign(new Tt.ProviderError("Unable to connect to instance metadata service"),i)),o.destroy()}),o.on("timeout",()=>{r(new Tt.ProviderError("TimeoutError from instance metadata service")),o.destroy()}),o.on("response",i=>{let{statusCode:s=400}=i;(s<200||300<=s)&&(r(Object.assign(new Tt.ProviderError("Error response received from instance metadata service"),{statusCode:s})),o.destroy());let a=[];i.on("data",c=>{a.push(c)}),i.on("end",()=>{t(OW.Buffer.concat(a)),o.destroy()})}),o.end()})}fe(Pn,"httpRequest");var VS=fe(e=>!!e&&typeof e=="object"&&typeof e.AccessKeyId=="string"&&typeof e.SecretAccessKey=="string"&&typeof e.Token=="string"&&typeof e.Expiration=="string","isImdsCredentials"),BS=fe(e=>({accessKeyId:e.AccessKeyId,secretAccessKey:e.SecretAccessKey,sessionToken:e.Token,expiration:new Date(e.Expiration)}),"fromImdsCredentials"),XS=1e3,JS=0,Ll=fe(({maxRetries:e=JS,timeout:t=XS})=>({maxRetries:e,timeout:t}),"providerConfigFromInit"),Kl=fe((e,t)=>{let r=e();for(let n=0;n<t;n++)r=r.catch(e);return r},"retry"),Vs="AWS_CONTAINER_CREDENTIALS_FULL_URI",Bs="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",Fl="AWS_CONTAINER_AUTHORIZATION_TOKEN",NW=fe((e={})=>{let{timeout:t,maxRetries:r}=Ll(e);return()=>Kl(async()=>{let n=await FW(),o=JSON.parse(await DW(t,n));if(!VS(o))throw new Tt.CredentialsProviderError("Invalid response received from instance metadata service.");return BS(o)},r)},"fromContainerMetadata"),DW=fe(async(e,t)=>(process.env[Fl]&&(t.headers={...t.headers,Authorization:process.env[Fl]}),(await Pn({...t,timeout:e})).toString()),"requestFromEcsImds"),kW="169.254.170.2",MW={localhost:!0,"127.0.0.1":!0},KW={"http:":!0,"https:":!0},FW=fe(async()=>{if(process.env[Bs])return{hostname:kW,path:process.env[Bs]};if(process.env[Vs]){let e=(0,IW.parse)(process.env[Vs]);if(!e.hostname||!(e.hostname in MW))throw new Tt.CredentialsProviderError(`${e.hostname} is not a valid container metadata service hostname`,!1);if(!e.protocol||!(e.protocol in KW))throw new Tt.CredentialsProviderError(`${e.protocol} is not a valid container metadata service protocol`,!1);return{...e,port:e.port?parseInt(e.port,10):void 0}}throw new Tt.CredentialsProviderError(`The container metadata credential provider cannot be used unless the ${Bs} or ${Vs} environment variable is set`,!1)},"getCmdsUri"),YS=class QS extends Tt.CredentialsProviderError{constructor(t,r=!0){super(t,r),this.tryNextLink=r,this.name="InstanceMetadataV1FallbackError",Object.setPrototypeOf(this,QS.prototype)}};fe(YS,"InstanceMetadataV1FallbackError");var LW=YS,Ul=Xe(),UW=$t(),ZS=(e=>(e.IPv4="http://169.254.169.254",e.IPv6="http://[fd00:ec2::254]",e))(ZS||{}),qW="AWS_EC2_METADATA_SERVICE_ENDPOINT",jW="ec2_metadata_service_endpoint",HW={environmentVariableSelector:e=>e[qW],configFileSelector:e=>e[jW],default:void 0},eE=(e=>(e.IPv4="IPv4",e.IPv6="IPv6",e))(eE||{}),GW="AWS_EC2_METADATA_SERVICE_ENDPOINT_MODE",$W="ec2_metadata_service_endpoint_mode",zW={environmentVariableSelector:e=>e[GW],configFileSelector:e=>e[$W],default:"IPv4"},tE=fe(async()=>(0,UW.parseUrl)(await WW()||await VW()),"getInstanceMetadataEndpoint"),WW=fe(async()=>(0,Ul.loadConfig)(HW)(),"getFromEndpointConfig"),VW=fe(async()=>{let e=await(0,Ul.loadConfig)(zW)();switch(e){case"IPv4":return"http://169.254.169.254";case"IPv6":return"http://[fd00:ec2::254]";default:throw new Error(`Unsupported endpoint mode: ${e}. Select from ${Object.values(eE)}`)}},"getFromEndpointModeConfig"),BW=5*60,XW=5*60,JW="https://docs.aws.amazon.com/sdkref/latest/guide/feature-static-credentials.html",GS=fe((e,t)=>{let r=BW+Math.floor(Math.random()*XW),n=new Date(Date.now()+r*1e3);t.warn(`Attempting credential expiration extension due to a credential service availability issue. A refresh of these credentials will be attempted after ${new Date(n)}.
For more information, please visit: `+JW);let o=e.originalExpiration??e.expiration;return{...e,...o?{originalExpiration:o}:{},expiration:n}},"getExtendedInstanceMetadataCredentials"),YW=fe((e,t={})=>{let r=t?.logger||console,n;return async()=>{let o;try{o=await e(),o.expiration&&o.expiration.getTime()<Date.now()&&(o=GS(o,r))}catch(i){if(n)r.warn("Credential renew failed: ",i),o=GS(n,r);else throw i}return n=o,o}},"staticStabilityProvider"),rE="/latest/meta-data/iam/security-credentials/",QW="/latest/api/token",Ml="AWS_EC2_METADATA_V1_DISABLED",$S="ec2_metadata_v1_disabled",zS="x-aws-ec2-metadata-token",ZW=fe((e={})=>YW(eV(e),{logger:e.logger}),"fromInstanceMetadata"),eV=fe(e=>{let t=!1,{logger:r,profile:n}=e,{timeout:o,maxRetries:i}=Ll(e),s=fe(async(a,c)=>{var l;if(t||((l=c.headers)==null?void 0:l[zS])==null){let f=!1,_=!1,g=await(0,Ul.loadConfig)({environmentVariableSelector:S=>{let P=S[Ml];if(_=!!P&&P!=="false",P===void 0)throw new Tt.CredentialsProviderError(`${Ml} not set in env, checking config file next.`);return _},configFileSelector:S=>{let P=S[$S];return f=!!P&&P!=="false",f},default:!1},{profile:n})();if(e.ec2MetadataV1Disabled||g){let S=[];throw e.ec2MetadataV1Disabled&&S.push("credential provider initialization (runtime option ec2MetadataV1Disabled)"),f&&S.push(`config file profile (${$S})`),_&&S.push(`process environment variable (${Ml})`),new LW(`AWS EC2 Metadata v1 fallback has been blocked by AWS SDK configuration in the following: [${S.join(", ")}].`)}}let m=(await Kl(async()=>{let f;try{f=await rV(c)}catch(_){throw _.statusCode===401&&(t=!1),_}return f},a)).trim();return Kl(async()=>{let f;try{f=await nV(m,c)}catch(_){throw _.statusCode===401&&(t=!1),_}return f},a)},"getCredentials");return async()=>{let a=await tE();if(t)return r?.debug("AWS SDK Instance Metadata","using v1 fallback (no token fetch)"),s(i,{...a,timeout:o});{let c;try{c=(await tV({...a,timeout:o})).toString()}catch(l){if(l?.statusCode===400)throw Object.assign(l,{message:"EC2 Metadata token request returned error"});return(l.message==="TimeoutError"||[403,404,405].includes(l.statusCode))&&(t=!0),r?.debug("AWS SDK Instance Metadata","using v1 fallback (initial)"),s(i,{...a,timeout:o})}return s(i,{...a,headers:{[zS]:c},timeout:o})}}},"getInstanceImdsProvider"),tV=fe(async e=>Pn({...e,path:QW,method:"PUT",headers:{"x-aws-ec2-metadata-token-ttl-seconds":"21600"}}),"getMetadataToken"),rV=fe(async e=>(await Pn({...e,path:rE})).toString(),"getProfile"),nV=fe(async(e,t)=>{let r=JSON.parse((await Pn({...t,path:rE+e})).toString());if(!VS(r))throw new Tt.CredentialsProviderError("Invalid response received from instance metadata service.");return BS(r)},"getCredentialsFromProfile")});var oE=v(Js=>{"use strict";Object.defineProperty(Js,"__esModule",{value:!0});Js.checkUrl=void 0;var oV=te(),iV="169.254.170.2",sV="169.254.170.23",aV="[fd00:ec2::23]",cV=e=>{if(e.protocol!=="https:"&&!(e.hostname===iV||e.hostname===sV||e.hostname===aV)){if(e.hostname.includes("[")){if(e.hostname==="[::1]"||e.hostname==="[0000:0000:0000:0000:0000:0000:0000:0001]")return}else{if(e.hostname==="localhost")return;let t=e.hostname.split("."),r=n=>{let o=parseInt(n,10);return 0<=o&&o<=255};if(t[0]==="127"&&r(t[1])&&r(t[2])&&r(t[3])&&t.length===4)return}throw new oV.CredentialsProviderError(`URL not accepted. It must either be HTTPS or match one of the following:
  - loopback CIDR 127.0.0.0/8 or [::1/128]
  - ECS container host 169.254.170.2
  - EKS container host 169.254.170.23 or [fd00:ec2::23]`)}};Js.checkUrl=cV});var iE=v(wn=>{"use strict";Object.defineProperty(wn,"__esModule",{value:!0});wn.getCredentials=wn.createGetRequest=void 0;var ql=te(),dV=ae(),lV=z(),uV=ws();function pV(e){return new dV.HttpRequest({protocol:e.protocol,hostname:e.hostname,port:Number(e.port),path:e.pathname,query:Array.from(e.searchParams.entries()).reduce((t,[r,n])=>(t[r]=n,t),{}),fragment:e.hash})}wn.createGetRequest=pV;async function mV(e){var t,r;let n=(r=(t=e?.headers["content-type"])!==null&&t!==void 0?t:e?.headers["Content-Type"])!==null&&r!==void 0?r:"";n.includes("json")||console.warn("HTTP credential provider response header content-type was not application/json. Observed: "+n+".");let i=await(0,uV.sdkStreamMixin)(e.body).transformToString();if(e.statusCode===200){let s=JSON.parse(i);if(typeof s.AccessKeyId!="string"||typeof s.SecretAccessKey!="string"||typeof s.Token!="string"||typeof s.Expiration!="string")throw new ql.CredentialsProviderError("HTTP credential provider response not of the required format, an object matching: { AccessKeyId: string, SecretAccessKey: string, Token: string, Expiration: string(rfc3339) }");return{accessKeyId:s.AccessKeyId,secretAccessKey:s.SecretAccessKey,sessionToken:s.Token,expiration:(0,lV.parseRfc3339DateTime)(s.Expiration)}}if(e.statusCode>=400&&e.statusCode<500){let s={};try{s=JSON.parse(i)}catch{}throw Object.assign(new ql.CredentialsProviderError(`Server responded with status: ${e.statusCode}`),{Code:s.Code,Message:s.Message})}throw new ql.CredentialsProviderError(`Server responded with status: ${e.statusCode}`)}wn.getCredentials=mV});var sE=v(Ys=>{"use strict";Object.defineProperty(Ys,"__esModule",{value:!0});Ys.retryWrapper=void 0;var fV=(e,t,r)=>async()=>{for(let n=0;n<t;++n)try{return await e()}catch{await new Promise(i=>setTimeout(i,r))}return await e()};Ys.retryWrapper=fV});var dE=v(Qs=>{"use strict";Object.defineProperty(Qs,"__esModule",{value:!0});Qs.fromHttp=void 0;var _V=(Bt(),bt(Vt)),vV=It(),aE=te(),gV=_V.__importDefault(require("fs/promises")),yV=oE(),cE=iE(),hV=sE(),SV="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",EV="http://169.254.170.2",CV="AWS_CONTAINER_CREDENTIALS_FULL_URI",PV="AWS_CONTAINER_AUTHORIZATION_TOKEN_FILE",wV="AWS_CONTAINER_AUTHORIZATION_TOKEN",xV=e=>{var t,r,n,o,i,s,a,c,l;(t=e.logger)===null||t===void 0||t.debug("@aws-sdk/credential-provider-http","fromHttp");let p,m=(r=e.awsContainerCredentialsRelativeUri)!==null&&r!==void 0?r:process.env[SV],f=(n=e.awsContainerCredentialsFullUri)!==null&&n!==void 0?n:process.env[CV],_=(o=e.awsContainerAuthorizationToken)!==null&&o!==void 0?o:process.env[wV],g=(i=e.awsContainerAuthorizationTokenFile)!==null&&i!==void 0?i:process.env[PV];if(m&&f&&(console.warn("AWS SDK HTTP credentials provider:","you have set both awsContainerCredentialsRelativeUri and awsContainerCredentialsFullUri."),console.warn("awsContainerCredentialsFullUri will take precedence.")),_&&g&&(console.warn("AWS SDK HTTP credentials provider:","you have set both awsContainerAuthorizationToken and awsContainerAuthorizationTokenFile."),console.warn("awsContainerAuthorizationToken will take precedence.")),f)p=f;else if(m)p=`${EV}${m}`;else throw new aE.CredentialsProviderError(`No HTTP credential provider host provided.
Set AWS_CONTAINER_CREDENTIALS_FULL_URI or AWS_CONTAINER_CREDENTIALS_RELATIVE_URI.`);let S=new URL(p);(0,yV.checkUrl)(S);let P=new vV.NodeHttpHandler({requestTimeout:(s=e.timeout)!==null&&s!==void 0?s:1e3,connectionTimeout:(a=e.timeout)!==null&&a!==void 0?a:1e3});return(0,hV.retryWrapper)(async()=>{let x=(0,cE.createGetRequest)(S);_?x.headers.Authorization=_:g&&(x.headers.Authorization=(await gV.default.readFile(g)).toString());try{let R=await P.handle(x);return(0,cE.getCredentials)(R.response)}catch(R){throw new aE.CredentialsProviderError(String(R))}},(c=e.maxRetries)!==null&&c!==void 0?c:3,(l=e.timeout)!==null&&l!==void 0?l:1e3)};Qs.fromHttp=xV});var lE=v(Zs=>{"use strict";Object.defineProperty(Zs,"__esModule",{value:!0});Zs.fromHttp=void 0;var RV=dE();Object.defineProperty(Zs,"fromHttp",{enumerable:!0,get:function(){return RV.fromHttp}})});var jl=v(Er=>{"use strict";Object.defineProperty(Er,"__esModule",{value:!0});Er.resolveHttpAuthSchemeConfig=Er.defaultSSOHttpAuthSchemeProvider=Er.defaultSSOHttpAuthSchemeParametersProvider=void 0;var bV=He(),uE=Ve(),AV=async(e,t,r)=>({operation:(0,uE.getSmithyContext)(t).operation,region:await(0,uE.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});Er.defaultSSOHttpAuthSchemeParametersProvider=AV;function IV(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"awsssoportal",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function ea(e){return{schemeId:"smithy.api#noAuth"}}var OV=e=>{let t=[];switch(e.operation){case"GetRoleCredentials":{t.push(ea(e));break}case"ListAccountRoles":{t.push(ea(e));break}case"ListAccounts":{t.push(ea(e));break}case"Logout":{t.push(ea(e));break}default:t.push(IV(e))}return t};Er.defaultSSOHttpAuthSchemeProvider=OV;var TV=e=>({...(0,bV.resolveAwsSdkSigV4Config)(e)});Er.resolveHttpAuthSchemeConfig=TV});var pE=v((Nce,NV)=>{NV.exports={name:"@aws-sdk/client-sso",description:"AWS SDK for JavaScript Sso Client for Node.js, Browser and React Native",version:"3.572.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-sso","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sso"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/core":"3.572.0","@aws-sdk/middleware-host-header":"3.567.0","@aws-sdk/middleware-logger":"3.568.0","@aws-sdk/middleware-recursion-detection":"3.567.0","@aws-sdk/middleware-user-agent":"3.572.0","@aws-sdk/region-config-resolver":"3.572.0","@aws-sdk/types":"3.567.0","@aws-sdk/util-endpoints":"3.572.0","@aws-sdk/util-user-agent-browser":"3.567.0","@aws-sdk/util-user-agent-node":"3.568.0","@smithy/config-resolver":"^2.2.0","@smithy/core":"^1.4.2","@smithy/fetch-http-handler":"^2.5.0","@smithy/hash-node":"^2.2.0","@smithy/invalid-dependency":"^2.2.0","@smithy/middleware-content-length":"^2.2.0","@smithy/middleware-endpoint":"^2.5.1","@smithy/middleware-retry":"^2.3.1","@smithy/middleware-serde":"^2.3.0","@smithy/middleware-stack":"^2.2.0","@smithy/node-config-provider":"^2.3.0","@smithy/node-http-handler":"^2.5.0","@smithy/protocol-http":"^3.3.0","@smithy/smithy-client":"^2.5.1","@smithy/types":"^2.12.0","@smithy/url-parser":"^2.2.0","@smithy/util-base64":"^2.3.0","@smithy/util-body-length-browser":"^2.2.0","@smithy/util-body-length-node":"^2.3.0","@smithy/util-defaults-mode-browser":"^2.2.1","@smithy/util-defaults-mode-node":"^2.3.1","@smithy/util-endpoints":"^1.2.0","@smithy/util-middleware":"^2.2.0","@smithy/util-retry":"^2.2.0","@smithy/util-utf8":"^2.3.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node16":"16.1.3","@types/node":"^16.18.96",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~4.9.5"},engines:{node:">=16.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso"}}});var ra=v((Dce,hE)=>{var ta=Object.defineProperty,DV=Object.getOwnPropertyDescriptor,kV=Object.getOwnPropertyNames,MV=Object.prototype.hasOwnProperty,fE=(e,t)=>ta(e,"name",{value:t,configurable:!0}),KV=(e,t)=>{for(var r in t)ta(e,r,{get:t[r],enumerable:!0})},FV=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of kV(t))!MV.call(e,o)&&o!==r&&ta(e,o,{get:()=>t[o],enumerable:!(n=DV(t,o))||n.enumerable});return e},LV=e=>FV(ta({},"__esModule",{value:!0}),e),_E={};KV(_E,{UA_APP_ID_ENV_NAME:()=>gE,UA_APP_ID_INI_NAME:()=>yE,crtAvailability:()=>vE,defaultUserAgent:()=>jV});hE.exports=LV(_E);var UV=Xe(),mE=require("os"),Hl=require("process"),vE={isCrtAvailable:!1},qV=fE(()=>vE.isCrtAvailable?["md/crt-avail"]:null,"isCrtAvailable"),gE="AWS_SDK_UA_APP_ID",yE="sdk-ua-app-id",jV=fE(({serviceId:e,clientVersion:t})=>{let r=[["aws-sdk-js",t],["ua","2.0"],[`os/${(0,mE.platform)()}`,(0,mE.release)()],["lang/js"],["md/nodejs",`${Hl.versions.node}`]],n=qV();n&&r.push(n),e&&r.push([`api/${e}`,t]),Hl.env.AWS_EXECUTION_ENV&&r.push([`exec-env/${Hl.env.AWS_EXECUTION_ENV}`]);let o=(0,UV.loadConfig)({environmentVariableSelector:s=>s[gE],configFileSelector:s=>s[yE],default:void 0})(),i;return async()=>{if(!i){let s=await o;i=s?[...r,[`app/${s}`]]:[...r]}return i}},"defaultUserAgent")});var on=v((Mce,wE)=>{var na=Object.defineProperty,HV=Object.getOwnPropertyDescriptor,GV=Object.getOwnPropertyNames,$V=Object.prototype.hasOwnProperty,EE=(e,t)=>na(e,"name",{value:t,configurable:!0}),zV=(e,t)=>{for(var r in t)na(e,r,{get:t[r],enumerable:!0})},WV=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of GV(t))!$V.call(e,o)&&o!==r&&na(e,o,{get:()=>t[o],enumerable:!(n=HV(t,o))||n.enumerable});return e},VV=e=>WV(na({},"__esModule",{value:!0}),e),CE={};zV(CE,{Hash:()=>JV});wE.exports=VV(CE);var Gl=vn(),BV=Fe(),XV=require("buffer"),SE=require("crypto"),PE=class{constructor(t,r){this.algorithmIdentifier=t,this.secret=r,this.reset()}update(t,r){this.hash.update((0,BV.toUint8Array)($l(t,r)))}digest(){return Promise.resolve(this.hash.digest())}reset(){this.hash=this.secret?(0,SE.createHmac)(this.algorithmIdentifier,$l(this.secret)):(0,SE.createHash)(this.algorithmIdentifier)}};EE(PE,"Hash");var JV=PE;function $l(e,t){return XV.Buffer.isBuffer(e)?e:typeof e=="string"?(0,Gl.fromString)(e,t):ArrayBuffer.isView(e)?(0,Gl.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength):(0,Gl.fromArrayBuffer)(e)}EE($l,"castSourceData")});var sn=v((Kce,bE)=>{var oa=Object.defineProperty,YV=Object.getOwnPropertyDescriptor,QV=Object.getOwnPropertyNames,ZV=Object.prototype.hasOwnProperty,eB=(e,t)=>oa(e,"name",{value:t,configurable:!0}),tB=(e,t)=>{for(var r in t)oa(e,r,{get:t[r],enumerable:!0})},rB=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of QV(t))!ZV.call(e,o)&&o!==r&&oa(e,o,{get:()=>t[o],enumerable:!(n=YV(t,o))||n.enumerable});return e},nB=e=>rB(oa({},"__esModule",{value:!0}),e),RE={};tB(RE,{calculateBodyLength:()=>oB});bE.exports=nB(RE);var xE=require("fs"),oB=eB(e=>{if(!e)return 0;if(typeof e=="string")return Buffer.byteLength(e);if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size;if(typeof e.start=="number"&&typeof e.end=="number")return e.end+1-e.start;if(typeof e.path=="string"||Buffer.isBuffer(e.path))return(0,xE.lstatSync)(e.path).size;if(typeof e.fd=="number")return(0,xE.fstatSync)(e.fd).size;throw new Error(`Body Length computation failed for ${e}`)},"calculateBodyLength")});var HE=v(ia=>{"use strict";Object.defineProperty(ia,"__esModule",{value:!0});ia.ruleSet=void 0;var LE="required",Qe="fn",Ze="argv",bn="ref",AE=!0,IE="isSet",Ho="booleanEquals",xn="error",Rn="endpoint",Xt="tree",zl="PartitionResult",Wl="getAttr",OE={[LE]:!1,type:"String"},TE={[LE]:!0,default:!1,type:"Boolean"},NE={[bn]:"Endpoint"},UE={[Qe]:Ho,[Ze]:[{[bn]:"UseFIPS"},!0]},qE={[Qe]:Ho,[Ze]:[{[bn]:"UseDualStack"},!0]},Ye={},DE={[Qe]:Wl,[Ze]:[{[bn]:zl},"supportsFIPS"]},jE={[bn]:zl},kE={[Qe]:Ho,[Ze]:[!0,{[Qe]:Wl,[Ze]:[jE,"supportsDualStack"]}]},ME=[UE],KE=[qE],FE=[{[bn]:"Region"}],iB={version:"1.0",parameters:{Region:OE,UseDualStack:TE,UseFIPS:TE,Endpoint:OE},rules:[{conditions:[{[Qe]:IE,[Ze]:[NE]}],rules:[{conditions:ME,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:xn},{conditions:KE,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:xn},{endpoint:{url:NE,properties:Ye,headers:Ye},type:Rn}],type:Xt},{conditions:[{[Qe]:IE,[Ze]:FE}],rules:[{conditions:[{[Qe]:"aws.partition",[Ze]:FE,assign:zl}],rules:[{conditions:[UE,qE],rules:[{conditions:[{[Qe]:Ho,[Ze]:[AE,DE]},kE],rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Ye,headers:Ye},type:Rn}],type:Xt},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:xn}],type:Xt},{conditions:ME,rules:[{conditions:[{[Qe]:Ho,[Ze]:[DE,AE]}],rules:[{conditions:[{[Qe]:"stringEquals",[Ze]:[{[Qe]:Wl,[Ze]:[jE,"name"]},"aws-us-gov"]}],endpoint:{url:"https://portal.sso.{Region}.amazonaws.com",properties:Ye,headers:Ye},type:Rn},{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Ye,headers:Ye},type:Rn}],type:Xt},{error:"FIPS is enabled but this partition does not support FIPS",type:xn}],type:Xt},{conditions:KE,rules:[{conditions:[kE],rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Ye,headers:Ye},type:Rn}],type:Xt},{error:"DualStack is enabled but this partition does not support DualStack",type:xn}],type:Xt},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:Ye,headers:Ye},type:Rn}],type:Xt}],type:Xt},{error:"Invalid Configuration: Missing Region",type:xn}]};ia.ruleSet=iB});var $E=v(sa=>{"use strict";Object.defineProperty(sa,"__esModule",{value:!0});sa.defaultEndpointResolver=void 0;var sB=Eo(),GE=Gt(),aB=HE(),cB=(e,t={})=>(0,GE.resolveEndpoint)(aB.ruleSet,{endpointParams:e,logger:t.logger});sa.defaultEndpointResolver=cB;GE.customEndpointFunctions.aws=sB.awsEndpointFunctions});var VE=v(aa=>{"use strict";Object.defineProperty(aa,"__esModule",{value:!0});aa.getRuntimeConfig=void 0;var dB=He(),lB=Pe(),uB=z(),pB=$t(),zE=_r(),WE=Fe(),mB=jl(),fB=$E(),_B=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??zE.fromBase64,base64Encoder:e?.base64Encoder??zE.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??fB.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??mB.defaultSSOHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new dB.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new lB.NoAuthSigner}],logger:e?.logger??new uB.NoOpLogger,serviceId:e?.serviceId??"SSO",urlParser:e?.urlParser??pB.parseUrl,utf8Decoder:e?.utf8Decoder??WE.fromUtf8,utf8Encoder:e?.utf8Encoder??WE.toUtf8});aa.getRuntimeConfig=_B});var an=v((qce,ZE)=>{var vB=Object.create,Go=Object.defineProperty,gB=Object.getOwnPropertyDescriptor,yB=Object.getOwnPropertyNames,hB=Object.getPrototypeOf,SB=Object.prototype.hasOwnProperty,Vl=(e,t)=>Go(e,"name",{value:t,configurable:!0}),EB=(e,t)=>{for(var r in t)Go(e,r,{get:t[r],enumerable:!0})},YE=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of yB(t))!SB.call(e,o)&&o!==r&&Go(e,o,{get:()=>t[o],enumerable:!(n=gB(t,o))||n.enumerable});return e},CB=(e,t,r)=>(r=e!=null?vB(hB(e)):{},YE(t||!e||!e.__esModule?Go(r,"default",{value:e,enumerable:!0}):r,e)),PB=e=>YE(Go({},"__esModule",{value:!0}),e),QE={};EB(QE,{resolveDefaultsModeConfig:()=>DB});ZE.exports=PB(QE);var wB=Ke(),BE=Xe(),xB=te(),RB="AWS_EXECUTION_ENV",XE="AWS_REGION",JE="AWS_DEFAULT_REGION",bB="AWS_EC2_METADATA_DISABLED",AB=["in-region","cross-region","mobile","standard","legacy"],IB="/latest/meta-data/placement/region",OB="AWS_DEFAULTS_MODE",TB="defaults_mode",NB={environmentVariableSelector:e=>e[OB],configFileSelector:e=>e[TB],default:"legacy"},DB=Vl(({region:e=(0,BE.loadConfig)(wB.NODE_REGION_CONFIG_OPTIONS),defaultsMode:t=(0,BE.loadConfig)(NB)}={})=>(0,xB.memoize)(async()=>{let r=typeof t=="function"?await t():t;switch(r?.toLowerCase()){case"auto":return kB(e);case"in-region":case"cross-region":case"mobile":case"standard":case"legacy":return Promise.resolve(r?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${AB.join(", ")}, got ${r}`)}}),"resolveDefaultsModeConfig"),kB=Vl(async e=>{if(e){let t=typeof e=="function"?await e():e,r=await MB();return r?t===r?"in-region":"cross-region":"standard"}return"standard"},"resolveNodeDefaultsModeAuto"),MB=Vl(async()=>{if(process.env[RB]&&(process.env[XE]||process.env[JE]))return process.env[XE]??process.env[JE];if(!process.env[bB])try{let{getInstanceMetadataEndpoint:e,httpRequest:t}=await Promise.resolve().then(()=>CB(Sr())),r=await e();return(await t({...r,path:IB})).toString()}catch{}},"inferPhysicalRegion")});var rC=v(da=>{"use strict";Object.defineProperty(da,"__esModule",{value:!0});da.getRuntimeConfig=void 0;var KB=(Bt(),bt(Vt)),FB=KB.__importDefault(pE()),LB=He(),UB=ra(),ca=Ke(),qB=on(),eC=Le(),$o=Xe(),tC=It(),jB=sn(),HB=mr(),GB=VE(),$B=z(),zB=an(),WB=z(),VB=e=>{(0,WB.emitWarningIfUnsupportedVersion)(process.version);let t=(0,zB.resolveDefaultsModeConfig)(e),r=()=>t().then($B.loadConfigsForDefaultMode),n=(0,GB.getRuntimeConfig)(e);return(0,LB.emitWarningIfUnsupportedVersion)(process.version),{...n,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??jB.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,UB.defaultUserAgent)({serviceId:n.serviceId,clientVersion:FB.default.version}),maxAttempts:e?.maxAttempts??(0,$o.loadConfig)(eC.NODE_MAX_ATTEMPT_CONFIG_OPTIONS),region:e?.region??(0,$o.loadConfig)(ca.NODE_REGION_CONFIG_OPTIONS,ca.NODE_REGION_CONFIG_FILE_OPTIONS),requestHandler:tC.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,$o.loadConfig)({...eC.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||HB.DEFAULT_RETRY_MODE}),sha256:e?.sha256??qB.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??tC.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,$o.loadConfig)(ca.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS),useFipsEndpoint:e?.useFipsEndpoint??(0,$o.loadConfig)(ca.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS)}};da.getRuntimeConfig=VB});var ua=v((Hce,cC)=>{"use strict";var la=Object.defineProperty,BB=Object.getOwnPropertyDescriptor,XB=Object.getOwnPropertyNames,JB=Object.prototype.hasOwnProperty,An=(e,t)=>la(e,"name",{value:t,configurable:!0}),YB=(e,t)=>{for(var r in t)la(e,r,{get:t[r],enumerable:!0})},QB=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of XB(t))!JB.call(e,o)&&o!==r&&la(e,o,{get:()=>t[o],enumerable:!(n=BB(t,o))||n.enumerable});return e},ZB=e=>QB(la({},"__esModule",{value:!0}),e),oC={};YB(oC,{NODE_REGION_CONFIG_FILE_OPTIONS:()=>n3,NODE_REGION_CONFIG_OPTIONS:()=>r3,REGION_ENV_NAME:()=>iC,REGION_INI_NAME:()=>sC,getAwsRegionExtensionConfiguration:()=>e3,resolveAwsRegionExtensionConfiguration:()=>t3,resolveRegionConfig:()=>o3});cC.exports=ZB(oC);var e3=An(e=>{let t=An(async()=>{if(e.region===void 0)throw new Error("Region is missing from runtimeConfig");let r=e.region;return typeof r=="string"?r:r()},"runtimeConfigRegion");return{setRegion(r){t=r},region(){return t}}},"getAwsRegionExtensionConfiguration"),t3=An(e=>({region:e.region()}),"resolveAwsRegionExtensionConfiguration"),iC="AWS_REGION",sC="region",r3={environmentVariableSelector:e=>e[iC],configFileSelector:e=>e[sC],default:()=>{throw new Error("Region is missing")}},n3={preferredFile:"credentials"},aC=An(e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),"isFipsRegion"),nC=An(e=>aC(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,"getRealRegion"),o3=An(e=>{let{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return{...e,region:async()=>{if(typeof t=="string")return nC(t);let n=await t();return nC(n)},useFipsEndpoint:async()=>{let n=typeof t=="string"?t:await t();return aC(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()}}},"resolveRegionConfig")});var QC=v((Jce,YC)=>{"use strict";var ma=Object.defineProperty,i3=Object.getOwnPropertyDescriptor,s3=Object.getOwnPropertyNames,a3=Object.prototype.hasOwnProperty,G=(e,t)=>ma(e,"name",{value:t,configurable:!0}),c3=(e,t)=>{for(var r in t)ma(e,r,{get:t[r],enumerable:!0})},d3=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of s3(t))!a3.call(e,o)&&o!==r&&ma(e,o,{get:()=>t[o],enumerable:!(n=i3(t,o))||n.enumerable});return e},l3=e=>d3(ma({},"__esModule",{value:!0}),e),_C={};c3(_C,{GetRoleCredentialsCommand:()=>$C,GetRoleCredentialsRequestFilterSensitiveLog:()=>TC,GetRoleCredentialsResponseFilterSensitiveLog:()=>DC,InvalidRequestException:()=>EC,ListAccountRolesCommand:()=>Bl,ListAccountRolesRequestFilterSensitiveLog:()=>kC,ListAccountsCommand:()=>Xl,ListAccountsRequestFilterSensitiveLog:()=>MC,LogoutCommand:()=>BC,LogoutRequestFilterSensitiveLog:()=>KC,ResourceNotFoundException:()=>wC,RoleCredentialsFilterSensitiveLog:()=>NC,SSO:()=>JC,SSOClient:()=>_a,SSOServiceException:()=>In,TooManyRequestsException:()=>bC,UnauthorizedException:()=>OC,__Client:()=>b.Client,paginateListAccountRoles:()=>K3,paginateListAccounts:()=>F3});YC.exports=l3(_C);var dC=Ai(),u3=Oi(),p3=Ni(),lC=Li(),m3=Ke(),Jt=Pe(),f3=tn(),Wo=At(),uC=Le(),pC=jl(),_3=G(e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"}),"resolveClientEndpointParameters"),fa={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},v3=rC(),mC=ua(),fC=ae(),b=z(),g3=G(e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(o){let i=t.findIndex(s=>s.schemeId===o.schemeId);i===-1?t.push(o):t.splice(i,1,o)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}},"getHttpAuthExtensionConfiguration"),y3=G(e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),"resolveHttpAuthRuntimeConfig"),pa=G(e=>e,"asPartial"),h3=G((e,t)=>{let r={...pa((0,mC.getAwsRegionExtensionConfiguration)(e)),...pa((0,b.getDefaultExtensionConfiguration)(e)),...pa((0,fC.getHttpHandlerExtensionConfiguration)(e)),...pa(g3(e))};return t.forEach(n=>n.configure(r)),{...e,...(0,mC.resolveAwsRegionExtensionConfiguration)(r),...(0,b.resolveDefaultRuntimeConfig)(r),...(0,fC.resolveHttpHandlerRuntimeConfig)(r),...y3(r)}},"resolveRuntimeExtensions"),vC=class extends b.Client{constructor(...[t]){let r=(0,v3.getRuntimeConfig)(t||{}),n=_3(r),o=(0,m3.resolveRegionConfig)(n),i=(0,Wo.resolveEndpointConfig)(o),s=(0,uC.resolveRetryConfig)(i),a=(0,dC.resolveHostHeaderConfig)(s),c=(0,lC.resolveUserAgentConfig)(a),l=(0,pC.resolveHttpAuthSchemeConfig)(c),p=h3(l,t?.extensions||[]);super(p),this.config=p,this.middlewareStack.use((0,uC.getRetryPlugin)(this.config)),this.middlewareStack.use((0,f3.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,dC.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,u3.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,p3.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,lC.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,Jt.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:this.getDefaultHttpAuthSchemeParametersProvider(),identityProviderConfigProvider:this.getIdentityProviderConfigProvider()})),this.middlewareStack.use((0,Jt.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}getDefaultHttpAuthSchemeParametersProvider(){return pC.defaultSSOHttpAuthSchemeParametersProvider}getIdentityProviderConfigProvider(){return async t=>new Jt.DefaultIdentityProviderConfig({"aws.auth#sigv4":t.credentials})}};G(vC,"SSOClient");var _a=vC,va=zt(),$ce=qe(),gC=class yC extends b.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,yC.prototype)}};G(gC,"SSOServiceException");var In=gC,hC=class SC extends In{constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),this.name="InvalidRequestException",this.$fault="client",Object.setPrototypeOf(this,SC.prototype)}};G(hC,"InvalidRequestException");var EC=hC,CC=class PC extends In{constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),this.name="ResourceNotFoundException",this.$fault="client",Object.setPrototypeOf(this,PC.prototype)}};G(CC,"ResourceNotFoundException");var wC=CC,xC=class RC extends In{constructor(t){super({name:"TooManyRequestsException",$fault:"client",...t}),this.name="TooManyRequestsException",this.$fault="client",Object.setPrototypeOf(this,RC.prototype)}};G(xC,"TooManyRequestsException");var bC=xC,AC=class IC extends In{constructor(t){super({name:"UnauthorizedException",$fault:"client",...t}),this.name="UnauthorizedException",this.$fault="client",Object.setPrototypeOf(this,IC.prototype)}};G(AC,"UnauthorizedException");var OC=AC,TC=G(e=>({...e,...e.accessToken&&{accessToken:b.SENSITIVE_STRING}}),"GetRoleCredentialsRequestFilterSensitiveLog"),NC=G(e=>({...e,...e.secretAccessKey&&{secretAccessKey:b.SENSITIVE_STRING},...e.sessionToken&&{sessionToken:b.SENSITIVE_STRING}}),"RoleCredentialsFilterSensitiveLog"),DC=G(e=>({...e,...e.roleCredentials&&{roleCredentials:NC(e.roleCredentials)}}),"GetRoleCredentialsResponseFilterSensitiveLog"),kC=G(e=>({...e,...e.accessToken&&{accessToken:b.SENSITIVE_STRING}}),"ListAccountRolesRequestFilterSensitiveLog"),MC=G(e=>({...e,...e.accessToken&&{accessToken:b.SENSITIVE_STRING}}),"ListAccountsRequestFilterSensitiveLog"),KC=G(e=>({...e,...e.accessToken&&{accessToken:b.SENSITIVE_STRING}}),"LogoutRequestFilterSensitiveLog"),zo=He(),S3=G(async(e,t)=>{let r=(0,Jt.requestBuilder)(e,t),n=(0,b.map)({},ya,{[Sa]:e[ha]});r.bp("/federation/credentials");let o=(0,b.map)({[k3]:[,(0,b.expectNonNull)(e[D3],"roleName")],[LC]:[,(0,b.expectNonNull)(e[FC],"accountId")]});return r.m("GET").h(n).q(o).b(void 0),r.build()},"se_GetRoleCredentialsCommand"),E3=G(async(e,t)=>{let r=(0,Jt.requestBuilder)(e,t),n=(0,b.map)({},ya,{[Sa]:e[ha]});r.bp("/assignment/roles");let o=(0,b.map)({[HC]:[,e[jC]],[qC]:[()=>e.maxResults!==void 0,()=>e[UC].toString()],[LC]:[,(0,b.expectNonNull)(e[FC],"accountId")]});return r.m("GET").h(n).q(o).b(void 0),r.build()},"se_ListAccountRolesCommand"),C3=G(async(e,t)=>{let r=(0,Jt.requestBuilder)(e,t),n=(0,b.map)({},ya,{[Sa]:e[ha]});r.bp("/assignment/accounts");let o=(0,b.map)({[HC]:[,e[jC]],[qC]:[()=>e.maxResults!==void 0,()=>e[UC].toString()]});return r.m("GET").h(n).q(o).b(void 0),r.build()},"se_ListAccountsCommand"),P3=G(async(e,t)=>{let r=(0,Jt.requestBuilder)(e,t),n=(0,b.map)({},ya,{[Sa]:e[ha]});return r.bp("/logout"),r.m("POST").h(n).b(void 0),r.build()},"se_LogoutCommand"),w3=G(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ga(e,t);let r=(0,b.map)({$metadata:Cr(e)}),n=(0,b.expectNonNull)((0,b.expectObject)(await(0,zo.parseJsonBody)(e.body,t)),"body"),o=(0,b.take)(n,{roleCredentials:b._json});return Object.assign(r,o),r},"de_GetRoleCredentialsCommand"),x3=G(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ga(e,t);let r=(0,b.map)({$metadata:Cr(e)}),n=(0,b.expectNonNull)((0,b.expectObject)(await(0,zo.parseJsonBody)(e.body,t)),"body"),o=(0,b.take)(n,{nextToken:b.expectString,roleList:b._json});return Object.assign(r,o),r},"de_ListAccountRolesCommand"),R3=G(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ga(e,t);let r=(0,b.map)({$metadata:Cr(e)}),n=(0,b.expectNonNull)((0,b.expectObject)(await(0,zo.parseJsonBody)(e.body,t)),"body"),o=(0,b.take)(n,{accountList:b._json,nextToken:b.expectString});return Object.assign(r,o),r},"de_ListAccountsCommand"),b3=G(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ga(e,t);let r=(0,b.map)({$metadata:Cr(e)});return await(0,b.collectBody)(e.body,t),r},"de_LogoutCommand"),ga=G(async(e,t)=>{let r={...e,body:await(0,zo.parseJsonErrorBody)(e.body,t)},n=(0,zo.loadRestJsonErrorCode)(e,r.body);switch(n){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await I3(r,t);case"ResourceNotFoundException":case"com.amazonaws.sso#ResourceNotFoundException":throw await O3(r,t);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await T3(r,t);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await N3(r,t);default:let o=r.body;return A3({output:e,parsedBody:o,errorCode:n})}},"de_CommandError"),A3=(0,b.withBaseException)(In),I3=G(async(e,t)=>{let r=(0,b.map)({}),n=e.body,o=(0,b.take)(n,{message:b.expectString});Object.assign(r,o);let i=new EC({$metadata:Cr(e),...r});return(0,b.decorateServiceException)(i,e.body)},"de_InvalidRequestExceptionRes"),O3=G(async(e,t)=>{let r=(0,b.map)({}),n=e.body,o=(0,b.take)(n,{message:b.expectString});Object.assign(r,o);let i=new wC({$metadata:Cr(e),...r});return(0,b.decorateServiceException)(i,e.body)},"de_ResourceNotFoundExceptionRes"),T3=G(async(e,t)=>{let r=(0,b.map)({}),n=e.body,o=(0,b.take)(n,{message:b.expectString});Object.assign(r,o);let i=new bC({$metadata:Cr(e),...r});return(0,b.decorateServiceException)(i,e.body)},"de_TooManyRequestsExceptionRes"),N3=G(async(e,t)=>{let r=(0,b.map)({}),n=e.body,o=(0,b.take)(n,{message:b.expectString});Object.assign(r,o);let i=new OC({$metadata:Cr(e),...r});return(0,b.decorateServiceException)(i,e.body)},"de_UnauthorizedExceptionRes"),Cr=G(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),ya=G(e=>e!=null&&e!==""&&(!Object.getOwnPropertyNames(e).includes("length")||e.length!=0)&&(!Object.getOwnPropertyNames(e).includes("size")||e.size!=0),"isSerializableHeaderValue"),FC="accountId",ha="accessToken",LC="account_id",UC="maxResults",qC="max_result",jC="nextToken",HC="next_token",D3="roleName",k3="role_name",Sa="x-amz-sso_bearer_token",GC=class extends b.Command.classBuilder().ep({...fa}).m(function(t,r,n,o){return[(0,va.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Wo.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SWBPortalService","GetRoleCredentials",{}).n("SSOClient","GetRoleCredentialsCommand").f(TC,DC).ser(S3).de(w3).build(){};G(GC,"GetRoleCredentialsCommand");var $C=GC,zC=class extends b.Command.classBuilder().ep({...fa}).m(function(t,r,n,o){return[(0,va.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Wo.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccountRoles",{}).n("SSOClient","ListAccountRolesCommand").f(kC,void 0).ser(E3).de(x3).build(){};G(zC,"ListAccountRolesCommand");var Bl=zC,WC=class extends b.Command.classBuilder().ep({...fa}).m(function(t,r,n,o){return[(0,va.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Wo.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccounts",{}).n("SSOClient","ListAccountsCommand").f(MC,void 0).ser(C3).de(R3).build(){};G(WC,"ListAccountsCommand");var Xl=WC,VC=class extends b.Command.classBuilder().ep({...fa}).m(function(t,r,n,o){return[(0,va.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Wo.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SWBPortalService","Logout",{}).n("SSOClient","LogoutCommand").f(KC,void 0).ser(P3).de(b3).build(){};G(VC,"LogoutCommand");var BC=VC,M3={GetRoleCredentialsCommand:$C,ListAccountRolesCommand:Bl,ListAccountsCommand:Xl,LogoutCommand:BC},XC=class extends _a{};G(XC,"SSO");var JC=XC;(0,b.createAggregatedClient)(M3,JC);var K3=(0,Jt.createPaginator)(_a,Bl,"nextToken","nextToken","maxResults"),F3=(0,Jt.createPaginator)(_a,Xl,"nextToken","nextToken","maxResults")});var Ca=v((Yce,nP)=>{var Ea=Object.defineProperty,L3=Object.getOwnPropertyDescriptor,U3=Object.getOwnPropertyNames,q3=Object.prototype.hasOwnProperty,Jl=(e,t)=>Ea(e,"name",{value:t,configurable:!0}),j3=(e,t)=>{for(var r in t)Ea(e,r,{get:t[r],enumerable:!0})},H3=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of U3(t))!q3.call(e,o)&&o!==r&&Ea(e,o,{get:()=>t[o],enumerable:!(n=L3(t,o))||n.enumerable});return e},G3=e=>H3(Ea({},"__esModule",{value:!0}),e),ZC={};j3(ZC,{getHostHeaderPlugin:()=>z3,hostHeaderMiddleware:()=>tP,hostHeaderMiddlewareOptions:()=>rP,resolveHostHeaderConfig:()=>eP});nP.exports=G3(ZC);var $3=ae();function eP(e){return e}Jl(eP,"resolveHostHeaderConfig");var tP=Jl(e=>t=>async r=>{if(!$3.HttpRequest.isInstance(r.request))return t(r);let{request:n}=r,{handlerProtocol:o=""}=e.requestHandler.metadata||{};if(o.indexOf("h2")>=0&&!n.headers[":authority"])delete n.headers.host,n.headers[":authority"]=n.hostname+(n.port?":"+n.port:"");else if(!n.headers.host){let i=n.hostname;n.port!=null&&(i+=`:${n.port}`),n.headers.host=i}return t(r)},"hostHeaderMiddleware"),rP={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},z3=Jl(e=>({applyToStack:t=>{t.add(tP(e),rP)}}),"getHostHeaderPlugin")});var wa=v((Qce,cP)=>{var Pa=Object.defineProperty,W3=Object.getOwnPropertyDescriptor,V3=Object.getOwnPropertyNames,B3=Object.prototype.hasOwnProperty,oP=(e,t)=>Pa(e,"name",{value:t,configurable:!0}),X3=(e,t)=>{for(var r in t)Pa(e,r,{get:t[r],enumerable:!0})},J3=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of V3(t))!B3.call(e,o)&&o!==r&&Pa(e,o,{get:()=>t[o],enumerable:!(n=W3(t,o))||n.enumerable});return e},Y3=e=>J3(Pa({},"__esModule",{value:!0}),e),iP={};X3(iP,{getLoggerPlugin:()=>Q3,loggerMiddleware:()=>sP,loggerMiddlewareOptions:()=>aP});cP.exports=Y3(iP);var sP=oP(()=>(e,t)=>async r=>{var n,o;try{let i=await e(r),{clientName:s,commandName:a,logger:c,dynamoDbDocumentClientOptions:l={}}=t,{overrideInputFilterSensitiveLog:p,overrideOutputFilterSensitiveLog:m}=l,f=p??t.inputFilterSensitiveLog,_=m??t.outputFilterSensitiveLog,{$metadata:g,...S}=i.output;return(n=c?.info)==null||n.call(c,{clientName:s,commandName:a,input:f(r.input),output:_(S),metadata:g}),i}catch(i){let{clientName:s,commandName:a,logger:c,dynamoDbDocumentClientOptions:l={}}=t,{overrideInputFilterSensitiveLog:p}=l,m=p??t.inputFilterSensitiveLog;throw(o=c?.error)==null||o.call(c,{clientName:s,commandName:a,input:m(r.input),error:i,metadata:i.$metadata}),i}},"loggerMiddleware"),aP={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},Q3=oP(e=>({applyToStack:t=>{t.add(sP(),aP)}}),"getLoggerPlugin")});var Ra=v((Zce,mP)=>{var xa=Object.defineProperty,Z3=Object.getOwnPropertyDescriptor,e6=Object.getOwnPropertyNames,t6=Object.prototype.hasOwnProperty,Yl=(e,t)=>xa(e,"name",{value:t,configurable:!0}),r6=(e,t)=>{for(var r in t)xa(e,r,{get:t[r],enumerable:!0})},n6=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of e6(t))!t6.call(e,o)&&o!==r&&xa(e,o,{get:()=>t[o],enumerable:!(n=Z3(t,o))||n.enumerable});return e},o6=e=>n6(xa({},"__esModule",{value:!0}),e),lP={};r6(lP,{addRecursionDetectionMiddlewareOptions:()=>pP,getRecursionDetectionPlugin:()=>c6,recursionDetectionMiddleware:()=>uP});mP.exports=o6(lP);var i6=ae(),dP="X-Amzn-Trace-Id",s6="AWS_LAMBDA_FUNCTION_NAME",a6="_X_AMZN_TRACE_ID",uP=Yl(e=>t=>async r=>{let{request:n}=r;if(!i6.HttpRequest.isInstance(n)||e.runtime!=="node"||n.headers.hasOwnProperty(dP))return t(r);let o=process.env[s6],i=process.env[a6],s=Yl(a=>typeof a=="string"&&a.length>0,"nonEmptyString");return s(o)&&s(i)&&(n.headers[dP]=i),t({...r,request:n})},"recursionDetectionMiddleware"),pP={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},c6=Yl(e=>({applyToStack:t=>{t.add(uP(e),pP)}}),"getRecursionDetectionPlugin")});var Vo=v((ede,CP)=>{"use strict";var ba=Object.defineProperty,d6=Object.getOwnPropertyDescriptor,l6=Object.getOwnPropertyNames,u6=Object.prototype.hasOwnProperty,On=(e,t)=>ba(e,"name",{value:t,configurable:!0}),p6=(e,t)=>{for(var r in t)ba(e,r,{get:t[r],enumerable:!0})},m6=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of l6(t))!u6.call(e,o)&&o!==r&&ba(e,o,{get:()=>t[o],enumerable:!(n=d6(t,o))||n.enumerable});return e},f6=e=>m6(ba({},"__esModule",{value:!0}),e),fP={};p6(fP,{ConditionObject:()=>Q.ConditionObject,DeprecatedObject:()=>Q.DeprecatedObject,EndpointError:()=>Q.EndpointError,EndpointObject:()=>Q.EndpointObject,EndpointObjectHeaders:()=>Q.EndpointObjectHeaders,EndpointObjectProperties:()=>Q.EndpointObjectProperties,EndpointParams:()=>Q.EndpointParams,EndpointResolverOptions:()=>Q.EndpointResolverOptions,EndpointRuleObject:()=>Q.EndpointRuleObject,ErrorRuleObject:()=>Q.ErrorRuleObject,EvaluateOptions:()=>Q.EvaluateOptions,Expression:()=>Q.Expression,FunctionArgv:()=>Q.FunctionArgv,FunctionObject:()=>Q.FunctionObject,FunctionReturn:()=>Q.FunctionReturn,ParameterObject:()=>Q.ParameterObject,ReferenceObject:()=>Q.ReferenceObject,ReferenceRecord:()=>Q.ReferenceRecord,RuleSetObject:()=>Q.RuleSetObject,RuleSetRules:()=>Q.RuleSetRules,TreeRuleObject:()=>Q.TreeRuleObject,awsEndpointFunctions:()=>EP,getUserAgentPrefix:()=>g6,isIpAddress:()=>Q.isIpAddress,partition:()=>hP,resolveEndpoint:()=>Q.resolveEndpoint,setPartitionInfo:()=>SP,useDefaultPartitionInfo:()=>v6});CP.exports=f6(fP);var Q=Gt(),_P=On((e,t=!1)=>{if(t){for(let r of e.split("."))if(!_P(r))return!1;return!0}return!(!(0,Q.isValidHostLabel)(e)||e.length<3||e.length>63||e!==e.toLowerCase()||(0,Q.isIpAddress)(e))},"isVirtualHostableS3Bucket"),_6=On(e=>{let t=e.split(":");if(t.length<6)return null;let[r,n,o,i,s,...a]=t;return r!=="arn"||n===""||o===""||a[0]===""?null:{partition:n,service:o,region:i,accountId:s,resourceId:a[0].includes("/")?a[0].split("/"):a}},"parseArn"),vP={partitions:[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"aws-global":{description:"AWS Standard global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"AWS China global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"AWS GovCloud (US) global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"c2s.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"AWS ISO (US) global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"sc2s.sgov.gov",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"AWS ISOB (US) global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"cloud.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"csp.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{}}],version:"1.1"},gP=vP,yP="",hP=On(e=>{let{partitions:t}=gP;for(let n of t){let{regions:o,outputs:i}=n;for(let[s,a]of Object.entries(o))if(s===e)return{...i,...a}}for(let n of t){let{regionRegex:o,outputs:i}=n;if(new RegExp(o).test(e))return{...i}}let r=t.find(n=>n.id==="aws");if(!r)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...r.outputs}},"partition"),SP=On((e,t="")=>{gP=e,yP=t},"setPartitionInfo"),v6=On(()=>{SP(vP,"")},"useDefaultPartitionInfo"),g6=On(()=>yP,"getUserAgentPrefix"),EP={isVirtualHostableS3Bucket:_P,parseArn:_6,partition:hP};Q.customEndpointFunctions.aws=EP});var Oa=v((tde,OP)=>{"use strict";var Aa=Object.defineProperty,y6=Object.getOwnPropertyDescriptor,h6=Object.getOwnPropertyNames,S6=Object.prototype.hasOwnProperty,Ia=(e,t)=>Aa(e,"name",{value:t,configurable:!0}),E6=(e,t)=>{for(var r in t)Aa(e,r,{get:t[r],enumerable:!0})},C6=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of h6(t))!S6.call(e,o)&&o!==r&&Aa(e,o,{get:()=>t[o],enumerable:!(n=y6(t,o))||n.enumerable});return e},P6=e=>C6(Aa({},"__esModule",{value:!0}),e),RP={};E6(RP,{getUserAgentMiddlewareOptions:()=>IP,getUserAgentPlugin:()=>A6,resolveUserAgentConfig:()=>bP,userAgentMiddleware:()=>AP});OP.exports=P6(RP);function bP(e){return{...e,customUserAgent:typeof e.customUserAgent=="string"?[[e.customUserAgent]]:e.customUserAgent}}Ia(bP,"resolveUserAgentConfig");var w6=Vo(),x6=ae(),PP="user-agent",Ql="x-amz-user-agent",wP=" ",Zl="/",R6=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,b6=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,xP="-",AP=Ia(e=>(t,r)=>async n=>{var o,i;let{request:s}=n;if(!x6.HttpRequest.isInstance(s))return t(n);let{headers:a}=s,c=((o=r?.userAgent)==null?void 0:o.map(eu))||[],l=(await e.defaultUserAgentProvider()).map(eu),p=((i=e?.customUserAgent)==null?void 0:i.map(eu))||[],m=(0,w6.getUserAgentPrefix)(),f=(m?[m]:[]).concat([...l,...c,...p]).join(wP),_=[...l.filter(g=>g.startsWith("aws-sdk-")),...p].join(wP);return e.runtime!=="browser"?(_&&(a[Ql]=a[Ql]?`${a[PP]} ${_}`:_),a[PP]=f):a[Ql]=f,t({...n,request:s})},"userAgentMiddleware"),eu=Ia(e=>{var t;let r=e[0].split(Zl).map(a=>a.replace(R6,xP)).join(Zl),n=(t=e[1])==null?void 0:t.replace(b6,xP),o=r.indexOf(Zl),i=r.substring(0,o),s=r.substring(o+1);return i==="api"&&(s=s.toLowerCase()),[i,s,n].filter(a=>a&&a.length>0).reduce((a,c,l)=>{switch(l){case 0:return c;case 1:return`${a}/${c}`;default:return`${a}#${c}`}},"")},"escapeUserAgent"),IP={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},A6=Ia(e=>({applyToStack:t=>{t.add(AP(e),IP)}}),"getUserAgentPlugin")});var Ge=v((nde,$P)=>{"use strict";var Ta=Object.defineProperty,I6=Object.getOwnPropertyDescriptor,O6=Object.getOwnPropertyNames,T6=Object.prototype.hasOwnProperty,ee=(e,t)=>Ta(e,"name",{value:t,configurable:!0}),N6=(e,t)=>{for(var r in t)Ta(e,r,{get:t[r],enumerable:!0})},D6=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of O6(t))!T6.call(e,o)&&o!==r&&Ta(e,o,{get:()=>t[o],enumerable:!(n=I6(t,o))||n.enumerable});return e},k6=e=>D6(Ta({},"__esModule",{value:!0}),e),MP={};N6(MP,{AWSSDKSigV4Signer:()=>L6,AwsSdkSigV4Signer:()=>UP,_toBool:()=>j6,_toNum:()=>H6,_toStr:()=>q6,awsExpectUnion:()=>G6,emitWarningIfUnsupportedVersion:()=>M6,loadRestJsonErrorCode:()=>z6,loadRestXmlErrorCode:()=>B6,parseJsonBody:()=>HP,parseJsonErrorBody:()=>$6,parseXmlBody:()=>GP,parseXmlErrorBody:()=>V6,resolveAWSSDKSigV4Config:()=>U6,resolveAwsSdkSigV4Config:()=>qP});$P.exports=k6(MP);var TP=!1,M6=ee(e=>{e&&!TP&&parseInt(e.substring(1,e.indexOf(".")))<16&&(TP=!0)},"emitWarningIfUnsupportedVersion"),KP=ae(),NP=ee(e=>{var t,r;return KP.HttpResponse.isInstance(e)?((t=e.headers)==null?void 0:t.date)??((r=e.headers)==null?void 0:r.Date):void 0},"getDateHeader"),FP=ee(e=>new Date(Date.now()+e),"getSkewCorrectedDate"),K6=ee((e,t)=>Math.abs(FP(t).getTime()-e)>=3e5,"isClockSkewed"),DP=ee((e,t)=>{let r=Date.parse(e);return K6(r,t)?r-Date.now():t},"getUpdatedSystemClockOffset"),Bo=ee((e,t)=>{if(!t)throw new Error(`Property \`${e}\` is not resolved for AWS SDK SigV4Auth`);return t},"throwSigningPropertyError"),F6=ee(async e=>{var t,r,n;let o=Bo("context",e.context),i=Bo("config",e.config),s=(n=(r=(t=o.endpointV2)==null?void 0:t.properties)==null?void 0:r.authSchemes)==null?void 0:n[0],c=await Bo("signer",i.signer)(s),l=e?.signingRegion,p=e?.signingName;return{config:i,signer:c,signingRegion:l,signingName:p}},"validateSigningProperties"),LP=class{async sign(t,r,n){if(!KP.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let{config:o,signer:i,signingRegion:s,signingName:a}=await F6(n);return await i.sign(t,{signingDate:FP(o.systemClockOffset),signingRegion:s,signingService:a})}errorHandler(t){return r=>{let n=r.ServerTime??NP(r.$response);if(n){let o=Bo("config",t.config),i=o.systemClockOffset;o.systemClockOffset=DP(n,o.systemClockOffset),o.systemClockOffset!==i&&r.$metadata&&(r.$metadata.clockSkewCorrected=!0)}throw r}}successHandler(t,r){let n=NP(t);if(n){let o=Bo("config",r.config);o.systemClockOffset=DP(n,o.systemClockOffset)}}};ee(LP,"AwsSdkSigV4Signer");var UP=LP,L6=UP,cn=Pe(),kP=hl(),qP=ee(e=>{let t;e.credentials&&(t=(0,cn.memoizeIdentityProvider)(e.credentials,cn.isIdentityExpired,cn.doesIdentityRequireRefresh)),t||(e.credentialDefaultProvider?t=(0,cn.normalizeProvider)(e.credentialDefaultProvider(Object.assign({},e,{parentClientConfig:e}))):t=ee(async()=>{throw new Error("`credentials` is missing")},"normalizedCreds"));let{signingEscapePath:r=!0,systemClockOffset:n=e.systemClockOffset||0,sha256:o}=e,i;return e.signer?i=(0,cn.normalizeProvider)(e.signer):e.regionInfoProvider?i=ee(()=>(0,cn.normalizeProvider)(e.region)().then(async s=>[await e.regionInfoProvider(s,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},s]).then(([s,a])=>{let{signingRegion:c,signingService:l}=s;e.signingRegion=e.signingRegion||c||a,e.signingName=e.signingName||l||e.serviceId;let p={...e,credentials:t,region:e.signingRegion,service:e.signingName,sha256:o,uriEscapePath:r},m=e.signerConstructor||kP.SignatureV4;return new m(p)}),"signer"):i=ee(async s=>{s=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await(0,cn.normalizeProvider)(e.region)(),properties:{}},s);let a=s.signingRegion,c=s.signingName;e.signingRegion=e.signingRegion||a,e.signingName=e.signingName||c||e.serviceId;let l={...e,credentials:t,region:e.signingRegion,service:e.signingName,sha256:o,uriEscapePath:r},p=e.signerConstructor||kP.SignatureV4;return new p(l)},"signer"),{...e,systemClockOffset:n,signingEscapePath:r,credentials:t,signer:i}},"resolveAwsSdkSigV4Config"),U6=qP,q6=ee(e=>{if(e==null)return e;if(typeof e=="number"||typeof e=="bigint"){let t=new Error(`Received number ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}if(typeof e=="boolean"){let t=new Error(`Received boolean ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}return e},"_toStr"),j6=ee(e=>{if(e==null)return e;if(typeof e=="string"){let t=e.toLowerCase();if(e!==""&&t!=="false"&&t!=="true"){let r=new Error(`Received string "${e}" where a boolean was expected.`);r.name="Warning",console.warn(r)}return e!==""&&t!=="false"}return e},"_toBool"),H6=ee(e=>{if(e==null)return e;if(typeof e=="string"){let t=Number(e);if(t.toString()!==e){let r=new Error(`Received string "${e}" where a number was expected.`);return r.name="Warning",console.warn(r),e}return t}return e},"_toNum"),tu=z(),G6=ee(e=>{if(e!=null)return typeof e=="object"&&"__type"in e&&delete e.__type,(0,tu.expectUnion)(e)},"awsExpectUnion"),jP=ee((e,t)=>(0,tu.collectBody)(e,t).then(r=>t.utf8Encoder(r)),"collectBodyString"),HP=ee((e,t)=>jP(e,t).then(r=>{if(r.length)try{return JSON.parse(r)}catch(n){throw n?.name==="SyntaxError"&&Object.defineProperty(n,"$responseBodyText",{value:r}),n}return{}}),"parseJsonBody"),$6=ee(async(e,t)=>{let r=await HP(e,t);return r.message=r.message??r.Message,r},"parseJsonErrorBody"),z6=ee((e,t)=>{let r=ee((i,s)=>Object.keys(i).find(a=>a.toLowerCase()===s.toLowerCase()),"findKey"),n=ee(i=>{let s=i;return typeof s=="number"&&(s=s.toString()),s.indexOf(",")>=0&&(s=s.split(",")[0]),s.indexOf(":")>=0&&(s=s.split(":")[0]),s.indexOf("#")>=0&&(s=s.split("#")[1]),s},"sanitizeErrorCode"),o=r(e.headers,"x-amzn-errortype");if(o!==void 0)return n(e.headers[o]);if(t.code!==void 0)return n(t.code);if(t.__type!==void 0)return n(t.__type)},"loadRestJsonErrorCode"),W6=Il(),GP=ee((e,t)=>jP(e,t).then(r=>{if(r.length){let n=new W6.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(c,l)=>l.trim()===""&&l.includes(`
`)?"":void 0});n.addEntity("#xD","\r"),n.addEntity("#10",`
`);let o;try{o=n.parse(r,!0)}catch(c){throw c&&typeof c=="object"&&Object.defineProperty(c,"$responseBodyText",{value:r}),c}let i="#text",s=Object.keys(o)[0],a=o[s];return a[i]&&(a[s]=a[i],delete a[i]),(0,tu.getValueFromTextNode)(a)}return{}}),"parseXmlBody"),V6=ee(async(e,t)=>{let r=await GP(e,t);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},"parseXmlErrorBody"),B6=ee((e,t)=>{var r;if(((r=t?.Error)==null?void 0:r.Code)!==void 0)return t.Error.Code;if(t?.Code!==void 0)return t.Code;if(e.statusCode==404)return"NotFound"},"loadRestXmlErrorCode")});var nu=v(Pr=>{"use strict";Object.defineProperty(Pr,"__esModule",{value:!0});Pr.resolveHttpAuthSchemeConfig=Pr.defaultSSOOIDCHttpAuthSchemeProvider=Pr.defaultSSOOIDCHttpAuthSchemeParametersProvider=void 0;var X6=Ge(),zP=Ve(),J6=async(e,t,r)=>({operation:(0,zP.getSmithyContext)(t).operation,region:await(0,zP.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});Pr.defaultSSOOIDCHttpAuthSchemeParametersProvider=J6;function Y6(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sso-oauth",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function ru(e){return{schemeId:"smithy.api#noAuth"}}var Q6=e=>{let t=[];switch(e.operation){case"CreateToken":{t.push(ru(e));break}case"RegisterClient":{t.push(ru(e));break}case"StartDeviceAuthorization":{t.push(ru(e));break}default:t.push(Y6(e))}return t};Pr.defaultSSOOIDCHttpAuthSchemeProvider=Q6;var Z6=e=>({...(0,X6.resolveAwsSdkSigV4Config)(e)});Pr.resolveHttpAuthSchemeConfig=Z6});var WP=v((ide,e4)=>{e4.exports={name:"@aws-sdk/client-sso-oidc",description:"AWS SDK for JavaScript Sso Oidc Client for Node.js, Browser and React Native",version:"3.572.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-sso-oidc","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sso-oidc"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/client-sts":"3.572.0","@aws-sdk/core":"3.572.0","@aws-sdk/credential-provider-node":"3.572.0","@aws-sdk/middleware-host-header":"3.567.0","@aws-sdk/middleware-logger":"3.568.0","@aws-sdk/middleware-recursion-detection":"3.567.0","@aws-sdk/middleware-user-agent":"3.572.0","@aws-sdk/region-config-resolver":"3.572.0","@aws-sdk/types":"3.567.0","@aws-sdk/util-endpoints":"3.572.0","@aws-sdk/util-user-agent-browser":"3.567.0","@aws-sdk/util-user-agent-node":"3.568.0","@smithy/config-resolver":"^2.2.0","@smithy/core":"^1.4.2","@smithy/fetch-http-handler":"^2.5.0","@smithy/hash-node":"^2.2.0","@smithy/invalid-dependency":"^2.2.0","@smithy/middleware-content-length":"^2.2.0","@smithy/middleware-endpoint":"^2.5.1","@smithy/middleware-retry":"^2.3.1","@smithy/middleware-serde":"^2.3.0","@smithy/middleware-stack":"^2.2.0","@smithy/node-config-provider":"^2.3.0","@smithy/node-http-handler":"^2.5.0","@smithy/protocol-http":"^3.3.0","@smithy/smithy-client":"^2.5.1","@smithy/types":"^2.12.0","@smithy/url-parser":"^2.2.0","@smithy/util-base64":"^2.3.0","@smithy/util-body-length-browser":"^2.2.0","@smithy/util-body-length-node":"^2.3.0","@smithy/util-defaults-mode-browser":"^2.2.1","@smithy/util-defaults-mode-node":"^2.3.1","@smithy/util-endpoints":"^1.2.0","@smithy/util-middleware":"^2.2.0","@smithy/util-retry":"^2.2.0","@smithy/util-utf8":"^2.3.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node16":"16.1.3","@types/node":"^16.18.96",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~4.9.5"},engines:{node:">=16.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso-oidc",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso-oidc"}}});var ou=v((sde,ZP)=>{var Na=Object.defineProperty,t4=Object.getOwnPropertyDescriptor,r4=Object.getOwnPropertyNames,n4=Object.prototype.hasOwnProperty,o4=(e,t)=>Na(e,"name",{value:t,configurable:!0}),i4=(e,t)=>{for(var r in t)Na(e,r,{get:t[r],enumerable:!0})},s4=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of r4(t))!n4.call(e,o)&&o!==r&&Na(e,o,{get:()=>t[o],enumerable:!(n=t4(t,o))||n.enumerable});return e},a4=e=>s4(Na({},"__esModule",{value:!0}),e),VP={};i4(VP,{ENV_CREDENTIAL_SCOPE:()=>QP,ENV_EXPIRATION:()=>YP,ENV_KEY:()=>BP,ENV_SECRET:()=>XP,ENV_SESSION:()=>JP,fromEnv:()=>d4});ZP.exports=a4(VP);var c4=te(),BP="AWS_ACCESS_KEY_ID",XP="AWS_SECRET_ACCESS_KEY",JP="AWS_SESSION_TOKEN",YP="AWS_CREDENTIAL_EXPIRATION",QP="AWS_CREDENTIAL_SCOPE",d4=o4(e=>async()=>{var t;(t=e?.logger)==null||t.debug("@aws-sdk/credential-provider-env","fromEnv");let r=process.env[BP],n=process.env[XP],o=process.env[JP],i=process.env[YP],s=process.env[QP];if(r&&n)return{accessKeyId:r,secretAccessKey:n,...o&&{sessionToken:o},...i&&{expiration:new Date(i)},...s&&{credentialScope:s}};throw new c4.CredentialsProviderError("Unable to find environment variable credentials.")},"fromEnv")});var ew=v(Da=>{"use strict";Object.defineProperty(Da,"__esModule",{value:!0});Da.checkUrl=void 0;var l4=te(),u4="169.254.170.2",p4="169.254.170.23",m4="[fd00:ec2::23]",f4=e=>{if(e.protocol!=="https:"&&!(e.hostname===u4||e.hostname===p4||e.hostname===m4)){if(e.hostname.includes("[")){if(e.hostname==="[::1]"||e.hostname==="[0000:0000:0000:0000:0000:0000:0000:0001]")return}else{if(e.hostname==="localhost")return;let t=e.hostname.split("."),r=n=>{let o=parseInt(n,10);return 0<=o&&o<=255};if(t[0]==="127"&&r(t[1])&&r(t[2])&&r(t[3])&&t.length===4)return}throw new l4.CredentialsProviderError(`URL not accepted. It must either be HTTPS or match one of the following:
  - loopback CIDR 127.0.0.0/8 or [::1/128]
  - ECS container host 169.254.170.2
  - EKS container host 169.254.170.23 or [fd00:ec2::23]`)}};Da.checkUrl=f4});var tw=v(Tn=>{"use strict";Object.defineProperty(Tn,"__esModule",{value:!0});Tn.getCredentials=Tn.createGetRequest=void 0;var iu=te(),_4=ae(),v4=z(),g4=ws();function y4(e){return new _4.HttpRequest({protocol:e.protocol,hostname:e.hostname,port:Number(e.port),path:e.pathname,query:Array.from(e.searchParams.entries()).reduce((t,[r,n])=>(t[r]=n,t),{}),fragment:e.hash})}Tn.createGetRequest=y4;async function h4(e){var t,r;let n=(r=(t=e?.headers["content-type"])!==null&&t!==void 0?t:e?.headers["Content-Type"])!==null&&r!==void 0?r:"";n.includes("json")||console.warn("HTTP credential provider response header content-type was not application/json. Observed: "+n+".");let i=await(0,g4.sdkStreamMixin)(e.body).transformToString();if(e.statusCode===200){let s=JSON.parse(i);if(typeof s.AccessKeyId!="string"||typeof s.SecretAccessKey!="string"||typeof s.Token!="string"||typeof s.Expiration!="string")throw new iu.CredentialsProviderError("HTTP credential provider response not of the required format, an object matching: { AccessKeyId: string, SecretAccessKey: string, Token: string, Expiration: string(rfc3339) }");return{accessKeyId:s.AccessKeyId,secretAccessKey:s.SecretAccessKey,sessionToken:s.Token,expiration:(0,v4.parseRfc3339DateTime)(s.Expiration)}}if(e.statusCode>=400&&e.statusCode<500){let s={};try{s=JSON.parse(i)}catch{}throw Object.assign(new iu.CredentialsProviderError(`Server responded with status: ${e.statusCode}`),{Code:s.Code,Message:s.Message})}throw new iu.CredentialsProviderError(`Server responded with status: ${e.statusCode}`)}Tn.getCredentials=h4});var rw=v(ka=>{"use strict";Object.defineProperty(ka,"__esModule",{value:!0});ka.retryWrapper=void 0;var S4=(e,t,r)=>async()=>{for(let n=0;n<t;++n)try{return await e()}catch{await new Promise(i=>setTimeout(i,r))}return await e()};ka.retryWrapper=S4});var iw=v(Ma=>{"use strict";Object.defineProperty(Ma,"__esModule",{value:!0});Ma.fromHttp=void 0;var E4=(Bt(),bt(Vt)),C4=It(),nw=te(),P4=E4.__importDefault(require("fs/promises")),w4=ew(),ow=tw(),x4=rw(),R4="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",b4="http://169.254.170.2",A4="AWS_CONTAINER_CREDENTIALS_FULL_URI",I4="AWS_CONTAINER_AUTHORIZATION_TOKEN_FILE",O4="AWS_CONTAINER_AUTHORIZATION_TOKEN",T4=e=>{var t,r,n,o,i,s,a,c,l;(t=e.logger)===null||t===void 0||t.debug("@aws-sdk/credential-provider-http","fromHttp");let p,m=(r=e.awsContainerCredentialsRelativeUri)!==null&&r!==void 0?r:process.env[R4],f=(n=e.awsContainerCredentialsFullUri)!==null&&n!==void 0?n:process.env[A4],_=(o=e.awsContainerAuthorizationToken)!==null&&o!==void 0?o:process.env[O4],g=(i=e.awsContainerAuthorizationTokenFile)!==null&&i!==void 0?i:process.env[I4];if(m&&f&&(console.warn("AWS SDK HTTP credentials provider:","you have set both awsContainerCredentialsRelativeUri and awsContainerCredentialsFullUri."),console.warn("awsContainerCredentialsFullUri will take precedence.")),_&&g&&(console.warn("AWS SDK HTTP credentials provider:","you have set both awsContainerAuthorizationToken and awsContainerAuthorizationTokenFile."),console.warn("awsContainerAuthorizationToken will take precedence.")),f)p=f;else if(m)p=`${b4}${m}`;else throw new nw.CredentialsProviderError(`No HTTP credential provider host provided.
Set AWS_CONTAINER_CREDENTIALS_FULL_URI or AWS_CONTAINER_CREDENTIALS_RELATIVE_URI.`);let S=new URL(p);(0,w4.checkUrl)(S);let P=new C4.NodeHttpHandler({requestTimeout:(s=e.timeout)!==null&&s!==void 0?s:1e3,connectionTimeout:(a=e.timeout)!==null&&a!==void 0?a:1e3});return(0,x4.retryWrapper)(async()=>{let x=(0,ow.createGetRequest)(S);_?x.headers.Authorization=_:g&&(x.headers.Authorization=(await P4.default.readFile(g)).toString());try{let R=await P.handle(x);return(0,ow.getCredentials)(R.response)}catch(R){throw new nw.CredentialsProviderError(String(R))}},(c=e.maxRetries)!==null&&c!==void 0?c:3,(l=e.timeout)!==null&&l!==void 0?l:1e3)};Ma.fromHttp=T4});var sw=v(Ka=>{"use strict";Object.defineProperty(Ka,"__esModule",{value:!0});Ka.fromHttp=void 0;var N4=iw();Object.defineProperty(Ka,"fromHttp",{enumerable:!0,get:function(){return N4.fromHttp}})});var su=v(wr=>{"use strict";Object.defineProperty(wr,"__esModule",{value:!0});wr.resolveHttpAuthSchemeConfig=wr.defaultSSOHttpAuthSchemeProvider=wr.defaultSSOHttpAuthSchemeParametersProvider=void 0;var D4=Ge(),aw=Ve(),k4=async(e,t,r)=>({operation:(0,aw.getSmithyContext)(t).operation,region:await(0,aw.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});wr.defaultSSOHttpAuthSchemeParametersProvider=k4;function M4(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"awsssoportal",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function Fa(e){return{schemeId:"smithy.api#noAuth"}}var K4=e=>{let t=[];switch(e.operation){case"GetRoleCredentials":{t.push(Fa(e));break}case"ListAccountRoles":{t.push(Fa(e));break}case"ListAccounts":{t.push(Fa(e));break}case"Logout":{t.push(Fa(e));break}default:t.push(M4(e))}return t};wr.defaultSSOHttpAuthSchemeProvider=K4;var F4=e=>({...(0,D4.resolveAwsSdkSigV4Config)(e)});wr.resolveHttpAuthSchemeConfig=F4});var cw=v((mde,L4)=>{L4.exports={name:"@aws-sdk/client-sso",description:"AWS SDK for JavaScript Sso Client for Node.js, Browser and React Native",version:"3.572.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-sso","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sso"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/core":"3.572.0","@aws-sdk/middleware-host-header":"3.567.0","@aws-sdk/middleware-logger":"3.568.0","@aws-sdk/middleware-recursion-detection":"3.567.0","@aws-sdk/middleware-user-agent":"3.572.0","@aws-sdk/region-config-resolver":"3.572.0","@aws-sdk/types":"3.567.0","@aws-sdk/util-endpoints":"3.572.0","@aws-sdk/util-user-agent-browser":"3.567.0","@aws-sdk/util-user-agent-node":"3.568.0","@smithy/config-resolver":"^2.2.0","@smithy/core":"^1.4.2","@smithy/fetch-http-handler":"^2.5.0","@smithy/hash-node":"^2.2.0","@smithy/invalid-dependency":"^2.2.0","@smithy/middleware-content-length":"^2.2.0","@smithy/middleware-endpoint":"^2.5.1","@smithy/middleware-retry":"^2.3.1","@smithy/middleware-serde":"^2.3.0","@smithy/middleware-stack":"^2.2.0","@smithy/node-config-provider":"^2.3.0","@smithy/node-http-handler":"^2.5.0","@smithy/protocol-http":"^3.3.0","@smithy/smithy-client":"^2.5.1","@smithy/types":"^2.12.0","@smithy/url-parser":"^2.2.0","@smithy/util-base64":"^2.3.0","@smithy/util-body-length-browser":"^2.2.0","@smithy/util-body-length-node":"^2.3.0","@smithy/util-defaults-mode-browser":"^2.2.1","@smithy/util-defaults-mode-node":"^2.3.1","@smithy/util-endpoints":"^1.2.0","@smithy/util-middleware":"^2.2.0","@smithy/util-retry":"^2.2.0","@smithy/util-utf8":"^2.3.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node16":"16.1.3","@types/node":"^16.18.96",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~4.9.5"},engines:{node:">=16.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso"}}});var Ua=v((fde,_w)=>{var La=Object.defineProperty,U4=Object.getOwnPropertyDescriptor,q4=Object.getOwnPropertyNames,j4=Object.prototype.hasOwnProperty,lw=(e,t)=>La(e,"name",{value:t,configurable:!0}),H4=(e,t)=>{for(var r in t)La(e,r,{get:t[r],enumerable:!0})},G4=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of q4(t))!j4.call(e,o)&&o!==r&&La(e,o,{get:()=>t[o],enumerable:!(n=U4(t,o))||n.enumerable});return e},$4=e=>G4(La({},"__esModule",{value:!0}),e),uw={};H4(uw,{UA_APP_ID_ENV_NAME:()=>mw,UA_APP_ID_INI_NAME:()=>fw,crtAvailability:()=>pw,defaultUserAgent:()=>V4});_w.exports=$4(uw);var z4=Xe(),dw=require("os"),au=require("process"),pw={isCrtAvailable:!1},W4=lw(()=>pw.isCrtAvailable?["md/crt-avail"]:null,"isCrtAvailable"),mw="AWS_SDK_UA_APP_ID",fw="sdk-ua-app-id",V4=lw(({serviceId:e,clientVersion:t})=>{let r=[["aws-sdk-js",t],["ua","2.0"],[`os/${(0,dw.platform)()}`,(0,dw.release)()],["lang/js"],["md/nodejs",`${au.versions.node}`]],n=W4();n&&r.push(n),e&&r.push([`api/${e}`,t]),au.env.AWS_EXECUTION_ENV&&r.push([`exec-env/${au.env.AWS_EXECUTION_ENV}`]);let o=(0,z4.loadConfig)({environmentVariableSelector:s=>s[mw],configFileSelector:s=>s[fw],default:void 0})(),i;return async()=>{if(!i){let s=await o;i=s?[...r,[`app/${s}`]]:[...r]}return i}},"defaultUserAgent")});var Ow=v(qa=>{"use strict";Object.defineProperty(qa,"__esModule",{value:!0});qa.ruleSet=void 0;var Rw="required",tt="fn",rt="argv",kn="ref",vw=!0,gw="isSet",Xo="booleanEquals",Nn="error",Dn="endpoint",Yt="tree",cu="PartitionResult",du="getAttr",yw={[Rw]:!1,type:"String"},hw={[Rw]:!0,default:!1,type:"Boolean"},Sw={[kn]:"Endpoint"},bw={[tt]:Xo,[rt]:[{[kn]:"UseFIPS"},!0]},Aw={[tt]:Xo,[rt]:[{[kn]:"UseDualStack"},!0]},et={},Ew={[tt]:du,[rt]:[{[kn]:cu},"supportsFIPS"]},Iw={[kn]:cu},Cw={[tt]:Xo,[rt]:[!0,{[tt]:du,[rt]:[Iw,"supportsDualStack"]}]},Pw=[bw],ww=[Aw],xw=[{[kn]:"Region"}],B4={version:"1.0",parameters:{Region:yw,UseDualStack:hw,UseFIPS:hw,Endpoint:yw},rules:[{conditions:[{[tt]:gw,[rt]:[Sw]}],rules:[{conditions:Pw,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Nn},{conditions:ww,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Nn},{endpoint:{url:Sw,properties:et,headers:et},type:Dn}],type:Yt},{conditions:[{[tt]:gw,[rt]:xw}],rules:[{conditions:[{[tt]:"aws.partition",[rt]:xw,assign:cu}],rules:[{conditions:[bw,Aw],rules:[{conditions:[{[tt]:Xo,[rt]:[vw,Ew]},Cw],rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:et,headers:et},type:Dn}],type:Yt},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Nn}],type:Yt},{conditions:Pw,rules:[{conditions:[{[tt]:Xo,[rt]:[Ew,vw]}],rules:[{conditions:[{[tt]:"stringEquals",[rt]:[{[tt]:du,[rt]:[Iw,"name"]},"aws-us-gov"]}],endpoint:{url:"https://portal.sso.{Region}.amazonaws.com",properties:et,headers:et},type:Dn},{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:et,headers:et},type:Dn}],type:Yt},{error:"FIPS is enabled but this partition does not support FIPS",type:Nn}],type:Yt},{conditions:ww,rules:[{conditions:[Cw],rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:et,headers:et},type:Dn}],type:Yt},{error:"DualStack is enabled but this partition does not support DualStack",type:Nn}],type:Yt},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:et,headers:et},type:Dn}],type:Yt}],type:Yt},{error:"Invalid Configuration: Missing Region",type:Nn}]};qa.ruleSet=B4});var Nw=v(ja=>{"use strict";Object.defineProperty(ja,"__esModule",{value:!0});ja.defaultEndpointResolver=void 0;var X4=Vo(),Tw=Gt(),J4=Ow(),Y4=(e,t={})=>(0,Tw.resolveEndpoint)(J4.ruleSet,{endpointParams:e,logger:t.logger});ja.defaultEndpointResolver=Y4;Tw.customEndpointFunctions.aws=X4.awsEndpointFunctions});var Mw=v(Ha=>{"use strict";Object.defineProperty(Ha,"__esModule",{value:!0});Ha.getRuntimeConfig=void 0;var Q4=Ge(),Z4=Pe(),eX=z(),tX=$t(),Dw=_r(),kw=Fe(),rX=su(),nX=Nw(),oX=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??Dw.fromBase64,base64Encoder:e?.base64Encoder??Dw.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??nX.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??rX.defaultSSOHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new Q4.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Z4.NoAuthSigner}],logger:e?.logger??new eX.NoOpLogger,serviceId:e?.serviceId??"SSO",urlParser:e?.urlParser??tX.parseUrl,utf8Decoder:e?.utf8Decoder??kw.fromUtf8,utf8Encoder:e?.utf8Encoder??kw.toUtf8});Ha.getRuntimeConfig=oX});var Lw=v($a=>{"use strict";Object.defineProperty($a,"__esModule",{value:!0});$a.getRuntimeConfig=void 0;var iX=(Bt(),bt(Vt)),sX=iX.__importDefault(cw()),aX=Ge(),cX=Ua(),Ga=Ke(),dX=on(),Kw=Le(),Jo=Xe(),Fw=It(),lX=sn(),uX=mr(),pX=Mw(),mX=z(),fX=an(),_X=z(),vX=e=>{(0,_X.emitWarningIfUnsupportedVersion)(process.version);let t=(0,fX.resolveDefaultsModeConfig)(e),r=()=>t().then(mX.loadConfigsForDefaultMode),n=(0,pX.getRuntimeConfig)(e);return(0,aX.emitWarningIfUnsupportedVersion)(process.version),{...n,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??lX.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,cX.defaultUserAgent)({serviceId:n.serviceId,clientVersion:sX.default.version}),maxAttempts:e?.maxAttempts??(0,Jo.loadConfig)(Kw.NODE_MAX_ATTEMPT_CONFIG_OPTIONS),region:e?.region??(0,Jo.loadConfig)(Ga.NODE_REGION_CONFIG_OPTIONS,Ga.NODE_REGION_CONFIG_FILE_OPTIONS),requestHandler:Fw.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,Jo.loadConfig)({...Kw.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||uX.DEFAULT_RETRY_MODE}),sha256:e?.sha256??dX.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??Fw.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,Jo.loadConfig)(Ga.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS),useFipsEndpoint:e?.useFipsEndpoint??(0,Jo.loadConfig)(Ga.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS)}};$a.getRuntimeConfig=vX});var Wa=v((hde,$w)=>{"use strict";var za=Object.defineProperty,gX=Object.getOwnPropertyDescriptor,yX=Object.getOwnPropertyNames,hX=Object.prototype.hasOwnProperty,Mn=(e,t)=>za(e,"name",{value:t,configurable:!0}),SX=(e,t)=>{for(var r in t)za(e,r,{get:t[r],enumerable:!0})},EX=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of yX(t))!hX.call(e,o)&&o!==r&&za(e,o,{get:()=>t[o],enumerable:!(n=gX(t,o))||n.enumerable});return e},CX=e=>EX(za({},"__esModule",{value:!0}),e),qw={};SX(qw,{NODE_REGION_CONFIG_FILE_OPTIONS:()=>RX,NODE_REGION_CONFIG_OPTIONS:()=>xX,REGION_ENV_NAME:()=>jw,REGION_INI_NAME:()=>Hw,getAwsRegionExtensionConfiguration:()=>PX,resolveAwsRegionExtensionConfiguration:()=>wX,resolveRegionConfig:()=>bX});$w.exports=CX(qw);var PX=Mn(e=>{let t=Mn(async()=>{if(e.region===void 0)throw new Error("Region is missing from runtimeConfig");let r=e.region;return typeof r=="string"?r:r()},"runtimeConfigRegion");return{setRegion(r){t=r},region(){return t}}},"getAwsRegionExtensionConfiguration"),wX=Mn(e=>({region:e.region()}),"resolveAwsRegionExtensionConfiguration"),jw="AWS_REGION",Hw="region",xX={environmentVariableSelector:e=>e[jw],configFileSelector:e=>e[Hw],default:()=>{throw new Error("Region is missing")}},RX={preferredFile:"credentials"},Gw=Mn(e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),"isFipsRegion"),Uw=Mn(e=>Gw(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,"getRealRegion"),bX=Mn(e=>{let{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return{...e,region:async()=>{if(typeof t=="string")return Uw(t);let n=await t();return Uw(n)},useFipsEndpoint:async()=>{let n=typeof t=="string"?t:await t();return Gw(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()}}},"resolveRegionConfig")});var k0=v((bde,D0)=>{"use strict";var Ba=Object.defineProperty,AX=Object.getOwnPropertyDescriptor,IX=Object.getOwnPropertyNames,OX=Object.prototype.hasOwnProperty,$=(e,t)=>Ba(e,"name",{value:t,configurable:!0}),TX=(e,t)=>{for(var r in t)Ba(e,r,{get:t[r],enumerable:!0})},NX=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of IX(t))!OX.call(e,o)&&o!==r&&Ba(e,o,{get:()=>t[o],enumerable:!(n=AX(t,o))||n.enumerable});return e},DX=e=>NX(Ba({},"__esModule",{value:!0}),e),Yw={};TX(Yw,{GetRoleCredentialsCommand:()=>R0,GetRoleCredentialsRequestFilterSensitiveLog:()=>m0,GetRoleCredentialsResponseFilterSensitiveLog:()=>_0,InvalidRequestException:()=>n0,ListAccountRolesCommand:()=>lu,ListAccountRolesRequestFilterSensitiveLog:()=>v0,ListAccountsCommand:()=>uu,ListAccountsRequestFilterSensitiveLog:()=>g0,LogoutCommand:()=>O0,LogoutRequestFilterSensitiveLog:()=>y0,ResourceNotFoundException:()=>s0,RoleCredentialsFilterSensitiveLog:()=>f0,SSO:()=>N0,SSOClient:()=>Ja,SSOServiceException:()=>Kn,TooManyRequestsException:()=>d0,UnauthorizedException:()=>p0,__Client:()=>A.Client,paginateListAccountRoles:()=>i5,paginateListAccounts:()=>s5});D0.exports=DX(Yw);var zw=Ca(),kX=wa(),MX=Ra(),Ww=Oa(),KX=Ke(),Qt=Pe(),FX=tn(),Qo=At(),Vw=Le(),Bw=su(),LX=$(e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"}),"resolveClientEndpointParameters"),Xa={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},UX=Lw(),Xw=Wa(),Jw=ae(),A=z(),qX=$(e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(o){let i=t.findIndex(s=>s.schemeId===o.schemeId);i===-1?t.push(o):t.splice(i,1,o)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}},"getHttpAuthExtensionConfiguration"),jX=$(e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),"resolveHttpAuthRuntimeConfig"),Va=$(e=>e,"asPartial"),HX=$((e,t)=>{let r={...Va((0,Xw.getAwsRegionExtensionConfiguration)(e)),...Va((0,A.getDefaultExtensionConfiguration)(e)),...Va((0,Jw.getHttpHandlerExtensionConfiguration)(e)),...Va(qX(e))};return t.forEach(n=>n.configure(r)),{...e,...(0,Xw.resolveAwsRegionExtensionConfiguration)(r),...(0,A.resolveDefaultRuntimeConfig)(r),...(0,Jw.resolveHttpHandlerRuntimeConfig)(r),...jX(r)}},"resolveRuntimeExtensions"),Qw=class extends A.Client{constructor(...[t]){let r=(0,UX.getRuntimeConfig)(t||{}),n=LX(r),o=(0,KX.resolveRegionConfig)(n),i=(0,Qo.resolveEndpointConfig)(o),s=(0,Vw.resolveRetryConfig)(i),a=(0,zw.resolveHostHeaderConfig)(s),c=(0,Ww.resolveUserAgentConfig)(a),l=(0,Bw.resolveHttpAuthSchemeConfig)(c),p=HX(l,t?.extensions||[]);super(p),this.config=p,this.middlewareStack.use((0,Vw.getRetryPlugin)(this.config)),this.middlewareStack.use((0,FX.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,zw.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,kX.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,MX.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,Ww.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,Qt.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:this.getDefaultHttpAuthSchemeParametersProvider(),identityProviderConfigProvider:this.getIdentityProviderConfigProvider()})),this.middlewareStack.use((0,Qt.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}getDefaultHttpAuthSchemeParametersProvider(){return Bw.defaultSSOHttpAuthSchemeParametersProvider}getIdentityProviderConfigProvider(){return async t=>new Qt.DefaultIdentityProviderConfig({"aws.auth#sigv4":t.credentials})}};$(Qw,"SSOClient");var Ja=Qw,Ya=zt(),Ede=qe(),Zw=class e0 extends A.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e0.prototype)}};$(Zw,"SSOServiceException");var Kn=Zw,t0=class r0 extends Kn{constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),this.name="InvalidRequestException",this.$fault="client",Object.setPrototypeOf(this,r0.prototype)}};$(t0,"InvalidRequestException");var n0=t0,o0=class i0 extends Kn{constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),this.name="ResourceNotFoundException",this.$fault="client",Object.setPrototypeOf(this,i0.prototype)}};$(o0,"ResourceNotFoundException");var s0=o0,a0=class c0 extends Kn{constructor(t){super({name:"TooManyRequestsException",$fault:"client",...t}),this.name="TooManyRequestsException",this.$fault="client",Object.setPrototypeOf(this,c0.prototype)}};$(a0,"TooManyRequestsException");var d0=a0,l0=class u0 extends Kn{constructor(t){super({name:"UnauthorizedException",$fault:"client",...t}),this.name="UnauthorizedException",this.$fault="client",Object.setPrototypeOf(this,u0.prototype)}};$(l0,"UnauthorizedException");var p0=l0,m0=$(e=>({...e,...e.accessToken&&{accessToken:A.SENSITIVE_STRING}}),"GetRoleCredentialsRequestFilterSensitiveLog"),f0=$(e=>({...e,...e.secretAccessKey&&{secretAccessKey:A.SENSITIVE_STRING},...e.sessionToken&&{sessionToken:A.SENSITIVE_STRING}}),"RoleCredentialsFilterSensitiveLog"),_0=$(e=>({...e,...e.roleCredentials&&{roleCredentials:f0(e.roleCredentials)}}),"GetRoleCredentialsResponseFilterSensitiveLog"),v0=$(e=>({...e,...e.accessToken&&{accessToken:A.SENSITIVE_STRING}}),"ListAccountRolesRequestFilterSensitiveLog"),g0=$(e=>({...e,...e.accessToken&&{accessToken:A.SENSITIVE_STRING}}),"ListAccountsRequestFilterSensitiveLog"),y0=$(e=>({...e,...e.accessToken&&{accessToken:A.SENSITIVE_STRING}}),"LogoutRequestFilterSensitiveLog"),Yo=Ge(),GX=$(async(e,t)=>{let r=(0,Qt.requestBuilder)(e,t),n=(0,A.map)({},Za,{[tc]:e[ec]});r.bp("/federation/credentials");let o=(0,A.map)({[n5]:[,(0,A.expectNonNull)(e[r5],"roleName")],[S0]:[,(0,A.expectNonNull)(e[h0],"accountId")]});return r.m("GET").h(n).q(o).b(void 0),r.build()},"se_GetRoleCredentialsCommand"),$X=$(async(e,t)=>{let r=(0,Qt.requestBuilder)(e,t),n=(0,A.map)({},Za,{[tc]:e[ec]});r.bp("/assignment/roles");let o=(0,A.map)({[w0]:[,e[P0]],[C0]:[()=>e.maxResults!==void 0,()=>e[E0].toString()],[S0]:[,(0,A.expectNonNull)(e[h0],"accountId")]});return r.m("GET").h(n).q(o).b(void 0),r.build()},"se_ListAccountRolesCommand"),zX=$(async(e,t)=>{let r=(0,Qt.requestBuilder)(e,t),n=(0,A.map)({},Za,{[tc]:e[ec]});r.bp("/assignment/accounts");let o=(0,A.map)({[w0]:[,e[P0]],[C0]:[()=>e.maxResults!==void 0,()=>e[E0].toString()]});return r.m("GET").h(n).q(o).b(void 0),r.build()},"se_ListAccountsCommand"),WX=$(async(e,t)=>{let r=(0,Qt.requestBuilder)(e,t),n=(0,A.map)({},Za,{[tc]:e[ec]});return r.bp("/logout"),r.m("POST").h(n).b(void 0),r.build()},"se_LogoutCommand"),VX=$(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Qa(e,t);let r=(0,A.map)({$metadata:xr(e)}),n=(0,A.expectNonNull)((0,A.expectObject)(await(0,Yo.parseJsonBody)(e.body,t)),"body"),o=(0,A.take)(n,{roleCredentials:A._json});return Object.assign(r,o),r},"de_GetRoleCredentialsCommand"),BX=$(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Qa(e,t);let r=(0,A.map)({$metadata:xr(e)}),n=(0,A.expectNonNull)((0,A.expectObject)(await(0,Yo.parseJsonBody)(e.body,t)),"body"),o=(0,A.take)(n,{nextToken:A.expectString,roleList:A._json});return Object.assign(r,o),r},"de_ListAccountRolesCommand"),XX=$(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Qa(e,t);let r=(0,A.map)({$metadata:xr(e)}),n=(0,A.expectNonNull)((0,A.expectObject)(await(0,Yo.parseJsonBody)(e.body,t)),"body"),o=(0,A.take)(n,{accountList:A._json,nextToken:A.expectString});return Object.assign(r,o),r},"de_ListAccountsCommand"),JX=$(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Qa(e,t);let r=(0,A.map)({$metadata:xr(e)});return await(0,A.collectBody)(e.body,t),r},"de_LogoutCommand"),Qa=$(async(e,t)=>{let r={...e,body:await(0,Yo.parseJsonErrorBody)(e.body,t)},n=(0,Yo.loadRestJsonErrorCode)(e,r.body);switch(n){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await QX(r,t);case"ResourceNotFoundException":case"com.amazonaws.sso#ResourceNotFoundException":throw await ZX(r,t);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await e5(r,t);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await t5(r,t);default:let o=r.body;return YX({output:e,parsedBody:o,errorCode:n})}},"de_CommandError"),YX=(0,A.withBaseException)(Kn),QX=$(async(e,t)=>{let r=(0,A.map)({}),n=e.body,o=(0,A.take)(n,{message:A.expectString});Object.assign(r,o);let i=new n0({$metadata:xr(e),...r});return(0,A.decorateServiceException)(i,e.body)},"de_InvalidRequestExceptionRes"),ZX=$(async(e,t)=>{let r=(0,A.map)({}),n=e.body,o=(0,A.take)(n,{message:A.expectString});Object.assign(r,o);let i=new s0({$metadata:xr(e),...r});return(0,A.decorateServiceException)(i,e.body)},"de_ResourceNotFoundExceptionRes"),e5=$(async(e,t)=>{let r=(0,A.map)({}),n=e.body,o=(0,A.take)(n,{message:A.expectString});Object.assign(r,o);let i=new d0({$metadata:xr(e),...r});return(0,A.decorateServiceException)(i,e.body)},"de_TooManyRequestsExceptionRes"),t5=$(async(e,t)=>{let r=(0,A.map)({}),n=e.body,o=(0,A.take)(n,{message:A.expectString});Object.assign(r,o);let i=new p0({$metadata:xr(e),...r});return(0,A.decorateServiceException)(i,e.body)},"de_UnauthorizedExceptionRes"),xr=$(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),Za=$(e=>e!=null&&e!==""&&(!Object.getOwnPropertyNames(e).includes("length")||e.length!=0)&&(!Object.getOwnPropertyNames(e).includes("size")||e.size!=0),"isSerializableHeaderValue"),h0="accountId",ec="accessToken",S0="account_id",E0="maxResults",C0="max_result",P0="nextToken",w0="next_token",r5="roleName",n5="role_name",tc="x-amz-sso_bearer_token",x0=class extends A.Command.classBuilder().ep({...Xa}).m(function(t,r,n,o){return[(0,Ya.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Qo.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SWBPortalService","GetRoleCredentials",{}).n("SSOClient","GetRoleCredentialsCommand").f(m0,_0).ser(GX).de(VX).build(){};$(x0,"GetRoleCredentialsCommand");var R0=x0,b0=class extends A.Command.classBuilder().ep({...Xa}).m(function(t,r,n,o){return[(0,Ya.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Qo.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccountRoles",{}).n("SSOClient","ListAccountRolesCommand").f(v0,void 0).ser($X).de(BX).build(){};$(b0,"ListAccountRolesCommand");var lu=b0,A0=class extends A.Command.classBuilder().ep({...Xa}).m(function(t,r,n,o){return[(0,Ya.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Qo.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccounts",{}).n("SSOClient","ListAccountsCommand").f(g0,void 0).ser(zX).de(XX).build(){};$(A0,"ListAccountsCommand");var uu=A0,I0=class extends A.Command.classBuilder().ep({...Xa}).m(function(t,r,n,o){return[(0,Ya.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Qo.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SWBPortalService","Logout",{}).n("SSOClient","LogoutCommand").f(y0,void 0).ser(WX).de(JX).build(){};$(I0,"LogoutCommand");var O0=I0,o5={GetRoleCredentialsCommand:R0,ListAccountRolesCommand:lu,ListAccountsCommand:uu,LogoutCommand:O0},T0=class extends Ja{};$(T0,"SSO");var N0=T0;(0,A.createAggregatedClient)(o5,N0);var i5=(0,Qt.createPaginator)(Ja,lu,"nextToken","nextToken","maxResults"),s5=(0,Qt.createPaginator)(Ja,uu,"nextToken","nextToken","maxResults")});var H0=v((Ade,j0)=>{"use strict";var a5=Object.create,ei=Object.defineProperty,c5=Object.getOwnPropertyDescriptor,d5=Object.getOwnPropertyNames,l5=Object.getPrototypeOf,u5=Object.prototype.hasOwnProperty,Rr=(e,t)=>ei(e,"name",{value:t,configurable:!0}),p5=(e,t)=>{for(var r in t)ei(e,r,{get:t[r],enumerable:!0})},F0=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of d5(t))!u5.call(e,o)&&o!==r&&ei(e,o,{get:()=>t[o],enumerable:!(n=c5(t,o))||n.enumerable});return e},L0=(e,t,r)=>(r=e!=null?a5(l5(e)):{},F0(t||!e||!e.__esModule?ei(r,"default",{value:e,enumerable:!0}):r,e)),m5=e=>F0(ei({},"__esModule",{value:!0}),e),U0={};p5(U0,{fromSso:()=>q0,fromStatic:()=>S5,nodeProvider:()=>E5});j0.exports=m5(U0);var f5=5*60*1e3,mu="To refresh this SSO session run 'aws sso login' with the corresponding profile.",pu={},_5=Rr(async e=>{let{SSOOIDCClient:t}=await Promise.resolve().then(()=>L0(ti()));if(pu[e])return pu[e];let r=new t({region:e});return pu[e]=r,r},"getSsoOidcClient"),v5=Rr(async(e,t)=>{let{CreateTokenCommand:r}=await Promise.resolve().then(()=>L0(ti()));return(await _5(t)).send(new r({clientId:e.clientId,clientSecret:e.clientSecret,refreshToken:e.refreshToken,grantType:"refresh_token"}))},"getNewSsoOidcToken"),yt=te(),M0=Rr(e=>{if(e.expiration&&e.expiration.getTime()<Date.now())throw new yt.TokenProviderError(`Token is expired. ${mu}`,!1)},"validateTokenExpiry"),dn=Rr((e,t,r=!1)=>{if(typeof t>"u")throw new yt.TokenProviderError(`Value not present for '${e}' in SSO Token${r?". Cannot refresh":""}. ${mu}`,!1)},"validateTokenKey"),Zo=je(),g5=require("fs"),{writeFile:y5}=g5.promises,h5=Rr((e,t)=>{let r=(0,Zo.getSSOTokenFilepath)(e),n=JSON.stringify(t,null,2);return y5(r,n)},"writeSSOTokenToFile"),K0=new Date(0),q0=Rr((e={})=>async()=>{var t;(t=e.logger)==null||t.debug("@aws-sdk/token-providers","fromSso");let r=await(0,Zo.parseKnownFiles)(e),n=(0,Zo.getProfileName)(e),o=r[n];if(o){if(!o.sso_session)throw new yt.TokenProviderError(`Profile '${n}' is missing required property 'sso_session'.`)}else throw new yt.TokenProviderError(`Profile '${n}' could not be found in shared credentials file.`,!1);let i=o.sso_session,a=(await(0,Zo.loadSsoSessionData)(e))[i];if(!a)throw new yt.TokenProviderError(`Sso session '${i}' could not be found in shared credentials file.`,!1);for(let g of["sso_start_url","sso_region"])if(!a[g])throw new yt.TokenProviderError(`Sso session '${i}' is missing required property '${g}'.`,!1);let c=a.sso_start_url,l=a.sso_region,p;try{p=await(0,Zo.getSSOTokenFromFile)(i)}catch{throw new yt.TokenProviderError(`The SSO session token associated with profile=${n} was not found or is invalid. ${mu}`,!1)}dn("accessToken",p.accessToken),dn("expiresAt",p.expiresAt);let{accessToken:m,expiresAt:f}=p,_={token:m,expiration:new Date(f)};if(_.expiration.getTime()-Date.now()>f5)return _;if(Date.now()-K0.getTime()<30*1e3)return M0(_),_;dn("clientId",p.clientId,!0),dn("clientSecret",p.clientSecret,!0),dn("refreshToken",p.refreshToken,!0);try{K0.setTime(Date.now());let g=await v5(p,l);dn("accessToken",g.accessToken),dn("expiresIn",g.expiresIn);let S=new Date(Date.now()+g.expiresIn*1e3);try{await h5(i,{...p,accessToken:g.accessToken,expiresAt:S.toISOString(),refreshToken:g.refreshToken})}catch{}return{token:g.accessToken,expiration:S}}catch{return M0(_),_}},"fromSso"),S5=Rr(({token:e,logger:t})=>async()=>{if(t?.debug("@aws-sdk/token-providers","fromStatic"),!e||!e.token)throw new yt.TokenProviderError("Please pass a valid token to fromStatic",!1);return e},"fromStatic"),E5=Rr((e={})=>(0,yt.memoize)((0,yt.chain)(q0(e),async()=>{throw new yt.TokenProviderError("Could not load token from any providers",!1)}),t=>t.expiration!==void 0&&t.expiration.getTime()-Date.now()<3e5,t=>t.expiration!==void 0),"nodeProvider")});var _u=v((Ide,J0)=>{"use strict";var nc=Object.defineProperty,C5=Object.getOwnPropertyDescriptor,$0=Object.getOwnPropertyNames,P5=Object.prototype.hasOwnProperty,oc=(e,t)=>nc(e,"name",{value:t,configurable:!0}),w5=(e,t)=>function(){return e&&(t=(0,e[$0(e)[0]])(e=0)),t},z0=(e,t)=>{for(var r in t)nc(e,r,{get:t[r],enumerable:!0})},x5=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of $0(t))!P5.call(e,o)&&o!==r&&nc(e,o,{get:()=>t[o],enumerable:!(n=C5(t,o))||n.enumerable});return e},R5=e=>x5(nc({},"__esModule",{value:!0}),e),W0={};z0(W0,{GetRoleCredentialsCommand:()=>fu.GetRoleCredentialsCommand,SSOClient:()=>fu.SSOClient});var fu,b5=w5({"src/loadSso.ts"(){"use strict";fu=k0()}}),V0={};z0(V0,{fromSSO:()=>I5,isSsoProfile:()=>B0,validateSsoProfile:()=>X0});J0.exports=R5(V0);var B0=oc(e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),"isSsoProfile"),A5=H0(),ht=te(),rc=je(),ri=!1,G0=oc(async({ssoStartUrl:e,ssoSession:t,ssoAccountId:r,ssoRegion:n,ssoRoleName:o,ssoClient:i,clientConfig:s,profile:a})=>{let c,l="To refresh this SSO session run aws sso login with the corresponding profile.";if(t)try{let H=await(0,A5.fromSso)({profile:a})();c={accessToken:H.token,expiresAt:new Date(H.expiration).toISOString()}}catch(H){throw new ht.CredentialsProviderError(H.message,ri)}else try{c=await(0,rc.getSSOTokenFromFile)(e)}catch{throw new ht.CredentialsProviderError(`The SSO session associated with this profile is invalid. ${l}`,ri)}if(new Date(c.expiresAt).getTime()-Date.now()<=0)throw new ht.CredentialsProviderError(`The SSO session associated with this profile has expired. ${l}`,ri);let{accessToken:p}=c,{SSOClient:m,GetRoleCredentialsCommand:f}=await Promise.resolve().then(()=>(b5(),W0)),_=i||new m(Object.assign({},s??{},{region:s?.region??n})),g;try{g=await _.send(new f({accountId:r,roleName:o,accessToken:p}))}catch(H){throw ht.CredentialsProviderError.from(H,ri)}let{roleCredentials:{accessKeyId:S,secretAccessKey:P,sessionToken:x,expiration:R,credentialScope:de}={}}=g;if(!S||!P||!x||!R)throw new ht.CredentialsProviderError("SSO returns an invalid temporary credential.",ri);return{accessKeyId:S,secretAccessKey:P,sessionToken:x,expiration:new Date(R),credentialScope:de}},"resolveSSOCredentials"),X0=oc(e=>{let{sso_start_url:t,sso_account_id:r,sso_region:n,sso_role_name:o}=e;if(!t||!r||!n||!o)throw new ht.CredentialsProviderError(`Profile is configured with invalid SSO credentials. Required parameters "sso_account_id", "sso_region", "sso_role_name", "sso_start_url". Got ${Object.keys(e).join(", ")}
Reference: https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-sso.html`,!1);return e},"validateSsoProfile"),I5=oc((e={})=>async()=>{var t;(t=e.logger)==null||t.debug("@aws-sdk/credential-provider-sso","fromSSO");let{ssoStartUrl:r,ssoAccountId:n,ssoRegion:o,ssoRoleName:i,ssoSession:s}=e,{ssoClient:a}=e,c=(0,rc.getProfileName)(e);if(!r&&!n&&!o&&!i&&!s){let p=(await(0,rc.parseKnownFiles)(e))[c];if(!p)throw new ht.CredentialsProviderError(`Profile ${c} was not found.`);if(!B0(p))throw new ht.CredentialsProviderError(`Profile ${c} is not configured with SSO credentials.`);if(p?.sso_session){let x=(await(0,rc.loadSsoSessionData)(e))[p.sso_session],R=` configurations in profile ${c} and sso-session ${p.sso_session}`;if(o&&o!==x.sso_region)throw new ht.CredentialsProviderError("Conflicting SSO region"+R,!1);if(r&&r!==x.sso_start_url)throw new ht.CredentialsProviderError("Conflicting SSO start_url"+R,!1);p.sso_region=x.sso_region,p.sso_start_url=x.sso_start_url}let{sso_start_url:m,sso_account_id:f,sso_region:_,sso_role_name:g,sso_session:S}=X0(p);return G0({ssoStartUrl:m,ssoSession:S,ssoAccountId:f,ssoRegion:_,ssoRoleName:g,ssoClient:a,clientConfig:e.clientConfig,profile:c})}else{if(!r||!n||!o||!i)throw new ht.CredentialsProviderError('Incomplete configuration. The fromSSO() argument hash must include "ssoStartUrl", "ssoAccountId", "ssoRegion", "ssoRoleName"');return G0({ssoStartUrl:r,ssoSession:s,ssoAccountId:n,ssoRegion:o,ssoRoleName:i,ssoClient:a,clientConfig:e.clientConfig,profile:c})}},"fromSSO")});var vu=v(St=>{"use strict";Object.defineProperty(St,"__esModule",{value:!0});St.resolveHttpAuthSchemeConfig=St.resolveStsAuthConfig=St.defaultSTSHttpAuthSchemeProvider=St.defaultSTSHttpAuthSchemeParametersProvider=void 0;var O5=Ge(),Y0=Ve(),T5=ni(),N5=async(e,t,r)=>({operation:(0,Y0.getSmithyContext)(t).operation,region:await(0,Y0.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});St.defaultSTSHttpAuthSchemeParametersProvider=N5;function D5(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sts",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function Q0(e){return{schemeId:"smithy.api#noAuth"}}var k5=e=>{let t=[];switch(e.operation){case"AssumeRoleWithSAML":{t.push(Q0(e));break}case"AssumeRoleWithWebIdentity":{t.push(Q0(e));break}default:t.push(D5(e))}return t};St.defaultSTSHttpAuthSchemeProvider=k5;var M5=e=>({...e,stsClientCtor:T5.STSClient});St.resolveStsAuthConfig=M5;var K5=e=>{let t=(0,St.resolveStsAuthConfig)(e);return{...(0,O5.resolveAwsSdkSigV4Config)(t)}};St.resolveHttpAuthSchemeConfig=K5});var Et=v(Fn=>{"use strict";Object.defineProperty(Fn,"__esModule",{value:!0});Fn.commonParams=Fn.resolveClientEndpointParameters=void 0;var F5=e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,defaultSigningName:"sts"});Fn.resolveClientEndpointParameters=F5;Fn.commonParams={UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var Z0=v((Nde,L5)=>{L5.exports={name:"@aws-sdk/client-sts",description:"AWS SDK for JavaScript Sts Client for Node.js, Browser and React Native",version:"3.572.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-sts","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"rimraf ./dist-types tsconfig.types.tsbuildinfo && tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sts",test:"yarn test:unit","test:unit":"jest"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/client-sso-oidc":"3.572.0","@aws-sdk/core":"3.572.0","@aws-sdk/credential-provider-node":"3.572.0","@aws-sdk/middleware-host-header":"3.567.0","@aws-sdk/middleware-logger":"3.568.0","@aws-sdk/middleware-recursion-detection":"3.567.0","@aws-sdk/middleware-user-agent":"3.572.0","@aws-sdk/region-config-resolver":"3.572.0","@aws-sdk/types":"3.567.0","@aws-sdk/util-endpoints":"3.572.0","@aws-sdk/util-user-agent-browser":"3.567.0","@aws-sdk/util-user-agent-node":"3.568.0","@smithy/config-resolver":"^2.2.0","@smithy/core":"^1.4.2","@smithy/fetch-http-handler":"^2.5.0","@smithy/hash-node":"^2.2.0","@smithy/invalid-dependency":"^2.2.0","@smithy/middleware-content-length":"^2.2.0","@smithy/middleware-endpoint":"^2.5.1","@smithy/middleware-retry":"^2.3.1","@smithy/middleware-serde":"^2.3.0","@smithy/middleware-stack":"^2.2.0","@smithy/node-config-provider":"^2.3.0","@smithy/node-http-handler":"^2.5.0","@smithy/protocol-http":"^3.3.0","@smithy/smithy-client":"^2.5.1","@smithy/types":"^2.12.0","@smithy/url-parser":"^2.2.0","@smithy/util-base64":"^2.3.0","@smithy/util-body-length-browser":"^2.2.0","@smithy/util-body-length-node":"^2.3.0","@smithy/util-defaults-mode-browser":"^2.2.1","@smithy/util-defaults-mode-node":"^2.3.1","@smithy/util-endpoints":"^1.2.0","@smithy/util-middleware":"^2.2.0","@smithy/util-retry":"^2.2.0","@smithy/util-utf8":"^2.3.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node16":"16.1.3","@types/node":"^16.18.96",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~4.9.5"},engines:{node:">=16.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sts",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sts"}}});var Ex=v(ic=>{"use strict";Object.defineProperty(ic,"__esModule",{value:!0});ic.ruleSet=void 0;var ux="required",U="type",W="fn",V="argv",Ar="ref",ex=!1,gu=!0,br="booleanEquals",ye="stringEquals",px="sigv4",mx="sts",fx="us-east-1",ne="endpoint",tx="https://sts.{Region}.{PartitionResult#dnsSuffix}",Nt="tree",Ln="error",hu="getAttr",rx={[ux]:!1,[U]:"String"},yu={[ux]:!0,default:!1,[U]:"Boolean"},_x={[Ar]:"Endpoint"},nx={[W]:"isSet",[V]:[{[Ar]:"Region"}]},he={[Ar]:"Region"},ox={[W]:"aws.partition",[V]:[he],assign:"PartitionResult"},vx={[Ar]:"UseFIPS"},gx={[Ar]:"UseDualStack"},we={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:px,signingName:mx,signingRegion:fx}]},headers:{}},$e={},ix={conditions:[{[W]:ye,[V]:[he,"aws-global"]}],[ne]:we,[U]:ne},yx={[W]:br,[V]:[vx,!0]},hx={[W]:br,[V]:[gx,!0]},sx={[W]:hu,[V]:[{[Ar]:"PartitionResult"},"supportsFIPS"]},Sx={[Ar]:"PartitionResult"},ax={[W]:br,[V]:[!0,{[W]:hu,[V]:[Sx,"supportsDualStack"]}]},cx=[{[W]:"isSet",[V]:[_x]}],dx=[yx],lx=[hx],U5={version:"1.0",parameters:{Region:rx,UseDualStack:yu,UseFIPS:yu,Endpoint:rx,UseGlobalEndpoint:yu},rules:[{conditions:[{[W]:br,[V]:[{[Ar]:"UseGlobalEndpoint"},gu]},{[W]:"not",[V]:cx},nx,ox,{[W]:br,[V]:[vx,ex]},{[W]:br,[V]:[gx,ex]}],rules:[{conditions:[{[W]:ye,[V]:[he,"ap-northeast-1"]}],endpoint:we,[U]:ne},{conditions:[{[W]:ye,[V]:[he,"ap-south-1"]}],endpoint:we,[U]:ne},{conditions:[{[W]:ye,[V]:[he,"ap-southeast-1"]}],endpoint:we,[U]:ne},{conditions:[{[W]:ye,[V]:[he,"ap-southeast-2"]}],endpoint:we,[U]:ne},ix,{conditions:[{[W]:ye,[V]:[he,"ca-central-1"]}],endpoint:we,[U]:ne},{conditions:[{[W]:ye,[V]:[he,"eu-central-1"]}],endpoint:we,[U]:ne},{conditions:[{[W]:ye,[V]:[he,"eu-north-1"]}],endpoint:we,[U]:ne},{conditions:[{[W]:ye,[V]:[he,"eu-west-1"]}],endpoint:we,[U]:ne},{conditions:[{[W]:ye,[V]:[he,"eu-west-2"]}],endpoint:we,[U]:ne},{conditions:[{[W]:ye,[V]:[he,"eu-west-3"]}],endpoint:we,[U]:ne},{conditions:[{[W]:ye,[V]:[he,"sa-east-1"]}],endpoint:we,[U]:ne},{conditions:[{[W]:ye,[V]:[he,fx]}],endpoint:we,[U]:ne},{conditions:[{[W]:ye,[V]:[he,"us-east-2"]}],endpoint:we,[U]:ne},{conditions:[{[W]:ye,[V]:[he,"us-west-1"]}],endpoint:we,[U]:ne},{conditions:[{[W]:ye,[V]:[he,"us-west-2"]}],endpoint:we,[U]:ne},{endpoint:{url:tx,properties:{authSchemes:[{name:px,signingName:mx,signingRegion:"{Region}"}]},headers:$e},[U]:ne}],[U]:Nt},{conditions:cx,rules:[{conditions:dx,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[U]:Ln},{conditions:lx,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[U]:Ln},{endpoint:{url:_x,properties:$e,headers:$e},[U]:ne}],[U]:Nt},{conditions:[nx],rules:[{conditions:[ox],rules:[{conditions:[yx,hx],rules:[{conditions:[{[W]:br,[V]:[gu,sx]},ax],rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:$e,headers:$e},[U]:ne}],[U]:Nt},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[U]:Ln}],[U]:Nt},{conditions:dx,rules:[{conditions:[{[W]:br,[V]:[sx,gu]}],rules:[{conditions:[{[W]:ye,[V]:[{[W]:hu,[V]:[Sx,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:$e,headers:$e},[U]:ne},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:$e,headers:$e},[U]:ne}],[U]:Nt},{error:"FIPS is enabled but this partition does not support FIPS",[U]:Ln}],[U]:Nt},{conditions:lx,rules:[{conditions:[ax],rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:$e,headers:$e},[U]:ne}],[U]:Nt},{error:"DualStack is enabled but this partition does not support DualStack",[U]:Ln}],[U]:Nt},ix,{endpoint:{url:tx,properties:$e,headers:$e},[U]:ne}],[U]:Nt}],[U]:Nt},{error:"Invalid Configuration: Missing Region",[U]:Ln}]};ic.ruleSet=U5});var Px=v(sc=>{"use strict";Object.defineProperty(sc,"__esModule",{value:!0});sc.defaultEndpointResolver=void 0;var q5=Vo(),Cx=Gt(),j5=Ex(),H5=(e,t={})=>(0,Cx.resolveEndpoint)(j5.ruleSet,{endpointParams:e,logger:t.logger});sc.defaultEndpointResolver=H5;Cx.customEndpointFunctions.aws=q5.awsEndpointFunctions});var Rx=v(ac=>{"use strict";Object.defineProperty(ac,"__esModule",{value:!0});ac.getRuntimeConfig=void 0;var G5=Ge(),$5=Pe(),z5=z(),W5=$t(),wx=_r(),xx=Fe(),V5=vu(),B5=Px(),X5=e=>({apiVersion:"2011-06-15",base64Decoder:e?.base64Decoder??wx.fromBase64,base64Encoder:e?.base64Encoder??wx.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??B5.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??V5.defaultSTSHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new G5.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new $5.NoAuthSigner}],logger:e?.logger??new z5.NoOpLogger,serviceId:e?.serviceId??"STS",urlParser:e?.urlParser??W5.parseUrl,utf8Decoder:e?.utf8Decoder??xx.fromUtf8,utf8Encoder:e?.utf8Encoder??xx.toUtf8});ac.getRuntimeConfig=X5});var Tx=v(dc=>{"use strict";Object.defineProperty(dc,"__esModule",{value:!0});dc.getRuntimeConfig=void 0;var J5=(Bt(),bt(Vt)),Y5=J5.__importDefault(Z0()),bx=Ge(),Ax=Su(),Q5=Ua(),cc=Ke(),Z5=Pe(),eJ=on(),Ix=Le(),oi=Xe(),Ox=It(),tJ=sn(),rJ=mr(),nJ=Rx(),oJ=z(),iJ=an(),sJ=z(),aJ=e=>{(0,sJ.emitWarningIfUnsupportedVersion)(process.version);let t=(0,iJ.resolveDefaultsModeConfig)(e),r=()=>t().then(oJ.loadConfigsForDefaultMode),n=(0,nJ.getRuntimeConfig)(e);return(0,bx.emitWarningIfUnsupportedVersion)(process.version),{...n,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??tJ.calculateBodyLength,credentialDefaultProvider:e?.credentialDefaultProvider??Ax.defaultProvider,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,Q5.defaultUserAgent)({serviceId:n.serviceId,clientVersion:Y5.default.version}),httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:o=>o.getIdentityProvider("aws.auth#sigv4")||(async i=>await(0,Ax.defaultProvider)(i?.__config||{})()),signer:new bx.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:o=>o.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Z5.NoAuthSigner}],maxAttempts:e?.maxAttempts??(0,oi.loadConfig)(Ix.NODE_MAX_ATTEMPT_CONFIG_OPTIONS),region:e?.region??(0,oi.loadConfig)(cc.NODE_REGION_CONFIG_OPTIONS,cc.NODE_REGION_CONFIG_FILE_OPTIONS),requestHandler:Ox.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,oi.loadConfig)({...Ix.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||rJ.DEFAULT_RETRY_MODE}),sha256:e?.sha256??eJ.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??Ox.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,oi.loadConfig)(cc.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS),useFipsEndpoint:e?.useFipsEndpoint??(0,oi.loadConfig)(cc.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS)}};dc.getRuntimeConfig=aJ});var Nx=v(Un=>{"use strict";Object.defineProperty(Un,"__esModule",{value:!0});Un.resolveHttpAuthRuntimeConfig=Un.getHttpAuthExtensionConfiguration=void 0;var cJ=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(o){let i=t.findIndex(s=>s.schemeId===o.schemeId);i===-1?t.push(o):t.splice(i,1,o)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}};Un.getHttpAuthExtensionConfiguration=cJ;var dJ=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()});Un.resolveHttpAuthRuntimeConfig=dJ});var Eu=v(uc=>{"use strict";Object.defineProperty(uc,"__esModule",{value:!0});uc.resolveRuntimeExtensions=void 0;var Dx=Wa(),kx=ae(),Mx=z(),Kx=Nx(),lc=e=>e,lJ=(e,t)=>{let r={...lc((0,Dx.getAwsRegionExtensionConfiguration)(e)),...lc((0,Mx.getDefaultExtensionConfiguration)(e)),...lc((0,kx.getHttpHandlerExtensionConfiguration)(e)),...lc((0,Kx.getHttpAuthExtensionConfiguration)(e))};return t.forEach(n=>n.configure(r)),{...e,...(0,Dx.resolveAwsRegionExtensionConfiguration)(r),...(0,Mx.resolveDefaultRuntimeConfig)(r),...(0,kx.resolveHttpHandlerRuntimeConfig)(r),...(0,Kx.resolveHttpAuthRuntimeConfig)(r)}};uc.resolveRuntimeExtensions=lJ});var ni=v(qn=>{"use strict";Object.defineProperty(qn,"__esModule",{value:!0});qn.STSClient=qn.__Client=void 0;var Fx=Ca(),uJ=wa(),pJ=Ra(),Lx=Oa(),mJ=Ke(),Cu=Pe(),fJ=tn(),_J=At(),Ux=Le(),jx=z();Object.defineProperty(qn,"__Client",{enumerable:!0,get:function(){return jx.Client}});var qx=vu(),vJ=Et(),gJ=Tx(),yJ=Eu(),Pu=class extends jx.Client{constructor(...[t]){let r=(0,gJ.getRuntimeConfig)(t||{}),n=(0,vJ.resolveClientEndpointParameters)(r),o=(0,mJ.resolveRegionConfig)(n),i=(0,_J.resolveEndpointConfig)(o),s=(0,Ux.resolveRetryConfig)(i),a=(0,Fx.resolveHostHeaderConfig)(s),c=(0,Lx.resolveUserAgentConfig)(a),l=(0,qx.resolveHttpAuthSchemeConfig)(c),p=(0,yJ.resolveRuntimeExtensions)(l,t?.extensions||[]);super(p),this.config=p,this.middlewareStack.use((0,Ux.getRetryPlugin)(this.config)),this.middlewareStack.use((0,fJ.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,Fx.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,uJ.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,pJ.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,Lx.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,Cu.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:this.getDefaultHttpAuthSchemeParametersProvider(),identityProviderConfigProvider:this.getIdentityProviderConfigProvider()})),this.middlewareStack.use((0,Cu.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}getDefaultHttpAuthSchemeParametersProvider(){return qx.defaultSTSHttpAuthSchemeParametersProvider}getIdentityProviderConfigProvider(){return async t=>new Cu.DefaultIdentityProviderConfig({"aws.auth#sigv4":t.credentials})}};qn.STSClient=Pu});var op=v((Jde,np)=>{"use strict";var pc=Object.defineProperty,hJ=Object.getOwnPropertyDescriptor,SJ=Object.getOwnPropertyNames,EJ=Object.prototype.hasOwnProperty,E=(e,t)=>pc(e,"name",{value:t,configurable:!0}),CJ=(e,t)=>{for(var r in t)pc(e,r,{get:t[r],enumerable:!0})},Qu=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of SJ(t))!EJ.call(e,o)&&o!==r&&pc(e,o,{get:()=>t[o],enumerable:!(n=hJ(t,o))||n.enumerable});return e},PJ=(e,t,r)=>(Qu(e,t,"default"),r&&Qu(r,t,"default")),wJ=e=>Qu(pc({},"__esModule",{value:!0}),e),Zu={};CJ(Zu,{AssumeRoleCommand:()=>tp,AssumeRoleResponseFilterSensitiveLog:()=>_R,AssumeRoleWithSAMLCommand:()=>xR,AssumeRoleWithSAMLRequestFilterSensitiveLog:()=>vR,AssumeRoleWithSAMLResponseFilterSensitiveLog:()=>gR,AssumeRoleWithWebIdentityCommand:()=>rp,AssumeRoleWithWebIdentityRequestFilterSensitiveLog:()=>yR,AssumeRoleWithWebIdentityResponseFilterSensitiveLog:()=>hR,ClientInputEndpointParameters:()=>W8.ClientInputEndpointParameters,CredentialsFilterSensitiveLog:()=>Bn,DecodeAuthorizationMessageCommand:()=>AR,ExpiredTokenException:()=>Vx,GetAccessKeyInfoCommand:()=>OR,GetCallerIdentityCommand:()=>NR,GetFederationTokenCommand:()=>kR,GetFederationTokenResponseFilterSensitiveLog:()=>SR,GetSessionTokenCommand:()=>KR,GetSessionTokenResponseFilterSensitiveLog:()=>ER,IDPCommunicationErrorException:()=>uR,IDPRejectedClaimException:()=>iR,InvalidAuthorizationMessageException:()=>fR,InvalidIdentityTokenException:()=>cR,MalformedPolicyDocumentException:()=>Jx,PackedPolicyTooLargeException:()=>Zx,RegionDisabledException:()=>rR,RuntimeExtension:()=>V8.RuntimeExtension,STS:()=>LR,STSServiceException:()=>Dt,decorateDefaultCredentialProvider:()=>J8,getDefaultRoleAssumer:()=>HR,getDefaultRoleAssumerWithWebIdentity:()=>GR});np.exports=wJ(Zu);PJ(Zu,ni(),np.exports);var Ir=At(),Or=zt(),qde=qe(),xJ=Et(),I=z(),Gx=class $x extends I.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,$x.prototype)}};E(Gx,"STSServiceException");var Dt=Gx,zx=class Wx extends Dt{constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),this.name="ExpiredTokenException",this.$fault="client",Object.setPrototypeOf(this,Wx.prototype)}};E(zx,"ExpiredTokenException");var Vx=zx,Bx=class Xx extends Dt{constructor(t){super({name:"MalformedPolicyDocumentException",$fault:"client",...t}),this.name="MalformedPolicyDocumentException",this.$fault="client",Object.setPrototypeOf(this,Xx.prototype)}};E(Bx,"MalformedPolicyDocumentException");var Jx=Bx,Yx=class Qx extends Dt{constructor(t){super({name:"PackedPolicyTooLargeException",$fault:"client",...t}),this.name="PackedPolicyTooLargeException",this.$fault="client",Object.setPrototypeOf(this,Qx.prototype)}};E(Yx,"PackedPolicyTooLargeException");var Zx=Yx,eR=class tR extends Dt{constructor(t){super({name:"RegionDisabledException",$fault:"client",...t}),this.name="RegionDisabledException",this.$fault="client",Object.setPrototypeOf(this,tR.prototype)}};E(eR,"RegionDisabledException");var rR=eR,nR=class oR extends Dt{constructor(t){super({name:"IDPRejectedClaimException",$fault:"client",...t}),this.name="IDPRejectedClaimException",this.$fault="client",Object.setPrototypeOf(this,oR.prototype)}};E(nR,"IDPRejectedClaimException");var iR=nR,sR=class aR extends Dt{constructor(t){super({name:"InvalidIdentityTokenException",$fault:"client",...t}),this.name="InvalidIdentityTokenException",this.$fault="client",Object.setPrototypeOf(this,aR.prototype)}};E(sR,"InvalidIdentityTokenException");var cR=sR,dR=class lR extends Dt{constructor(t){super({name:"IDPCommunicationErrorException",$fault:"client",...t}),this.name="IDPCommunicationErrorException",this.$fault="client",Object.setPrototypeOf(this,lR.prototype)}};E(dR,"IDPCommunicationErrorException");var uR=dR,pR=class mR extends Dt{constructor(t){super({name:"InvalidAuthorizationMessageException",$fault:"client",...t}),this.name="InvalidAuthorizationMessageException",this.$fault="client",Object.setPrototypeOf(this,mR.prototype)}};E(pR,"InvalidAuthorizationMessageException");var fR=pR,Bn=E(e=>({...e,...e.SecretAccessKey&&{SecretAccessKey:I.SENSITIVE_STRING}}),"CredentialsFilterSensitiveLog"),_R=E(e=>({...e,...e.Credentials&&{Credentials:Bn(e.Credentials)}}),"AssumeRoleResponseFilterSensitiveLog"),vR=E(e=>({...e,...e.SAMLAssertion&&{SAMLAssertion:I.SENSITIVE_STRING}}),"AssumeRoleWithSAMLRequestFilterSensitiveLog"),gR=E(e=>({...e,...e.Credentials&&{Credentials:Bn(e.Credentials)}}),"AssumeRoleWithSAMLResponseFilterSensitiveLog"),yR=E(e=>({...e,...e.WebIdentityToken&&{WebIdentityToken:I.SENSITIVE_STRING}}),"AssumeRoleWithWebIdentityRequestFilterSensitiveLog"),hR=E(e=>({...e,...e.Credentials&&{Credentials:Bn(e.Credentials)}}),"AssumeRoleWithWebIdentityResponseFilterSensitiveLog"),SR=E(e=>({...e,...e.Credentials&&{Credentials:Bn(e.Credentials)}}),"GetFederationTokenResponseFilterSensitiveLog"),ER=E(e=>({...e,...e.Credentials&&{Credentials:Bn(e.Credentials)}}),"GetSessionTokenResponseFilterSensitiveLog"),rr=Ge(),RJ=ae(),bJ=E(async(e,t)=>{let r=Dr,n;return n=Fr({...YJ(e,t),[Mr]:A8,[Kr]:kr}),Nr(t,r,"/",void 0,n)},"se_AssumeRoleCommand"),AJ=E(async(e,t)=>{let r=Dr,n;return n=Fr({...QJ(e,t),[Mr]:I8,[Kr]:kr}),Nr(t,r,"/",void 0,n)},"se_AssumeRoleWithSAMLCommand"),IJ=E(async(e,t)=>{let r=Dr,n;return n=Fr({...ZJ(e,t),[Mr]:O8,[Kr]:kr}),Nr(t,r,"/",void 0,n)},"se_AssumeRoleWithWebIdentityCommand"),OJ=E(async(e,t)=>{let r=Dr,n;return n=Fr({...e8(e,t),[Mr]:T8,[Kr]:kr}),Nr(t,r,"/",void 0,n)},"se_DecodeAuthorizationMessageCommand"),TJ=E(async(e,t)=>{let r=Dr,n;return n=Fr({...t8(e,t),[Mr]:N8,[Kr]:kr}),Nr(t,r,"/",void 0,n)},"se_GetAccessKeyInfoCommand"),NJ=E(async(e,t)=>{let r=Dr,n;return n=Fr({...r8(e,t),[Mr]:D8,[Kr]:kr}),Nr(t,r,"/",void 0,n)},"se_GetCallerIdentityCommand"),DJ=E(async(e,t)=>{let r=Dr,n;return n=Fr({...n8(e,t),[Mr]:k8,[Kr]:kr}),Nr(t,r,"/",void 0,n)},"se_GetFederationTokenCommand"),kJ=E(async(e,t)=>{let r=Dr,n;return n=Fr({...o8(e,t),[Mr]:M8,[Kr]:kr}),Nr(t,r,"/",void 0,n)},"se_GetSessionTokenCommand"),MJ=E(async(e,t)=>{if(e.statusCode>=300)return Tr(e,t);let r=await(0,rr.parseXmlBody)(e.body,t),n={};return n=l8(r.AssumeRoleResult,t),{$metadata:xe(e),...n}},"de_AssumeRoleCommand"),KJ=E(async(e,t)=>{if(e.statusCode>=300)return Tr(e,t);let r=await(0,rr.parseXmlBody)(e.body,t),n={};return n=u8(r.AssumeRoleWithSAMLResult,t),{$metadata:xe(e),...n}},"de_AssumeRoleWithSAMLCommand"),FJ=E(async(e,t)=>{if(e.statusCode>=300)return Tr(e,t);let r=await(0,rr.parseXmlBody)(e.body,t),n={};return n=p8(r.AssumeRoleWithWebIdentityResult,t),{$metadata:xe(e),...n}},"de_AssumeRoleWithWebIdentityCommand"),LJ=E(async(e,t)=>{if(e.statusCode>=300)return Tr(e,t);let r=await(0,rr.parseXmlBody)(e.body,t),n={};return n=m8(r.DecodeAuthorizationMessageResult,t),{$metadata:xe(e),...n}},"de_DecodeAuthorizationMessageCommand"),UJ=E(async(e,t)=>{if(e.statusCode>=300)return Tr(e,t);let r=await(0,rr.parseXmlBody)(e.body,t),n={};return n=v8(r.GetAccessKeyInfoResult,t),{$metadata:xe(e),...n}},"de_GetAccessKeyInfoCommand"),qJ=E(async(e,t)=>{if(e.statusCode>=300)return Tr(e,t);let r=await(0,rr.parseXmlBody)(e.body,t),n={};return n=g8(r.GetCallerIdentityResult,t),{$metadata:xe(e),...n}},"de_GetCallerIdentityCommand"),jJ=E(async(e,t)=>{if(e.statusCode>=300)return Tr(e,t);let r=await(0,rr.parseXmlBody)(e.body,t),n={};return n=y8(r.GetFederationTokenResult,t),{$metadata:xe(e),...n}},"de_GetFederationTokenCommand"),HJ=E(async(e,t)=>{if(e.statusCode>=300)return Tr(e,t);let r=await(0,rr.parseXmlBody)(e.body,t),n={};return n=h8(r.GetSessionTokenResult,t),{$metadata:xe(e),...n}},"de_GetSessionTokenCommand"),Tr=E(async(e,t)=>{let r={...e,body:await(0,rr.parseXmlErrorBody)(e.body,t)},n=K8(e,r.body);switch(n){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await GJ(r,t);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await BJ(r,t);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await XJ(r,t);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await JJ(r,t);case"IDPRejectedClaim":case"com.amazonaws.sts#IDPRejectedClaimException":throw await zJ(r,t);case"InvalidIdentityToken":case"com.amazonaws.sts#InvalidIdentityTokenException":throw await VJ(r,t);case"IDPCommunicationError":case"com.amazonaws.sts#IDPCommunicationErrorException":throw await $J(r,t);case"InvalidAuthorizationMessageException":case"com.amazonaws.sts#InvalidAuthorizationMessageException":throw await WJ(r,t);default:let o=r.body;return b8({output:e,parsedBody:o.Error,errorCode:n})}},"de_CommandError"),GJ=E(async(e,t)=>{let r=e.body,n=f8(r.Error,t),o=new Vx({$metadata:xe(e),...n});return(0,I.decorateServiceException)(o,r)},"de_ExpiredTokenExceptionRes"),$J=E(async(e,t)=>{let r=e.body,n=S8(r.Error,t),o=new uR({$metadata:xe(e),...n});return(0,I.decorateServiceException)(o,r)},"de_IDPCommunicationErrorExceptionRes"),zJ=E(async(e,t)=>{let r=e.body,n=E8(r.Error,t),o=new iR({$metadata:xe(e),...n});return(0,I.decorateServiceException)(o,r)},"de_IDPRejectedClaimExceptionRes"),WJ=E(async(e,t)=>{let r=e.body,n=C8(r.Error,t),o=new fR({$metadata:xe(e),...n});return(0,I.decorateServiceException)(o,r)},"de_InvalidAuthorizationMessageExceptionRes"),VJ=E(async(e,t)=>{let r=e.body,n=P8(r.Error,t),o=new cR({$metadata:xe(e),...n});return(0,I.decorateServiceException)(o,r)},"de_InvalidIdentityTokenExceptionRes"),BJ=E(async(e,t)=>{let r=e.body,n=w8(r.Error,t),o=new Jx({$metadata:xe(e),...n});return(0,I.decorateServiceException)(o,r)},"de_MalformedPolicyDocumentExceptionRes"),XJ=E(async(e,t)=>{let r=e.body,n=x8(r.Error,t),o=new Zx({$metadata:xe(e),...n});return(0,I.decorateServiceException)(o,r)},"de_PackedPolicyTooLargeExceptionRes"),JJ=E(async(e,t)=>{let r=e.body,n=R8(r.Error,t),o=new rR({$metadata:xe(e),...n});return(0,I.decorateServiceException)(o,r)},"de_RegionDisabledExceptionRes"),YJ=E((e,t)=>{var r,n,o,i;let s={};if(e[tr]!=null&&(s[tr]=e[tr]),e[$n]!=null&&(s[$n]=e[$n]),e[ot]!=null){let a=mc(e[ot],t);((r=e[ot])==null?void 0:r.length)===0&&(s.PolicyArns=[]),Object.entries(a).forEach(([c,l])=>{let p=`PolicyArns.${c}`;s[p]=l})}if(e[nt]!=null&&(s[nt]=e[nt]),e[Ie]!=null&&(s[Ie]=e[Ie]),e[Wn]!=null){let a=CR(e[Wn],t);((n=e[Wn])==null?void 0:n.length)===0&&(s.Tags=[]),Object.entries(a).forEach(([c,l])=>{let p=`Tags.${c}`;s[p]=l})}if(e[Vu]!=null){let a=d8(e[Vu],t);((o=e[Vu])==null?void 0:o.length)===0&&(s.TransitiveTagKeys=[]),Object.entries(a).forEach(([c,l])=>{let p=`TransitiveTagKeys.${c}`;s[p]=l})}if(e[Au]!=null&&(s[Au]=e[Au]),e[zn]!=null&&(s[zn]=e[zn]),e[Vn]!=null&&(s[Vn]=e[Vn]),e[st]!=null&&(s[st]=e[st]),e[Lu]!=null){let a=a8(e[Lu],t);((i=e[Lu])==null?void 0:i.length)===0&&(s.ProvidedContexts=[]),Object.entries(a).forEach(([c,l])=>{let p=`ProvidedContexts.${c}`;s[p]=l})}return s},"se_AssumeRoleRequest"),QJ=E((e,t)=>{var r;let n={};if(e[tr]!=null&&(n[tr]=e[tr]),e[Ku]!=null&&(n[Ku]=e[Ku]),e[Gu]!=null&&(n[Gu]=e[Gu]),e[ot]!=null){let o=mc(e[ot],t);((r=e[ot])==null?void 0:r.length)===0&&(n.PolicyArns=[]),Object.entries(o).forEach(([i,s])=>{let a=`PolicyArns.${i}`;n[a]=s})}return e[nt]!=null&&(n[nt]=e[nt]),e[Ie]!=null&&(n[Ie]=e[Ie]),n},"se_AssumeRoleWithSAMLRequest"),ZJ=E((e,t)=>{var r;let n={};if(e[tr]!=null&&(n[tr]=e[tr]),e[$n]!=null&&(n[$n]=e[$n]),e[Ju]!=null&&(n[Ju]=e[Ju]),e[Uu]!=null&&(n[Uu]=e[Uu]),e[ot]!=null){let o=mc(e[ot],t);((r=e[ot])==null?void 0:r.length)===0&&(n.PolicyArns=[]),Object.entries(o).forEach(([i,s])=>{let a=`PolicyArns.${i}`;n[a]=s})}return e[nt]!=null&&(n[nt]=e[nt]),e[Ie]!=null&&(n[Ie]=e[Ie]),n},"se_AssumeRoleWithWebIdentityRequest"),e8=E((e,t)=>{let r={};return e[Iu]!=null&&(r[Iu]=e[Iu]),r},"se_DecodeAuthorizationMessageRequest"),t8=E((e,t)=>{let r={};return e[jn]!=null&&(r[jn]=e[jn]),r},"se_GetAccessKeyInfoRequest"),r8=E((e,t)=>({}),"se_GetCallerIdentityRequest"),n8=E((e,t)=>{var r,n;let o={};if(e[ku]!=null&&(o[ku]=e[ku]),e[nt]!=null&&(o[nt]=e[nt]),e[ot]!=null){let i=mc(e[ot],t);((r=e[ot])==null?void 0:r.length)===0&&(o.PolicyArns=[]),Object.entries(i).forEach(([s,a])=>{let c=`PolicyArns.${s}`;o[c]=a})}if(e[Ie]!=null&&(o[Ie]=e[Ie]),e[Wn]!=null){let i=CR(e[Wn],t);((n=e[Wn])==null?void 0:n.length)===0&&(o.Tags=[]),Object.entries(i).forEach(([s,a])=>{let c=`Tags.${s}`;o[c]=a})}return o},"se_GetFederationTokenRequest"),o8=E((e,t)=>{let r={};return e[Ie]!=null&&(r[Ie]=e[Ie]),e[zn]!=null&&(r[zn]=e[zn]),e[Vn]!=null&&(r[Vn]=e[Vn]),r},"se_GetSessionTokenRequest"),mc=E((e,t)=>{let r={},n=1;for(let o of e){if(o===null)continue;let i=i8(o,t);Object.entries(i).forEach(([s,a])=>{r[`member.${n}.${s}`]=a}),n++}return r},"se_policyDescriptorListType"),i8=E((e,t)=>{let r={};return e[Yu]!=null&&(r[Yu]=e[Yu]),r},"se_PolicyDescriptorType"),s8=E((e,t)=>{let r={};return e[Fu]!=null&&(r[Fu]=e[Fu]),e[xu]!=null&&(r[xu]=e[xu]),r},"se_ProvidedContext"),a8=E((e,t)=>{let r={},n=1;for(let o of e){if(o===null)continue;let i=s8(o,t);Object.entries(i).forEach(([s,a])=>{r[`member.${n}.${s}`]=a}),n++}return r},"se_ProvidedContextsListType"),c8=E((e,t)=>{let r={};return e[Du]!=null&&(r[Du]=e[Du]),e[Xu]!=null&&(r[Xu]=e[Xu]),r},"se_Tag"),d8=E((e,t)=>{let r={},n=1;for(let o of e)o!==null&&(r[`member.${n}`]=o,n++);return r},"se_tagKeyListType"),CR=E((e,t)=>{let r={},n=1;for(let o of e){if(o===null)continue;let i=c8(o,t);Object.entries(i).forEach(([s,a])=>{r[`member.${n}.${s}`]=a}),n++}return r},"se_tagListType"),ep=E((e,t)=>{let r={};return e[wu]!=null&&(r[wu]=(0,I.expectString)(e[wu])),e[er]!=null&&(r[er]=(0,I.expectString)(e[er])),r},"de_AssumedRoleUser"),l8=E((e,t)=>{let r={};return e[Ae]!=null&&(r[Ae]=ii(e[Ae],t)),e[Zt]!=null&&(r[Zt]=ep(e[Zt],t)),e[it]!=null&&(r[it]=(0,I.strictParseInt32)(e[it])),e[st]!=null&&(r[st]=(0,I.expectString)(e[st])),r},"de_AssumeRoleResponse"),u8=E((e,t)=>{let r={};return e[Ae]!=null&&(r[Ae]=ii(e[Ae],t)),e[Zt]!=null&&(r[Zt]=ep(e[Zt],t)),e[it]!=null&&(r[it]=(0,I.strictParseInt32)(e[it])),e[ju]!=null&&(r[ju]=(0,I.expectString)(e[ju])),e[zu]!=null&&(r[zu]=(0,I.expectString)(e[zu])),e[Nu]!=null&&(r[Nu]=(0,I.expectString)(e[Nu])),e[Gn]!=null&&(r[Gn]=(0,I.expectString)(e[Gn])),e[Mu]!=null&&(r[Mu]=(0,I.expectString)(e[Mu])),e[st]!=null&&(r[st]=(0,I.expectString)(e[st])),r},"de_AssumeRoleWithSAMLResponse"),p8=E((e,t)=>{let r={};return e[Ae]!=null&&(r[Ae]=ii(e[Ae],t)),e[$u]!=null&&(r[$u]=(0,I.expectString)(e[$u])),e[Zt]!=null&&(r[Zt]=ep(e[Zt],t)),e[it]!=null&&(r[it]=(0,I.strictParseInt32)(e[it])),e[qu]!=null&&(r[qu]=(0,I.expectString)(e[qu])),e[Gn]!=null&&(r[Gn]=(0,I.expectString)(e[Gn])),e[st]!=null&&(r[st]=(0,I.expectString)(e[st])),r},"de_AssumeRoleWithWebIdentityResponse"),ii=E((e,t)=>{let r={};return e[jn]!=null&&(r[jn]=(0,I.expectString)(e[jn])),e[Hu]!=null&&(r[Hu]=(0,I.expectString)(e[Hu])),e[Wu]!=null&&(r[Wu]=(0,I.expectString)(e[Wu])),e[bu]!=null&&(r[bu]=(0,I.expectNonNull)((0,I.parseRfc3339DateTimeWithOffset)(e[bu]))),r},"de_Credentials"),m8=E((e,t)=>{let r={};return e[Ru]!=null&&(r[Ru]=(0,I.expectString)(e[Ru])),r},"de_DecodeAuthorizationMessageResponse"),f8=E((e,t)=>{let r={};return e[oe]!=null&&(r[oe]=(0,I.expectString)(e[oe])),r},"de_ExpiredTokenException"),_8=E((e,t)=>{let r={};return e[Tu]!=null&&(r[Tu]=(0,I.expectString)(e[Tu])),e[er]!=null&&(r[er]=(0,I.expectString)(e[er])),r},"de_FederatedUser"),v8=E((e,t)=>{let r={};return e[Hn]!=null&&(r[Hn]=(0,I.expectString)(e[Hn])),r},"de_GetAccessKeyInfoResponse"),g8=E((e,t)=>{let r={};return e[Bu]!=null&&(r[Bu]=(0,I.expectString)(e[Bu])),e[Hn]!=null&&(r[Hn]=(0,I.expectString)(e[Hn])),e[er]!=null&&(r[er]=(0,I.expectString)(e[er])),r},"de_GetCallerIdentityResponse"),y8=E((e,t)=>{let r={};return e[Ae]!=null&&(r[Ae]=ii(e[Ae],t)),e[Ou]!=null&&(r[Ou]=_8(e[Ou],t)),e[it]!=null&&(r[it]=(0,I.strictParseInt32)(e[it])),r},"de_GetFederationTokenResponse"),h8=E((e,t)=>{let r={};return e[Ae]!=null&&(r[Ae]=ii(e[Ae],t)),r},"de_GetSessionTokenResponse"),S8=E((e,t)=>{let r={};return e[oe]!=null&&(r[oe]=(0,I.expectString)(e[oe])),r},"de_IDPCommunicationErrorException"),E8=E((e,t)=>{let r={};return e[oe]!=null&&(r[oe]=(0,I.expectString)(e[oe])),r},"de_IDPRejectedClaimException"),C8=E((e,t)=>{let r={};return e[oe]!=null&&(r[oe]=(0,I.expectString)(e[oe])),r},"de_InvalidAuthorizationMessageException"),P8=E((e,t)=>{let r={};return e[oe]!=null&&(r[oe]=(0,I.expectString)(e[oe])),r},"de_InvalidIdentityTokenException"),w8=E((e,t)=>{let r={};return e[oe]!=null&&(r[oe]=(0,I.expectString)(e[oe])),r},"de_MalformedPolicyDocumentException"),x8=E((e,t)=>{let r={};return e[oe]!=null&&(r[oe]=(0,I.expectString)(e[oe])),r},"de_PackedPolicyTooLargeException"),R8=E((e,t)=>{let r={};return e[oe]!=null&&(r[oe]=(0,I.expectString)(e[oe])),r},"de_RegionDisabledException"),xe=E(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),b8=(0,I.withBaseException)(Dt),Nr=E(async(e,t,r,n,o)=>{let{hostname:i,protocol:s="https",port:a,path:c}=await e.endpoint(),l={protocol:s,hostname:i,port:a,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+r:c+r,headers:t};return n!==void 0&&(l.hostname=n),o!==void 0&&(l.body=o),new RJ.HttpRequest(l)},"buildHttpRpcRequest"),Dr={"content-type":"application/x-www-form-urlencoded"},kr="2011-06-15",Mr="Action",jn="AccessKeyId",A8="AssumeRole",wu="AssumedRoleId",Zt="AssumedRoleUser",I8="AssumeRoleWithSAML",O8="AssumeRoleWithWebIdentity",Hn="Account",er="Arn",Gn="Audience",Ae="Credentials",xu="ContextAssertion",T8="DecodeAuthorizationMessage",Ru="DecodedMessage",Ie="DurationSeconds",bu="Expiration",Au="ExternalId",Iu="EncodedMessage",Ou="FederatedUser",Tu="FederatedUserId",N8="GetAccessKeyInfo",D8="GetCallerIdentity",k8="GetFederationToken",M8="GetSessionToken",Nu="Issuer",Du="Key",ku="Name",Mu="NameQualifier",nt="Policy",ot="PolicyArns",Ku="PrincipalArn",Fu="ProviderArn",Lu="ProvidedContexts",Uu="ProviderId",it="PackedPolicySize",qu="Provider",tr="RoleArn",$n="RoleSessionName",ju="Subject",Hu="SecretAccessKey",Gu="SAMLAssertion",$u="SubjectFromWebIdentityToken",st="SourceIdentity",zn="SerialNumber",zu="SubjectType",Wu="SessionToken",Wn="Tags",Vn="TokenCode",Vu="TransitiveTagKeys",Bu="UserId",Kr="Version",Xu="Value",Ju="WebIdentityToken",Yu="arn",oe="message",Fr=E(e=>Object.entries(e).map(([t,r])=>(0,I.extendedEncodeURIComponent)(t)+"="+(0,I.extendedEncodeURIComponent)(r)).join("&"),"buildFormUrlencodedString"),K8=E((e,t)=>{var r;if(((r=t.Error)==null?void 0:r.Code)!==void 0)return t.Error.Code;if(e.statusCode==404)return"NotFound"},"loadQueryErrorCode"),PR=class extends I.Command.classBuilder().ep({...xJ.commonParams}).m(function(t,r,n,o){return[(0,Or.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Ir.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRole",{}).n("STSClient","AssumeRoleCommand").f(void 0,_R).ser(bJ).de(MJ).build(){};E(PR,"AssumeRoleCommand");var tp=PR,F8=Et(),wR=class extends I.Command.classBuilder().ep({...F8.commonParams}).m(function(t,r,n,o){return[(0,Or.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Ir.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithSAML",{}).n("STSClient","AssumeRoleWithSAMLCommand").f(vR,gR).ser(AJ).de(KJ).build(){};E(wR,"AssumeRoleWithSAMLCommand");var xR=wR,L8=Et(),RR=class extends I.Command.classBuilder().ep({...L8.commonParams}).m(function(t,r,n,o){return[(0,Or.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Ir.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithWebIdentity",{}).n("STSClient","AssumeRoleWithWebIdentityCommand").f(yR,hR).ser(IJ).de(FJ).build(){};E(RR,"AssumeRoleWithWebIdentityCommand");var rp=RR,U8=Et(),bR=class extends I.Command.classBuilder().ep({...U8.commonParams}).m(function(t,r,n,o){return[(0,Or.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Ir.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","DecodeAuthorizationMessage",{}).n("STSClient","DecodeAuthorizationMessageCommand").f(void 0,void 0).ser(OJ).de(LJ).build(){};E(bR,"DecodeAuthorizationMessageCommand");var AR=bR,q8=Et(),IR=class extends I.Command.classBuilder().ep({...q8.commonParams}).m(function(t,r,n,o){return[(0,Or.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Ir.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","GetAccessKeyInfo",{}).n("STSClient","GetAccessKeyInfoCommand").f(void 0,void 0).ser(TJ).de(UJ).build(){};E(IR,"GetAccessKeyInfoCommand");var OR=IR,j8=Et(),TR=class extends I.Command.classBuilder().ep({...j8.commonParams}).m(function(t,r,n,o){return[(0,Or.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Ir.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","GetCallerIdentity",{}).n("STSClient","GetCallerIdentityCommand").f(void 0,void 0).ser(NJ).de(qJ).build(){};E(TR,"GetCallerIdentityCommand");var NR=TR,H8=Et(),DR=class extends I.Command.classBuilder().ep({...H8.commonParams}).m(function(t,r,n,o){return[(0,Or.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Ir.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","GetFederationToken",{}).n("STSClient","GetFederationTokenCommand").f(void 0,SR).ser(DJ).de(jJ).build(){};E(DR,"GetFederationTokenCommand");var kR=DR,G8=Et(),MR=class extends I.Command.classBuilder().ep({...G8.commonParams}).m(function(t,r,n,o){return[(0,Or.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Ir.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","GetSessionToken",{}).n("STSClient","GetSessionTokenCommand").f(void 0,ER).ser(kJ).de(HJ).build(){};E(MR,"GetSessionTokenCommand");var KR=MR,$8=ni(),z8={AssumeRoleCommand:tp,AssumeRoleWithSAMLCommand:xR,AssumeRoleWithWebIdentityCommand:rp,DecodeAuthorizationMessageCommand:AR,GetAccessKeyInfoCommand:OR,GetCallerIdentityCommand:NR,GetFederationTokenCommand:kR,GetSessionTokenCommand:KR},FR=class extends $8.STSClient{};E(FR,"STS");var LR=FR;(0,I.createAggregatedClient)(z8,LR);var W8=Et(),V8=Eu(),Hx="us-east-1",UR=E(async(e,t,r)=>{var n;let o=typeof e=="function"?await e():e,i=typeof t=="function"?await t():t;return(n=r?.debug)==null||n.call(r,"@aws-sdk/client-sts::resolveRegion","accepting first of:",`${o} (provider)`,`${i} (parent client)`,`${Hx} (STS default)`),o??i??Hx},"resolveRegion"),B8=E((e,t)=>{let r,n;return async(o,i)=>{var s,a,c;if(n=o,!r){let{logger:p=(s=e?.parentClientConfig)==null?void 0:s.logger,region:m,requestHandler:f=(a=e?.parentClientConfig)==null?void 0:a.requestHandler,credentialProviderLogger:_}=e,g=await UR(m,(c=e?.parentClientConfig)==null?void 0:c.region,_);r=new t({credentialDefaultProvider:()=>async()=>n,region:g,requestHandler:f,logger:p})}let{Credentials:l}=await r.send(new tp(i));if(!l||!l.AccessKeyId||!l.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRole call with role ${i.RoleArn}`);return{accessKeyId:l.AccessKeyId,secretAccessKey:l.SecretAccessKey,sessionToken:l.SessionToken,expiration:l.Expiration,credentialScope:l.CredentialScope}}},"getDefaultRoleAssumer"),X8=E((e,t)=>{let r;return async n=>{var o,i,s;if(!r){let{logger:c=(o=e?.parentClientConfig)==null?void 0:o.logger,region:l,requestHandler:p=(i=e?.parentClientConfig)==null?void 0:i.requestHandler,credentialProviderLogger:m}=e,f=await UR(l,(s=e?.parentClientConfig)==null?void 0:s.region,m);r=new t({region:f,requestHandler:p,logger:c})}let{Credentials:a}=await r.send(new rp(n));if(!a||!a.AccessKeyId||!a.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${n.RoleArn}`);return{accessKeyId:a.AccessKeyId,secretAccessKey:a.SecretAccessKey,sessionToken:a.SessionToken,expiration:a.Expiration,credentialScope:a.CredentialScope}}},"getDefaultRoleAssumerWithWebIdentity"),qR=ni(),jR=E((e,t)=>{var r;return t?(r=class extends e{constructor(n){super(n);for(let o of t)this.middlewareStack.use(o)}},E(r,"CustomizableSTSClient"),r):e},"getCustomizableStsClientCtor"),HR=E((e={},t)=>B8(e,jR(qR.STSClient,t)),"getDefaultRoleAssumer"),GR=E((e={},t)=>X8(e,jR(qR.STSClient,t)),"getDefaultRoleAssumerWithWebIdentity"),J8=E(e=>t=>e({roleAssumer:HR(t),roleAssumerWithWebIdentity:GR(t),...t}),"decorateDefaultCredentialProvider")});var ap=v((Qde,WR)=>{"use strict";var fc=Object.defineProperty,Y8=Object.getOwnPropertyDescriptor,Q8=Object.getOwnPropertyNames,Z8=Object.prototype.hasOwnProperty,sp=(e,t)=>fc(e,"name",{value:t,configurable:!0}),eY=(e,t)=>{for(var r in t)fc(e,r,{get:t[r],enumerable:!0})},tY=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Q8(t))!Z8.call(e,o)&&o!==r&&fc(e,o,{get:()=>t[o],enumerable:!(n=Y8(t,o))||n.enumerable});return e},rY=e=>tY(fc({},"__esModule",{value:!0}),e),zR={};eY(zR,{fromProcess:()=>aY});WR.exports=rY(zR);var $R=je(),ip=te(),nY=require("child_process"),oY=require("util"),iY=sp((e,t)=>{if(t.Version!==1)throw Error(`Profile ${e} credential_process did not return Version 1.`);if(t.AccessKeyId===void 0||t.SecretAccessKey===void 0)throw Error(`Profile ${e} credential_process returned invalid credentials.`);if(t.Expiration){let r=new Date;if(new Date(t.Expiration)<r)throw Error(`Profile ${e} credential_process returned expired credentials.`)}return{accessKeyId:t.AccessKeyId,secretAccessKey:t.SecretAccessKey,...t.SessionToken&&{sessionToken:t.SessionToken},...t.Expiration&&{expiration:new Date(t.Expiration)},...t.CredentialScope&&{credentialScope:t.CredentialScope}}},"getValidatedProcessCredentials"),sY=sp(async(e,t)=>{let r=t[e];if(t[e]){let n=r.credential_process;if(n!==void 0){let o=(0,oY.promisify)(nY.exec);try{let{stdout:i}=await o(n),s;try{s=JSON.parse(i.trim())}catch{throw Error(`Profile ${e} credential_process returned invalid JSON.`)}return iY(e,s)}catch(i){throw new ip.CredentialsProviderError(i.message)}}else throw new ip.CredentialsProviderError(`Profile ${e} did not contain credential_process.`)}else throw new ip.CredentialsProviderError(`Profile ${e} could not be found in shared credentials file.`)},"resolveProcessCredentials"),aY=sp((e={})=>async()=>{var t;(t=e.logger)==null||t.debug("@aws-sdk/credential-provider-process","fromProcess");let r=await(0,$R.parseKnownFiles)(e);return sY((0,$R.getProfileName)(e),r)},"fromProcess")});var cp=v(kt=>{"use strict";var cY=kt&&kt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),dY=kt&&kt.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),lY=kt&&kt.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&cY(t,e,r);return dY(t,e),t};Object.defineProperty(kt,"__esModule",{value:!0});kt.fromWebToken=void 0;var uY=e=>async()=>{var t;(t=e.logger)===null||t===void 0||t.debug("@aws-sdk/credential-provider-web-identity","fromWebToken");let{roleArn:r,roleSessionName:n,webIdentityToken:o,providerId:i,policyArns:s,policy:a,durationSeconds:c}=e,{roleAssumerWithWebIdentity:l}=e;if(!l){let{getDefaultRoleAssumerWithWebIdentity:p}=await Promise.resolve().then(()=>lY(op()));l=p({...e.clientConfig,credentialProviderLogger:e.logger,parentClientConfig:e.parentClientConfig},e.clientPlugins)}return l({RoleArn:r,RoleSessionName:n??`aws-sdk-js-session-${Date.now()}`,WebIdentityToken:o,ProviderId:i,PolicyArns:s,Policy:a,DurationSeconds:c})};kt.fromWebToken=uY});var VR=v(_c=>{"use strict";Object.defineProperty(_c,"__esModule",{value:!0});_c.fromTokenFile=void 0;var pY=te(),mY=require("fs"),fY=cp(),_Y="AWS_WEB_IDENTITY_TOKEN_FILE",vY="AWS_ROLE_ARN",gY="AWS_ROLE_SESSION_NAME",yY=(e={})=>async()=>{var t,r,n,o;(t=e.logger)===null||t===void 0||t.debug("@aws-sdk/credential-provider-web-identity","fromTokenFile");let i=(r=e?.webIdentityTokenFile)!==null&&r!==void 0?r:process.env[_Y],s=(n=e?.roleArn)!==null&&n!==void 0?n:process.env[vY],a=(o=e?.roleSessionName)!==null&&o!==void 0?o:process.env[gY];if(!i||!s)throw new pY.CredentialsProviderError("Web identity configuration not specified");return(0,fY.fromWebToken)({...e,webIdentityToken:(0,mY.readFileSync)(i,{encoding:"ascii"}),roleArn:s,roleSessionName:a})()};_c.fromTokenFile=yY});var up=v((tle,vc)=>{var BR=Object.defineProperty,hY=Object.getOwnPropertyDescriptor,SY=Object.getOwnPropertyNames,EY=Object.prototype.hasOwnProperty,dp=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of SY(t))!EY.call(e,o)&&o!==r&&BR(e,o,{get:()=>t[o],enumerable:!(n=hY(t,o))||n.enumerable});return e},XR=(e,t,r)=>(dp(e,t,"default"),r&&dp(r,t,"default")),CY=e=>dp(BR({},"__esModule",{value:!0}),e),lp={};vc.exports=CY(lp);XR(lp,VR(),vc.exports);XR(lp,cp(),vc.exports)});var rb=v((rle,tb)=>{"use strict";var PY=Object.create,si=Object.defineProperty,wY=Object.getOwnPropertyDescriptor,xY=Object.getOwnPropertyNames,RY=Object.getPrototypeOf,bY=Object.prototype.hasOwnProperty,Oe=(e,t)=>si(e,"name",{value:t,configurable:!0}),AY=(e,t)=>{for(var r in t)si(e,r,{get:t[r],enumerable:!0})},QR=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of xY(t))!bY.call(e,o)&&o!==r&&si(e,o,{get:()=>t[o],enumerable:!(n=wY(t,o))||n.enumerable});return e},ln=(e,t,r)=>(r=e!=null?PY(RY(e)):{},QR(t||!e||!e.__esModule?si(r,"default",{value:e,enumerable:!0}):r,e)),IY=e=>QR(si({},"__esModule",{value:!0}),e),ZR={};AY(ZR,{fromIni:()=>jY});tb.exports=IY(ZR);var pp=je(),gc=te(),OY=Oe((e,t)=>{let r={EcsContainer:n=>Promise.resolve().then(()=>ln(Sr())).then(({fromContainerMetadata:o})=>o(n)),Ec2InstanceMetadata:n=>Promise.resolve().then(()=>ln(Sr())).then(({fromInstanceMetadata:o})=>o(n)),Environment:n=>Promise.resolve().then(()=>ln(ou())).then(({fromEnv:o})=>o(n))};if(e in r)return r[e];throw new gc.CredentialsProviderError(`Unsupported credential source in profile ${t}. Got ${e}, expected EcsContainer or Ec2InstanceMetadata or Environment.`)},"resolveCredentialSource"),TY=Oe(e=>!!e&&typeof e=="object"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1&&["undefined","string"].indexOf(typeof e.external_id)>-1&&["undefined","string"].indexOf(typeof e.mfa_serial)>-1&&(NY(e)||DY(e)),"isAssumeRoleProfile"),NY=Oe(e=>typeof e.source_profile=="string"&&typeof e.credential_source>"u","isAssumeRoleWithSourceProfile"),DY=Oe(e=>typeof e.credential_source=="string"&&typeof e.source_profile>"u","isAssumeRoleWithProviderProfile"),kY=Oe(async(e,t,r,n={})=>{var o;(o=r.logger)==null||o.debug("@aws-sdk/credential-provider-ini","resolveAssumeRoleCredentials (STS)");let i=t[e];if(!r.roleAssumer){let{getDefaultRoleAssumer:m}=await Promise.resolve().then(()=>ln(op()));r.roleAssumer=m({...r.clientConfig,credentialProviderLogger:r.logger,parentClientConfig:r?.parentClientConfig},r.clientPlugins)}let{source_profile:s}=i;if(s&&s in n)throw new gc.CredentialsProviderError(`Detected a cycle attempting to resolve credentials for profile ${(0,pp.getProfileName)(r)}. Profiles visited: `+Object.keys(n).join(", "),!1);let a=s?eb(s,t,r,{...n,[s]:!0}):(await OY(i.credential_source,e)(r))(),c={RoleArn:i.role_arn,RoleSessionName:i.role_session_name||`aws-sdk-js-${Date.now()}`,ExternalId:i.external_id,DurationSeconds:parseInt(i.duration_seconds||"3600",10)},{mfa_serial:l}=i;if(l){if(!r.mfaCodeProvider)throw new gc.CredentialsProviderError(`Profile ${e} requires multi-factor authentication, but no MFA code callback was provided.`,!1);c.SerialNumber=l,c.TokenCode=await r.mfaCodeProvider(l)}let p=await a;return r.roleAssumer(p,c)},"resolveAssumeRoleCredentials"),MY=Oe(e=>!!e&&typeof e=="object"&&typeof e.credential_process=="string","isProcessProfile"),KY=Oe(async(e,t)=>Promise.resolve().then(()=>ln(ap())).then(({fromProcess:r})=>r({...e,profile:t})()),"resolveProcessCredentials"),FY=Oe(async(e,t={})=>{let{fromSSO:r}=await Promise.resolve().then(()=>ln(_u()));return r({profile:e,logger:t.logger})()},"resolveSsoCredentials"),LY=Oe(e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),"isSsoProfile"),JR=Oe(e=>!!e&&typeof e=="object"&&typeof e.aws_access_key_id=="string"&&typeof e.aws_secret_access_key=="string"&&["undefined","string"].indexOf(typeof e.aws_session_token)>-1,"isStaticCredsProfile"),YR=Oe((e,t)=>{var r;return(r=t?.logger)==null||r.debug("@aws-sdk/credential-provider-ini","resolveStaticCredentials"),Promise.resolve({accessKeyId:e.aws_access_key_id,secretAccessKey:e.aws_secret_access_key,sessionToken:e.aws_session_token,credentialScope:e.aws_credential_scope})},"resolveStaticCredentials"),UY=Oe(e=>!!e&&typeof e=="object"&&typeof e.web_identity_token_file=="string"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1,"isWebIdentityProfile"),qY=Oe(async(e,t)=>Promise.resolve().then(()=>ln(up())).then(({fromTokenFile:r})=>r({webIdentityTokenFile:e.web_identity_token_file,roleArn:e.role_arn,roleSessionName:e.role_session_name,roleAssumerWithWebIdentity:t.roleAssumerWithWebIdentity,logger:t.logger,parentClientConfig:t.parentClientConfig})()),"resolveWebIdentityCredentials"),eb=Oe(async(e,t,r,n={})=>{let o=t[e];if(Object.keys(n).length>0&&JR(o))return YR(o,r);if(TY(o))return kY(e,t,r,n);if(JR(o))return YR(o,r);if(UY(o))return qY(o,r);if(MY(o))return KY(r,e);if(LY(o))return await FY(e,r);throw new gc.CredentialsProviderError(`Profile ${e} could not be found or parsed in shared credentials file.`)},"resolveProfileData"),jY=Oe((e={})=>async()=>{var t;(t=e.logger)==null||t.debug("@aws-sdk/credential-provider-ini","fromIni");let r=await(0,pp.parseKnownFiles)(e);return eb((0,pp.getProfileName)(e),r,e)},"fromIni")});var Su=v((nle,ab)=>{"use strict";var HY=Object.create,ai=Object.defineProperty,GY=Object.getOwnPropertyDescriptor,$Y=Object.getOwnPropertyNames,zY=Object.getPrototypeOf,WY=Object.prototype.hasOwnProperty,yc=(e,t)=>ai(e,"name",{value:t,configurable:!0}),VY=(e,t)=>{for(var r in t)ai(e,r,{get:t[r],enumerable:!0})},nb=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of $Y(t))!WY.call(e,o)&&o!==r&&ai(e,o,{get:()=>t[o],enumerable:!(n=GY(t,o))||n.enumerable});return e},Xn=(e,t,r)=>(r=e!=null?HY(zY(e)):{},nb(t||!e||!e.__esModule?ai(r,"default",{value:e,enumerable:!0}):r,e)),BY=e=>nb(ai({},"__esModule",{value:!0}),e),ob={};VY(ob,{credentialsTreatedAsExpired:()=>sb,credentialsWillNeedRefresh:()=>ib,defaultProvider:()=>ZY});ab.exports=BY(ob);var XY=ou(),JY=je(),Jn=te(),YY="AWS_EC2_METADATA_DISABLED",QY=yc(async e=>{var t,r;let{ENV_CMDS_FULL_URI:n,ENV_CMDS_RELATIVE_URI:o,fromContainerMetadata:i,fromInstanceMetadata:s}=await Promise.resolve().then(()=>Xn(Sr()));if(process.env[o]||process.env[n]){(t=e.logger)==null||t.debug("@aws-sdk/credential-provider-node","remoteProvider::fromHttp/fromContainerMetadata");let{fromHttp:a}=await Promise.resolve().then(()=>Xn(sw()));return(0,Jn.chain)(a(e),i(e))}return process.env[YY]?async()=>{throw new Jn.CredentialsProviderError("EC2 Instance Metadata Service access disabled")}:((r=e.logger)==null||r.debug("@aws-sdk/credential-provider-node","remoteProvider::fromInstanceMetadata"),s(e))},"remoteProvider"),ZY=yc((e={})=>(0,Jn.memoize)((0,Jn.chain)(...e.profile||process.env[JY.ENV_PROFILE]?[]:[async()=>{var t;return(t=e.logger)==null||t.debug("@aws-sdk/credential-provider-node","defaultProvider::fromEnv"),(0,XY.fromEnv)(e)()}],async()=>{var t;(t=e.logger)==null||t.debug("@aws-sdk/credential-provider-node","defaultProvider::fromSSO");let{ssoStartUrl:r,ssoAccountId:n,ssoRegion:o,ssoRoleName:i,ssoSession:s}=e;if(!r&&!n&&!o&&!i&&!s)throw new Jn.CredentialsProviderError("Skipping SSO provider in default chain (inputs do not include SSO fields).");let{fromSSO:a}=await Promise.resolve().then(()=>Xn(_u()));return a(e)()},async()=>{var t;(t=e.logger)==null||t.debug("@aws-sdk/credential-provider-node","defaultProvider::fromIni");let{fromIni:r}=await Promise.resolve().then(()=>Xn(rb()));return r(e)()},async()=>{var t;(t=e.logger)==null||t.debug("@aws-sdk/credential-provider-node","defaultProvider::fromProcess");let{fromProcess:r}=await Promise.resolve().then(()=>Xn(ap()));return r(e)()},async()=>{var t;(t=e.logger)==null||t.debug("@aws-sdk/credential-provider-node","defaultProvider::fromTokenFile");let{fromTokenFile:r}=await Promise.resolve().then(()=>Xn(up()));return r(e)()},async()=>{var t;return(t=e.logger)==null||t.debug("@aws-sdk/credential-provider-node","defaultProvider::remoteProvider"),(await QY(e))()},async()=>{throw new Jn.CredentialsProviderError("Could not load credentials from any providers",!1)}),sb,ib),"defaultProvider"),ib=yc(e=>e?.expiration!==void 0,"credentialsWillNeedRefresh"),sb=yc(e=>e?.expiration!==void 0&&e.expiration.getTime()-Date.now()<3e5,"credentialsTreatedAsExpired")});var Cb=v(hc=>{"use strict";Object.defineProperty(hc,"__esModule",{value:!0});hc.ruleSet=void 0;var yb="required",ct="fn",dt="argv",Zn="ref",cb=!0,db="isSet",ci="booleanEquals",Yn="error",Qn="endpoint",nr="tree",mp="PartitionResult",fp="getAttr",lb={[yb]:!1,type:"String"},ub={[yb]:!0,default:!1,type:"Boolean"},pb={[Zn]:"Endpoint"},hb={[ct]:ci,[dt]:[{[Zn]:"UseFIPS"},!0]},Sb={[ct]:ci,[dt]:[{[Zn]:"UseDualStack"},!0]},at={},mb={[ct]:fp,[dt]:[{[Zn]:mp},"supportsFIPS"]},Eb={[Zn]:mp},fb={[ct]:ci,[dt]:[!0,{[ct]:fp,[dt]:[Eb,"supportsDualStack"]}]},_b=[hb],vb=[Sb],gb=[{[Zn]:"Region"}],e7={version:"1.0",parameters:{Region:lb,UseDualStack:ub,UseFIPS:ub,Endpoint:lb},rules:[{conditions:[{[ct]:db,[dt]:[pb]}],rules:[{conditions:_b,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Yn},{conditions:vb,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Yn},{endpoint:{url:pb,properties:at,headers:at},type:Qn}],type:nr},{conditions:[{[ct]:db,[dt]:gb}],rules:[{conditions:[{[ct]:"aws.partition",[dt]:gb,assign:mp}],rules:[{conditions:[hb,Sb],rules:[{conditions:[{[ct]:ci,[dt]:[cb,mb]},fb],rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:at,headers:at},type:Qn}],type:nr},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Yn}],type:nr},{conditions:_b,rules:[{conditions:[{[ct]:ci,[dt]:[mb,cb]}],rules:[{conditions:[{[ct]:"stringEquals",[dt]:[{[ct]:fp,[dt]:[Eb,"name"]},"aws-us-gov"]}],endpoint:{url:"https://oidc.{Region}.amazonaws.com",properties:at,headers:at},type:Qn},{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dnsSuffix}",properties:at,headers:at},type:Qn}],type:nr},{error:"FIPS is enabled but this partition does not support FIPS",type:Yn}],type:nr},{conditions:vb,rules:[{conditions:[fb],rules:[{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:at,headers:at},type:Qn}],type:nr},{error:"DualStack is enabled but this partition does not support DualStack",type:Yn}],type:nr},{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dnsSuffix}",properties:at,headers:at},type:Qn}],type:nr}],type:nr},{error:"Invalid Configuration: Missing Region",type:Yn}]};hc.ruleSet=e7});var wb=v(Sc=>{"use strict";Object.defineProperty(Sc,"__esModule",{value:!0});Sc.defaultEndpointResolver=void 0;var t7=Vo(),Pb=Gt(),r7=Cb(),n7=(e,t={})=>(0,Pb.resolveEndpoint)(r7.ruleSet,{endpointParams:e,logger:t.logger});Sc.defaultEndpointResolver=n7;Pb.customEndpointFunctions.aws=t7.awsEndpointFunctions});var bb=v(Ec=>{"use strict";Object.defineProperty(Ec,"__esModule",{value:!0});Ec.getRuntimeConfig=void 0;var o7=Ge(),i7=Pe(),s7=z(),a7=$t(),xb=_r(),Rb=Fe(),c7=nu(),d7=wb(),l7=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??xb.fromBase64,base64Encoder:e?.base64Encoder??xb.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??d7.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??c7.defaultSSOOIDCHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new o7.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new i7.NoAuthSigner}],logger:e?.logger??new s7.NoOpLogger,serviceId:e?.serviceId??"SSO OIDC",urlParser:e?.urlParser??a7.parseUrl,utf8Decoder:e?.utf8Decoder??Rb.fromUtf8,utf8Encoder:e?.utf8Encoder??Rb.toUtf8});Ec.getRuntimeConfig=l7});var Ob=v(Pc=>{"use strict";Object.defineProperty(Pc,"__esModule",{value:!0});Pc.getRuntimeConfig=void 0;var u7=(Bt(),bt(Vt)),p7=u7.__importDefault(WP()),m7=Ge(),f7=Su(),_7=Ua(),Cc=Ke(),v7=on(),Ab=Le(),di=Xe(),Ib=It(),g7=sn(),y7=mr(),h7=bb(),S7=z(),E7=an(),C7=z(),P7=e=>{(0,C7.emitWarningIfUnsupportedVersion)(process.version);let t=(0,E7.resolveDefaultsModeConfig)(e),r=()=>t().then(S7.loadConfigsForDefaultMode),n=(0,h7.getRuntimeConfig)(e);return(0,m7.emitWarningIfUnsupportedVersion)(process.version),{...n,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??g7.calculateBodyLength,credentialDefaultProvider:e?.credentialDefaultProvider??f7.defaultProvider,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,_7.defaultUserAgent)({serviceId:n.serviceId,clientVersion:p7.default.version}),maxAttempts:e?.maxAttempts??(0,di.loadConfig)(Ab.NODE_MAX_ATTEMPT_CONFIG_OPTIONS),region:e?.region??(0,di.loadConfig)(Cc.NODE_REGION_CONFIG_OPTIONS,Cc.NODE_REGION_CONFIG_FILE_OPTIONS),requestHandler:Ib.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,di.loadConfig)({...Ab.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||y7.DEFAULT_RETRY_MODE}),sha256:e?.sha256??v7.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??Ib.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,di.loadConfig)(Cc.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS),useFipsEndpoint:e?.useFipsEndpoint??(0,di.loadConfig)(Cc.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS)}};Pc.getRuntimeConfig=P7});var ti=v((_le,GA)=>{"use strict";var xc=Object.defineProperty,w7=Object.getOwnPropertyDescriptor,x7=Object.getOwnPropertyNames,R7=Object.prototype.hasOwnProperty,T=(e,t)=>xc(e,"name",{value:t,configurable:!0}),b7=(e,t)=>{for(var r in t)xc(e,r,{get:t[r],enumerable:!0})},A7=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of x7(t))!R7.call(e,o)&&o!==r&&xc(e,o,{get:()=>t[o],enumerable:!(n=w7(t,o))||n.enumerable});return e},I7=e=>A7(xc({},"__esModule",{value:!0}),e),Fb={};b7(Fb,{AccessDeniedException:()=>$b,AuthorizationPendingException:()=>Vb,CreateTokenCommand:()=>kA,CreateTokenRequestFilterSensitiveLog:()=>bA,CreateTokenResponseFilterSensitiveLog:()=>AA,CreateTokenWithIAMCommand:()=>KA,CreateTokenWithIAMRequestFilterSensitiveLog:()=>IA,CreateTokenWithIAMResponseFilterSensitiveLog:()=>OA,ExpiredTokenException:()=>Jb,InternalServerException:()=>Zb,InvalidClientException:()=>rA,InvalidClientMetadataException:()=>RA,InvalidGrantException:()=>iA,InvalidRequestException:()=>cA,InvalidRequestRegionException:()=>PA,InvalidScopeException:()=>uA,RegisterClientCommand:()=>LA,RegisterClientResponseFilterSensitiveLog:()=>TA,SSOOIDC:()=>HA,SSOOIDCClient:()=>Ub,SSOOIDCServiceException:()=>Te,SlowDownException:()=>fA,StartDeviceAuthorizationCommand:()=>qA,StartDeviceAuthorizationRequestFilterSensitiveLog:()=>NA,UnauthorizedClientException:()=>gA,UnsupportedGrantTypeException:()=>SA,__Client:()=>y.Client});GA.exports=I7(Fb);var Tb=Ca(),O7=wa(),T7=Ra(),Nb=Oa(),N7=Ke(),un=Pe(),D7=tn(),li=At(),Db=Le(),kb=nu(),k7=T(e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"sso-oauth"}),"resolveClientEndpointParameters"),Rc={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},M7=Ob(),Mb=Wa(),Kb=ae(),y=z(),K7=T(e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(o){let i=t.findIndex(s=>s.schemeId===o.schemeId);i===-1?t.push(o):t.splice(i,1,o)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}},"getHttpAuthExtensionConfiguration"),F7=T(e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),"resolveHttpAuthRuntimeConfig"),wc=T(e=>e,"asPartial"),L7=T((e,t)=>{let r={...wc((0,Mb.getAwsRegionExtensionConfiguration)(e)),...wc((0,y.getDefaultExtensionConfiguration)(e)),...wc((0,Kb.getHttpHandlerExtensionConfiguration)(e)),...wc(K7(e))};return t.forEach(n=>n.configure(r)),{...e,...(0,Mb.resolveAwsRegionExtensionConfiguration)(r),...(0,y.resolveDefaultRuntimeConfig)(r),...(0,Kb.resolveHttpHandlerRuntimeConfig)(r),...F7(r)}},"resolveRuntimeExtensions"),Lb=class extends y.Client{constructor(...[t]){let r=(0,M7.getRuntimeConfig)(t||{}),n=k7(r),o=(0,N7.resolveRegionConfig)(n),i=(0,li.resolveEndpointConfig)(o),s=(0,Db.resolveRetryConfig)(i),a=(0,Tb.resolveHostHeaderConfig)(s),c=(0,Nb.resolveUserAgentConfig)(a),l=(0,kb.resolveHttpAuthSchemeConfig)(c),p=L7(l,t?.extensions||[]);super(p),this.config=p,this.middlewareStack.use((0,Db.getRetryPlugin)(this.config)),this.middlewareStack.use((0,D7.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,Tb.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,O7.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,T7.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,Nb.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,un.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:this.getDefaultHttpAuthSchemeParametersProvider(),identityProviderConfigProvider:this.getIdentityProviderConfigProvider()})),this.middlewareStack.use((0,un.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}getDefaultHttpAuthSchemeParametersProvider(){return kb.defaultSSOOIDCHttpAuthSchemeParametersProvider}getIdentityProviderConfigProvider(){return async t=>new un.DefaultIdentityProviderConfig({"aws.auth#sigv4":t.credentials})}};T(Lb,"SSOOIDCClient");var Ub=Lb,bc=zt(),dle=qe(),qb=class jb extends y.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,jb.prototype)}};T(qb,"SSOOIDCServiceException");var Te=qb,Hb=class Gb extends Te{constructor(t){super({name:"AccessDeniedException",$fault:"client",...t}),this.name="AccessDeniedException",this.$fault="client",Object.setPrototypeOf(this,Gb.prototype),this.error=t.error,this.error_description=t.error_description}};T(Hb,"AccessDeniedException");var $b=Hb,zb=class Wb extends Te{constructor(t){super({name:"AuthorizationPendingException",$fault:"client",...t}),this.name="AuthorizationPendingException",this.$fault="client",Object.setPrototypeOf(this,Wb.prototype),this.error=t.error,this.error_description=t.error_description}};T(zb,"AuthorizationPendingException");var Vb=zb,Bb=class Xb extends Te{constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),this.name="ExpiredTokenException",this.$fault="client",Object.setPrototypeOf(this,Xb.prototype),this.error=t.error,this.error_description=t.error_description}};T(Bb,"ExpiredTokenException");var Jb=Bb,Yb=class Qb extends Te{constructor(t){super({name:"InternalServerException",$fault:"server",...t}),this.name="InternalServerException",this.$fault="server",Object.setPrototypeOf(this,Qb.prototype),this.error=t.error,this.error_description=t.error_description}};T(Yb,"InternalServerException");var Zb=Yb,eA=class tA extends Te{constructor(t){super({name:"InvalidClientException",$fault:"client",...t}),this.name="InvalidClientException",this.$fault="client",Object.setPrototypeOf(this,tA.prototype),this.error=t.error,this.error_description=t.error_description}};T(eA,"InvalidClientException");var rA=eA,nA=class oA extends Te{constructor(t){super({name:"InvalidGrantException",$fault:"client",...t}),this.name="InvalidGrantException",this.$fault="client",Object.setPrototypeOf(this,oA.prototype),this.error=t.error,this.error_description=t.error_description}};T(nA,"InvalidGrantException");var iA=nA,sA=class aA extends Te{constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),this.name="InvalidRequestException",this.$fault="client",Object.setPrototypeOf(this,aA.prototype),this.error=t.error,this.error_description=t.error_description}};T(sA,"InvalidRequestException");var cA=sA,dA=class lA extends Te{constructor(t){super({name:"InvalidScopeException",$fault:"client",...t}),this.name="InvalidScopeException",this.$fault="client",Object.setPrototypeOf(this,lA.prototype),this.error=t.error,this.error_description=t.error_description}};T(dA,"InvalidScopeException");var uA=dA,pA=class mA extends Te{constructor(t){super({name:"SlowDownException",$fault:"client",...t}),this.name="SlowDownException",this.$fault="client",Object.setPrototypeOf(this,mA.prototype),this.error=t.error,this.error_description=t.error_description}};T(pA,"SlowDownException");var fA=pA,_A=class vA extends Te{constructor(t){super({name:"UnauthorizedClientException",$fault:"client",...t}),this.name="UnauthorizedClientException",this.$fault="client",Object.setPrototypeOf(this,vA.prototype),this.error=t.error,this.error_description=t.error_description}};T(_A,"UnauthorizedClientException");var gA=_A,yA=class hA extends Te{constructor(t){super({name:"UnsupportedGrantTypeException",$fault:"client",...t}),this.name="UnsupportedGrantTypeException",this.$fault="client",Object.setPrototypeOf(this,hA.prototype),this.error=t.error,this.error_description=t.error_description}};T(yA,"UnsupportedGrantTypeException");var SA=yA,EA=class CA extends Te{constructor(t){super({name:"InvalidRequestRegionException",$fault:"client",...t}),this.name="InvalidRequestRegionException",this.$fault="client",Object.setPrototypeOf(this,CA.prototype),this.error=t.error,this.error_description=t.error_description,this.endpoint=t.endpoint,this.region=t.region}};T(EA,"InvalidRequestRegionException");var PA=EA,wA=class xA extends Te{constructor(t){super({name:"InvalidClientMetadataException",$fault:"client",...t}),this.name="InvalidClientMetadataException",this.$fault="client",Object.setPrototypeOf(this,xA.prototype),this.error=t.error,this.error_description=t.error_description}};T(wA,"InvalidClientMetadataException");var RA=wA,bA=T(e=>({...e,...e.clientSecret&&{clientSecret:y.SENSITIVE_STRING},...e.refreshToken&&{refreshToken:y.SENSITIVE_STRING}}),"CreateTokenRequestFilterSensitiveLog"),AA=T(e=>({...e,...e.accessToken&&{accessToken:y.SENSITIVE_STRING},...e.refreshToken&&{refreshToken:y.SENSITIVE_STRING},...e.idToken&&{idToken:y.SENSITIVE_STRING}}),"CreateTokenResponseFilterSensitiveLog"),IA=T(e=>({...e,...e.refreshToken&&{refreshToken:y.SENSITIVE_STRING},...e.assertion&&{assertion:y.SENSITIVE_STRING},...e.subjectToken&&{subjectToken:y.SENSITIVE_STRING}}),"CreateTokenWithIAMRequestFilterSensitiveLog"),OA=T(e=>({...e,...e.accessToken&&{accessToken:y.SENSITIVE_STRING},...e.refreshToken&&{refreshToken:y.SENSITIVE_STRING},...e.idToken&&{idToken:y.SENSITIVE_STRING}}),"CreateTokenWithIAMResponseFilterSensitiveLog"),TA=T(e=>({...e,...e.clientSecret&&{clientSecret:y.SENSITIVE_STRING}}),"RegisterClientResponseFilterSensitiveLog"),NA=T(e=>({...e,...e.clientSecret&&{clientSecret:y.SENSITIVE_STRING}}),"StartDeviceAuthorizationRequestFilterSensitiveLog"),eo=Ge(),U7=T(async(e,t)=>{let r=(0,un.requestBuilder)(e,t),n={"content-type":"application/json"};r.bp("/token");let o;return o=JSON.stringify((0,y.take)(e,{clientId:[],clientSecret:[],code:[],deviceCode:[],grantType:[],redirectUri:[],refreshToken:[],scope:i=>(0,y._json)(i)})),r.m("POST").h(n).b(o),r.build()},"se_CreateTokenCommand"),q7=T(async(e,t)=>{let r=(0,un.requestBuilder)(e,t),n={"content-type":"application/json"};r.bp("/token");let o=(0,y.map)({[a9]:[,"t"]}),i;return i=JSON.stringify((0,y.take)(e,{assertion:[],clientId:[],code:[],grantType:[],redirectUri:[],refreshToken:[],requestedTokenType:[],scope:s=>(0,y._json)(s),subjectToken:[],subjectTokenType:[]})),r.m("POST").h(n).q(o).b(i),r.build()},"se_CreateTokenWithIAMCommand"),j7=T(async(e,t)=>{let r=(0,un.requestBuilder)(e,t),n={"content-type":"application/json"};r.bp("/client/register");let o;return o=JSON.stringify((0,y.take)(e,{clientName:[],clientType:[],scopes:i=>(0,y._json)(i)})),r.m("POST").h(n).b(o),r.build()},"se_RegisterClientCommand"),H7=T(async(e,t)=>{let r=(0,un.requestBuilder)(e,t),n={"content-type":"application/json"};r.bp("/device_authorization");let o;return o=JSON.stringify((0,y.take)(e,{clientId:[],clientSecret:[],startUrl:[]})),r.m("POST").h(n).b(o),r.build()},"se_StartDeviceAuthorizationCommand"),G7=T(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Ac(e,t);let r=(0,y.map)({$metadata:Se(e)}),n=(0,y.expectNonNull)((0,y.expectObject)(await(0,eo.parseJsonBody)(e.body,t)),"body"),o=(0,y.take)(n,{accessToken:y.expectString,expiresIn:y.expectInt32,idToken:y.expectString,refreshToken:y.expectString,tokenType:y.expectString});return Object.assign(r,o),r},"de_CreateTokenCommand"),$7=T(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Ac(e,t);let r=(0,y.map)({$metadata:Se(e)}),n=(0,y.expectNonNull)((0,y.expectObject)(await(0,eo.parseJsonBody)(e.body,t)),"body"),o=(0,y.take)(n,{accessToken:y.expectString,expiresIn:y.expectInt32,idToken:y.expectString,issuedTokenType:y.expectString,refreshToken:y.expectString,scope:y._json,tokenType:y.expectString});return Object.assign(r,o),r},"de_CreateTokenWithIAMCommand"),z7=T(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Ac(e,t);let r=(0,y.map)({$metadata:Se(e)}),n=(0,y.expectNonNull)((0,y.expectObject)(await(0,eo.parseJsonBody)(e.body,t)),"body"),o=(0,y.take)(n,{authorizationEndpoint:y.expectString,clientId:y.expectString,clientIdIssuedAt:y.expectLong,clientSecret:y.expectString,clientSecretExpiresAt:y.expectLong,tokenEndpoint:y.expectString});return Object.assign(r,o),r},"de_RegisterClientCommand"),W7=T(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Ac(e,t);let r=(0,y.map)({$metadata:Se(e)}),n=(0,y.expectNonNull)((0,y.expectObject)(await(0,eo.parseJsonBody)(e.body,t)),"body"),o=(0,y.take)(n,{deviceCode:y.expectString,expiresIn:y.expectInt32,interval:y.expectInt32,userCode:y.expectString,verificationUri:y.expectString,verificationUriComplete:y.expectString});return Object.assign(r,o),r},"de_StartDeviceAuthorizationCommand"),Ac=T(async(e,t)=>{let r={...e,body:await(0,eo.parseJsonErrorBody)(e.body,t)},n=(0,eo.loadRestJsonErrorCode)(e,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.ssooidc#AccessDeniedException":throw await B7(r,t);case"AuthorizationPendingException":case"com.amazonaws.ssooidc#AuthorizationPendingException":throw await X7(r,t);case"ExpiredTokenException":case"com.amazonaws.ssooidc#ExpiredTokenException":throw await J7(r,t);case"InternalServerException":case"com.amazonaws.ssooidc#InternalServerException":throw await Y7(r,t);case"InvalidClientException":case"com.amazonaws.ssooidc#InvalidClientException":throw await Q7(r,t);case"InvalidGrantException":case"com.amazonaws.ssooidc#InvalidGrantException":throw await e9(r,t);case"InvalidRequestException":case"com.amazonaws.ssooidc#InvalidRequestException":throw await t9(r,t);case"InvalidScopeException":case"com.amazonaws.ssooidc#InvalidScopeException":throw await n9(r,t);case"SlowDownException":case"com.amazonaws.ssooidc#SlowDownException":throw await o9(r,t);case"UnauthorizedClientException":case"com.amazonaws.ssooidc#UnauthorizedClientException":throw await i9(r,t);case"UnsupportedGrantTypeException":case"com.amazonaws.ssooidc#UnsupportedGrantTypeException":throw await s9(r,t);case"InvalidRequestRegionException":case"com.amazonaws.ssooidc#InvalidRequestRegionException":throw await r9(r,t);case"InvalidClientMetadataException":case"com.amazonaws.ssooidc#InvalidClientMetadataException":throw await Z7(r,t);default:let o=r.body;return V7({output:e,parsedBody:o,errorCode:n})}},"de_CommandError"),V7=(0,y.withBaseException)(Te),B7=T(async(e,t)=>{let r=(0,y.map)({}),n=e.body,o=(0,y.take)(n,{error:y.expectString,error_description:y.expectString});Object.assign(r,o);let i=new $b({$metadata:Se(e),...r});return(0,y.decorateServiceException)(i,e.body)},"de_AccessDeniedExceptionRes"),X7=T(async(e,t)=>{let r=(0,y.map)({}),n=e.body,o=(0,y.take)(n,{error:y.expectString,error_description:y.expectString});Object.assign(r,o);let i=new Vb({$metadata:Se(e),...r});return(0,y.decorateServiceException)(i,e.body)},"de_AuthorizationPendingExceptionRes"),J7=T(async(e,t)=>{let r=(0,y.map)({}),n=e.body,o=(0,y.take)(n,{error:y.expectString,error_description:y.expectString});Object.assign(r,o);let i=new Jb({$metadata:Se(e),...r});return(0,y.decorateServiceException)(i,e.body)},"de_ExpiredTokenExceptionRes"),Y7=T(async(e,t)=>{let r=(0,y.map)({}),n=e.body,o=(0,y.take)(n,{error:y.expectString,error_description:y.expectString});Object.assign(r,o);let i=new Zb({$metadata:Se(e),...r});return(0,y.decorateServiceException)(i,e.body)},"de_InternalServerExceptionRes"),Q7=T(async(e,t)=>{let r=(0,y.map)({}),n=e.body,o=(0,y.take)(n,{error:y.expectString,error_description:y.expectString});Object.assign(r,o);let i=new rA({$metadata:Se(e),...r});return(0,y.decorateServiceException)(i,e.body)},"de_InvalidClientExceptionRes"),Z7=T(async(e,t)=>{let r=(0,y.map)({}),n=e.body,o=(0,y.take)(n,{error:y.expectString,error_description:y.expectString});Object.assign(r,o);let i=new RA({$metadata:Se(e),...r});return(0,y.decorateServiceException)(i,e.body)},"de_InvalidClientMetadataExceptionRes"),e9=T(async(e,t)=>{let r=(0,y.map)({}),n=e.body,o=(0,y.take)(n,{error:y.expectString,error_description:y.expectString});Object.assign(r,o);let i=new iA({$metadata:Se(e),...r});return(0,y.decorateServiceException)(i,e.body)},"de_InvalidGrantExceptionRes"),t9=T(async(e,t)=>{let r=(0,y.map)({}),n=e.body,o=(0,y.take)(n,{error:y.expectString,error_description:y.expectString});Object.assign(r,o);let i=new cA({$metadata:Se(e),...r});return(0,y.decorateServiceException)(i,e.body)},"de_InvalidRequestExceptionRes"),r9=T(async(e,t)=>{let r=(0,y.map)({}),n=e.body,o=(0,y.take)(n,{endpoint:y.expectString,error:y.expectString,error_description:y.expectString,region:y.expectString});Object.assign(r,o);let i=new PA({$metadata:Se(e),...r});return(0,y.decorateServiceException)(i,e.body)},"de_InvalidRequestRegionExceptionRes"),n9=T(async(e,t)=>{let r=(0,y.map)({}),n=e.body,o=(0,y.take)(n,{error:y.expectString,error_description:y.expectString});Object.assign(r,o);let i=new uA({$metadata:Se(e),...r});return(0,y.decorateServiceException)(i,e.body)},"de_InvalidScopeExceptionRes"),o9=T(async(e,t)=>{let r=(0,y.map)({}),n=e.body,o=(0,y.take)(n,{error:y.expectString,error_description:y.expectString});Object.assign(r,o);let i=new fA({$metadata:Se(e),...r});return(0,y.decorateServiceException)(i,e.body)},"de_SlowDownExceptionRes"),i9=T(async(e,t)=>{let r=(0,y.map)({}),n=e.body,o=(0,y.take)(n,{error:y.expectString,error_description:y.expectString});Object.assign(r,o);let i=new gA({$metadata:Se(e),...r});return(0,y.decorateServiceException)(i,e.body)},"de_UnauthorizedClientExceptionRes"),s9=T(async(e,t)=>{let r=(0,y.map)({}),n=e.body,o=(0,y.take)(n,{error:y.expectString,error_description:y.expectString});Object.assign(r,o);let i=new SA({$metadata:Se(e),...r});return(0,y.decorateServiceException)(i,e.body)},"de_UnsupportedGrantTypeExceptionRes"),Se=T(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),a9="aws_iam",DA=class extends y.Command.classBuilder().ep({...Rc}).m(function(t,r,n,o){return[(0,bc.getSerdePlugin)(n,this.serialize,this.deserialize),(0,li.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSSOOIDCService","CreateToken",{}).n("SSOOIDCClient","CreateTokenCommand").f(bA,AA).ser(U7).de(G7).build(){};T(DA,"CreateTokenCommand");var kA=DA,MA=class extends y.Command.classBuilder().ep({...Rc}).m(function(t,r,n,o){return[(0,bc.getSerdePlugin)(n,this.serialize,this.deserialize),(0,li.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSSOOIDCService","CreateTokenWithIAM",{}).n("SSOOIDCClient","CreateTokenWithIAMCommand").f(IA,OA).ser(q7).de($7).build(){};T(MA,"CreateTokenWithIAMCommand");var KA=MA,FA=class extends y.Command.classBuilder().ep({...Rc}).m(function(t,r,n,o){return[(0,bc.getSerdePlugin)(n,this.serialize,this.deserialize),(0,li.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSSOOIDCService","RegisterClient",{}).n("SSOOIDCClient","RegisterClientCommand").f(void 0,TA).ser(j7).de(z7).build(){};T(FA,"RegisterClientCommand");var LA=FA,UA=class extends y.Command.classBuilder().ep({...Rc}).m(function(t,r,n,o){return[(0,bc.getSerdePlugin)(n,this.serialize,this.deserialize),(0,li.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSSOOIDCService","StartDeviceAuthorization",{}).n("SSOOIDCClient","StartDeviceAuthorizationCommand").f(NA,void 0).ser(H7).de(W7).build(){};T(UA,"StartDeviceAuthorizationCommand");var qA=UA,c9={CreateTokenCommand:kA,CreateTokenWithIAMCommand:KA,RegisterClientCommand:LA,StartDeviceAuthorizationCommand:qA},jA=class extends Ub{};T(jA,"SSOOIDC");var HA=jA;(0,y.createAggregatedClient)(c9,HA)});var YA=v((vle,JA)=>{"use strict";var d9=Object.create,pi=Object.defineProperty,l9=Object.getOwnPropertyDescriptor,u9=Object.getOwnPropertyNames,p9=Object.getPrototypeOf,m9=Object.prototype.hasOwnProperty,Lr=(e,t)=>pi(e,"name",{value:t,configurable:!0}),f9=(e,t)=>{for(var r in t)pi(e,r,{get:t[r],enumerable:!0})},WA=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of u9(t))!m9.call(e,o)&&o!==r&&pi(e,o,{get:()=>t[o],enumerable:!(n=l9(t,o))||n.enumerable});return e},VA=(e,t,r)=>(r=e!=null?d9(p9(e)):{},WA(t||!e||!e.__esModule?pi(r,"default",{value:e,enumerable:!0}):r,e)),_9=e=>WA(pi({},"__esModule",{value:!0}),e),BA={};f9(BA,{fromSso:()=>XA,fromStatic:()=>C9,nodeProvider:()=>P9});JA.exports=_9(BA);var v9=5*60*1e3,vp="To refresh this SSO session run 'aws sso login' with the corresponding profile.",_p={},g9=Lr(async e=>{let{SSOOIDCClient:t}=await Promise.resolve().then(()=>VA(ti()));if(_p[e])return _p[e];let r=new t({region:e});return _p[e]=r,r},"getSsoOidcClient"),y9=Lr(async(e,t)=>{let{CreateTokenCommand:r}=await Promise.resolve().then(()=>VA(ti()));return(await g9(t)).send(new r({clientId:e.clientId,clientSecret:e.clientSecret,refreshToken:e.refreshToken,grantType:"refresh_token"}))},"getNewSsoOidcToken"),Ct=te(),$A=Lr(e=>{if(e.expiration&&e.expiration.getTime()<Date.now())throw new Ct.TokenProviderError(`Token is expired. ${vp}`,!1)},"validateTokenExpiry"),pn=Lr((e,t,r=!1)=>{if(typeof t>"u")throw new Ct.TokenProviderError(`Value not present for '${e}' in SSO Token${r?". Cannot refresh":""}. ${vp}`,!1)},"validateTokenKey"),ui=je(),h9=require("fs"),{writeFile:S9}=h9.promises,E9=Lr((e,t)=>{let r=(0,ui.getSSOTokenFilepath)(e),n=JSON.stringify(t,null,2);return S9(r,n)},"writeSSOTokenToFile"),zA=new Date(0),XA=Lr((e={})=>async()=>{var t;(t=e.logger)==null||t.debug("@aws-sdk/token-providers","fromSso");let r=await(0,ui.parseKnownFiles)(e),n=(0,ui.getProfileName)(e),o=r[n];if(o){if(!o.sso_session)throw new Ct.TokenProviderError(`Profile '${n}' is missing required property 'sso_session'.`)}else throw new Ct.TokenProviderError(`Profile '${n}' could not be found in shared credentials file.`,!1);let i=o.sso_session,a=(await(0,ui.loadSsoSessionData)(e))[i];if(!a)throw new Ct.TokenProviderError(`Sso session '${i}' could not be found in shared credentials file.`,!1);for(let g of["sso_start_url","sso_region"])if(!a[g])throw new Ct.TokenProviderError(`Sso session '${i}' is missing required property '${g}'.`,!1);let c=a.sso_start_url,l=a.sso_region,p;try{p=await(0,ui.getSSOTokenFromFile)(i)}catch{throw new Ct.TokenProviderError(`The SSO session token associated with profile=${n} was not found or is invalid. ${vp}`,!1)}pn("accessToken",p.accessToken),pn("expiresAt",p.expiresAt);let{accessToken:m,expiresAt:f}=p,_={token:m,expiration:new Date(f)};if(_.expiration.getTime()-Date.now()>v9)return _;if(Date.now()-zA.getTime()<30*1e3)return $A(_),_;pn("clientId",p.clientId,!0),pn("clientSecret",p.clientSecret,!0),pn("refreshToken",p.refreshToken,!0);try{zA.setTime(Date.now());let g=await y9(p,l);pn("accessToken",g.accessToken),pn("expiresIn",g.expiresIn);let S=new Date(Date.now()+g.expiresIn*1e3);try{await E9(i,{...p,accessToken:g.accessToken,expiresAt:S.toISOString(),refreshToken:g.refreshToken})}catch{}return{token:g.accessToken,expiration:S}}catch{return $A(_),_}},"fromSso"),C9=Lr(({token:e,logger:t})=>async()=>{if(t?.debug("@aws-sdk/token-providers","fromStatic"),!e||!e.token)throw new Ct.TokenProviderError("Please pass a valid token to fromStatic",!1);return e},"fromStatic"),P9=Lr((e={})=>(0,Ct.memoize)((0,Ct.chain)(XA(e),async()=>{throw new Ct.TokenProviderError("Could not load token from any providers",!1)}),t=>t.expiration!==void 0&&t.expiration.getTime()-Date.now()<3e5,t=>t.expiration!==void 0),"nodeProvider")});var yp=v((gle,iI)=>{"use strict";var Oc=Object.defineProperty,w9=Object.getOwnPropertyDescriptor,ZA=Object.getOwnPropertyNames,x9=Object.prototype.hasOwnProperty,Tc=(e,t)=>Oc(e,"name",{value:t,configurable:!0}),R9=(e,t)=>function(){return e&&(t=(0,e[ZA(e)[0]])(e=0)),t},eI=(e,t)=>{for(var r in t)Oc(e,r,{get:t[r],enumerable:!0})},b9=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of ZA(t))!x9.call(e,o)&&o!==r&&Oc(e,o,{get:()=>t[o],enumerable:!(n=w9(t,o))||n.enumerable});return e},A9=e=>b9(Oc({},"__esModule",{value:!0}),e),tI={};eI(tI,{GetRoleCredentialsCommand:()=>gp.GetRoleCredentialsCommand,SSOClient:()=>gp.SSOClient});var gp,I9=R9({"src/loadSso.ts"(){"use strict";gp=QC()}}),rI={};eI(rI,{fromSSO:()=>T9,isSsoProfile:()=>nI,validateSsoProfile:()=>oI});iI.exports=A9(rI);var nI=Tc(e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),"isSsoProfile"),O9=YA(),Pt=te(),Ic=je(),mi=!1,QA=Tc(async({ssoStartUrl:e,ssoSession:t,ssoAccountId:r,ssoRegion:n,ssoRoleName:o,ssoClient:i,clientConfig:s,profile:a})=>{let c,l="To refresh this SSO session run aws sso login with the corresponding profile.";if(t)try{let H=await(0,O9.fromSso)({profile:a})();c={accessToken:H.token,expiresAt:new Date(H.expiration).toISOString()}}catch(H){throw new Pt.CredentialsProviderError(H.message,mi)}else try{c=await(0,Ic.getSSOTokenFromFile)(e)}catch{throw new Pt.CredentialsProviderError(`The SSO session associated with this profile is invalid. ${l}`,mi)}if(new Date(c.expiresAt).getTime()-Date.now()<=0)throw new Pt.CredentialsProviderError(`The SSO session associated with this profile has expired. ${l}`,mi);let{accessToken:p}=c,{SSOClient:m,GetRoleCredentialsCommand:f}=await Promise.resolve().then(()=>(I9(),tI)),_=i||new m(Object.assign({},s??{},{region:s?.region??n})),g;try{g=await _.send(new f({accountId:r,roleName:o,accessToken:p}))}catch(H){throw Pt.CredentialsProviderError.from(H,mi)}let{roleCredentials:{accessKeyId:S,secretAccessKey:P,sessionToken:x,expiration:R,credentialScope:de}={}}=g;if(!S||!P||!x||!R)throw new Pt.CredentialsProviderError("SSO returns an invalid temporary credential.",mi);return{accessKeyId:S,secretAccessKey:P,sessionToken:x,expiration:new Date(R),credentialScope:de}},"resolveSSOCredentials"),oI=Tc(e=>{let{sso_start_url:t,sso_account_id:r,sso_region:n,sso_role_name:o}=e;if(!t||!r||!n||!o)throw new Pt.CredentialsProviderError(`Profile is configured with invalid SSO credentials. Required parameters "sso_account_id", "sso_region", "sso_role_name", "sso_start_url". Got ${Object.keys(e).join(", ")}
Reference: https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-sso.html`,!1);return e},"validateSsoProfile"),T9=Tc((e={})=>async()=>{var t;(t=e.logger)==null||t.debug("@aws-sdk/credential-provider-sso","fromSSO");let{ssoStartUrl:r,ssoAccountId:n,ssoRegion:o,ssoRoleName:i,ssoSession:s}=e,{ssoClient:a}=e,c=(0,Ic.getProfileName)(e);if(!r&&!n&&!o&&!i&&!s){let p=(await(0,Ic.parseKnownFiles)(e))[c];if(!p)throw new Pt.CredentialsProviderError(`Profile ${c} was not found.`);if(!nI(p))throw new Pt.CredentialsProviderError(`Profile ${c} is not configured with SSO credentials.`);if(p?.sso_session){let x=(await(0,Ic.loadSsoSessionData)(e))[p.sso_session],R=` configurations in profile ${c} and sso-session ${p.sso_session}`;if(o&&o!==x.sso_region)throw new Pt.CredentialsProviderError("Conflicting SSO region"+R,!1);if(r&&r!==x.sso_start_url)throw new Pt.CredentialsProviderError("Conflicting SSO start_url"+R,!1);p.sso_region=x.sso_region,p.sso_start_url=x.sso_start_url}let{sso_start_url:m,sso_account_id:f,sso_region:_,sso_role_name:g,sso_session:S}=oI(p);return QA({ssoStartUrl:m,ssoSession:S,ssoAccountId:f,ssoRegion:_,ssoRoleName:g,ssoClient:a,clientConfig:e.clientConfig,profile:c})}else{if(!r||!n||!o||!i)throw new Pt.CredentialsProviderError('Incomplete configuration. The fromSSO() argument hash must include "ssoStartUrl", "ssoAccountId", "ssoRegion", "ssoRoleName"');return QA({ssoStartUrl:r,ssoSession:s,ssoAccountId:n,ssoRegion:o,ssoRoleName:i,ssoClient:a,clientConfig:e.clientConfig,profile:c})}},"fromSSO")});var hp=v(wt=>{"use strict";Object.defineProperty(wt,"__esModule",{value:!0});wt.resolveHttpAuthSchemeConfig=wt.resolveStsAuthConfig=wt.defaultSTSHttpAuthSchemeProvider=wt.defaultSTSHttpAuthSchemeParametersProvider=void 0;var N9=He(),sI=Ve(),D9=fi(),k9=async(e,t,r)=>({operation:(0,sI.getSmithyContext)(t).operation,region:await(0,sI.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});wt.defaultSTSHttpAuthSchemeParametersProvider=k9;function M9(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sts",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function aI(e){return{schemeId:"smithy.api#noAuth"}}var K9=e=>{let t=[];switch(e.operation){case"AssumeRoleWithSAML":{t.push(aI(e));break}case"AssumeRoleWithWebIdentity":{t.push(aI(e));break}default:t.push(M9(e))}return t};wt.defaultSTSHttpAuthSchemeProvider=K9;var F9=e=>({...e,stsClientCtor:D9.STSClient});wt.resolveStsAuthConfig=F9;var L9=e=>{let t=(0,wt.resolveStsAuthConfig)(e);return{...(0,N9.resolveAwsSdkSigV4Config)(t)}};wt.resolveHttpAuthSchemeConfig=L9});var xt=v(to=>{"use strict";Object.defineProperty(to,"__esModule",{value:!0});to.commonParams=to.resolveClientEndpointParameters=void 0;var U9=e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,defaultSigningName:"sts"});to.resolveClientEndpointParameters=U9;to.commonParams={UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var cI=v((Sle,q9)=>{q9.exports={name:"@aws-sdk/client-sts",description:"AWS SDK for JavaScript Sts Client for Node.js, Browser and React Native",version:"3.572.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-sts","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"rimraf ./dist-types tsconfig.types.tsbuildinfo && tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sts",test:"yarn test:unit","test:unit":"jest"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/client-sso-oidc":"3.572.0","@aws-sdk/core":"3.572.0","@aws-sdk/credential-provider-node":"3.572.0","@aws-sdk/middleware-host-header":"3.567.0","@aws-sdk/middleware-logger":"3.568.0","@aws-sdk/middleware-recursion-detection":"3.567.0","@aws-sdk/middleware-user-agent":"3.572.0","@aws-sdk/region-config-resolver":"3.572.0","@aws-sdk/types":"3.567.0","@aws-sdk/util-endpoints":"3.572.0","@aws-sdk/util-user-agent-browser":"3.567.0","@aws-sdk/util-user-agent-node":"3.568.0","@smithy/config-resolver":"^2.2.0","@smithy/core":"^1.4.2","@smithy/fetch-http-handler":"^2.5.0","@smithy/hash-node":"^2.2.0","@smithy/invalid-dependency":"^2.2.0","@smithy/middleware-content-length":"^2.2.0","@smithy/middleware-endpoint":"^2.5.1","@smithy/middleware-retry":"^2.3.1","@smithy/middleware-serde":"^2.3.0","@smithy/middleware-stack":"^2.2.0","@smithy/node-config-provider":"^2.3.0","@smithy/node-http-handler":"^2.5.0","@smithy/protocol-http":"^3.3.0","@smithy/smithy-client":"^2.5.1","@smithy/types":"^2.12.0","@smithy/url-parser":"^2.2.0","@smithy/util-base64":"^2.3.0","@smithy/util-body-length-browser":"^2.2.0","@smithy/util-body-length-node":"^2.3.0","@smithy/util-defaults-mode-browser":"^2.2.1","@smithy/util-defaults-mode-node":"^2.3.1","@smithy/util-endpoints":"^1.2.0","@smithy/util-middleware":"^2.2.0","@smithy/util-retry":"^2.2.0","@smithy/util-utf8":"^2.3.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node16":"16.1.3","@types/node":"^16.18.96",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~4.9.5"},engines:{node:">=16.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sts",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sts"}}});var OI=v(Nc=>{"use strict";Object.defineProperty(Nc,"__esModule",{value:!0});Nc.ruleSet=void 0;var SI="required",q="type",B="fn",X="argv",qr="ref",dI=!1,Sp=!0,Ur="booleanEquals",Ee="stringEquals",EI="sigv4",CI="sts",PI="us-east-1",ie="endpoint",lI="https://sts.{Region}.{PartitionResult#dnsSuffix}",Mt="tree",ro="error",Cp="getAttr",uI={[SI]:!1,[q]:"String"},Ep={[SI]:!0,default:!1,[q]:"Boolean"},wI={[qr]:"Endpoint"},pI={[B]:"isSet",[X]:[{[qr]:"Region"}]},Ce={[qr]:"Region"},mI={[B]:"aws.partition",[X]:[Ce],assign:"PartitionResult"},xI={[qr]:"UseFIPS"},RI={[qr]:"UseDualStack"},Re={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:EI,signingName:CI,signingRegion:PI}]},headers:{}},ze={},fI={conditions:[{[B]:Ee,[X]:[Ce,"aws-global"]}],[ie]:Re,[q]:ie},bI={[B]:Ur,[X]:[xI,!0]},AI={[B]:Ur,[X]:[RI,!0]},_I={[B]:Cp,[X]:[{[qr]:"PartitionResult"},"supportsFIPS"]},II={[qr]:"PartitionResult"},vI={[B]:Ur,[X]:[!0,{[B]:Cp,[X]:[II,"supportsDualStack"]}]},gI=[{[B]:"isSet",[X]:[wI]}],yI=[bI],hI=[AI],j9={version:"1.0",parameters:{Region:uI,UseDualStack:Ep,UseFIPS:Ep,Endpoint:uI,UseGlobalEndpoint:Ep},rules:[{conditions:[{[B]:Ur,[X]:[{[qr]:"UseGlobalEndpoint"},Sp]},{[B]:"not",[X]:gI},pI,mI,{[B]:Ur,[X]:[xI,dI]},{[B]:Ur,[X]:[RI,dI]}],rules:[{conditions:[{[B]:Ee,[X]:[Ce,"ap-northeast-1"]}],endpoint:Re,[q]:ie},{conditions:[{[B]:Ee,[X]:[Ce,"ap-south-1"]}],endpoint:Re,[q]:ie},{conditions:[{[B]:Ee,[X]:[Ce,"ap-southeast-1"]}],endpoint:Re,[q]:ie},{conditions:[{[B]:Ee,[X]:[Ce,"ap-southeast-2"]}],endpoint:Re,[q]:ie},fI,{conditions:[{[B]:Ee,[X]:[Ce,"ca-central-1"]}],endpoint:Re,[q]:ie},{conditions:[{[B]:Ee,[X]:[Ce,"eu-central-1"]}],endpoint:Re,[q]:ie},{conditions:[{[B]:Ee,[X]:[Ce,"eu-north-1"]}],endpoint:Re,[q]:ie},{conditions:[{[B]:Ee,[X]:[Ce,"eu-west-1"]}],endpoint:Re,[q]:ie},{conditions:[{[B]:Ee,[X]:[Ce,"eu-west-2"]}],endpoint:Re,[q]:ie},{conditions:[{[B]:Ee,[X]:[Ce,"eu-west-3"]}],endpoint:Re,[q]:ie},{conditions:[{[B]:Ee,[X]:[Ce,"sa-east-1"]}],endpoint:Re,[q]:ie},{conditions:[{[B]:Ee,[X]:[Ce,PI]}],endpoint:Re,[q]:ie},{conditions:[{[B]:Ee,[X]:[Ce,"us-east-2"]}],endpoint:Re,[q]:ie},{conditions:[{[B]:Ee,[X]:[Ce,"us-west-1"]}],endpoint:Re,[q]:ie},{conditions:[{[B]:Ee,[X]:[Ce,"us-west-2"]}],endpoint:Re,[q]:ie},{endpoint:{url:lI,properties:{authSchemes:[{name:EI,signingName:CI,signingRegion:"{Region}"}]},headers:ze},[q]:ie}],[q]:Mt},{conditions:gI,rules:[{conditions:yI,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[q]:ro},{conditions:hI,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[q]:ro},{endpoint:{url:wI,properties:ze,headers:ze},[q]:ie}],[q]:Mt},{conditions:[pI],rules:[{conditions:[mI],rules:[{conditions:[bI,AI],rules:[{conditions:[{[B]:Ur,[X]:[Sp,_I]},vI],rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:ze,headers:ze},[q]:ie}],[q]:Mt},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[q]:ro}],[q]:Mt},{conditions:yI,rules:[{conditions:[{[B]:Ur,[X]:[_I,Sp]}],rules:[{conditions:[{[B]:Ee,[X]:[{[B]:Cp,[X]:[II,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:ze,headers:ze},[q]:ie},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:ze,headers:ze},[q]:ie}],[q]:Mt},{error:"FIPS is enabled but this partition does not support FIPS",[q]:ro}],[q]:Mt},{conditions:hI,rules:[{conditions:[vI],rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:ze,headers:ze},[q]:ie}],[q]:Mt},{error:"DualStack is enabled but this partition does not support DualStack",[q]:ro}],[q]:Mt},fI,{endpoint:{url:lI,properties:ze,headers:ze},[q]:ie}],[q]:Mt}],[q]:Mt},{error:"Invalid Configuration: Missing Region",[q]:ro}]};Nc.ruleSet=j9});var NI=v(Dc=>{"use strict";Object.defineProperty(Dc,"__esModule",{value:!0});Dc.defaultEndpointResolver=void 0;var H9=Eo(),TI=Gt(),G9=OI(),$9=(e,t={})=>(0,TI.resolveEndpoint)(G9.ruleSet,{endpointParams:e,logger:t.logger});Dc.defaultEndpointResolver=$9;TI.customEndpointFunctions.aws=H9.awsEndpointFunctions});var MI=v(kc=>{"use strict";Object.defineProperty(kc,"__esModule",{value:!0});kc.getRuntimeConfig=void 0;var z9=He(),W9=Pe(),V9=z(),B9=$t(),DI=_r(),kI=Fe(),X9=hp(),J9=NI(),Y9=e=>({apiVersion:"2011-06-15",base64Decoder:e?.base64Decoder??DI.fromBase64,base64Encoder:e?.base64Encoder??DI.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??J9.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??X9.defaultSTSHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new z9.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new W9.NoAuthSigner}],logger:e?.logger??new V9.NoOpLogger,serviceId:e?.serviceId??"STS",urlParser:e?.urlParser??B9.parseUrl,utf8Decoder:e?.utf8Decoder??kI.fromUtf8,utf8Encoder:e?.utf8Encoder??kI.toUtf8});kc.getRuntimeConfig=Y9});var qI=v(Kc=>{"use strict";Object.defineProperty(Kc,"__esModule",{value:!0});Kc.getRuntimeConfig=void 0;var Q9=(Bt(),bt(Vt)),Z9=Q9.__importDefault(cI()),KI=He(),FI=Pp(),eQ=ra(),Mc=Ke(),tQ=Pe(),rQ=on(),LI=Le(),_i=Xe(),UI=It(),nQ=sn(),oQ=mr(),iQ=MI(),sQ=z(),aQ=an(),cQ=z(),dQ=e=>{(0,cQ.emitWarningIfUnsupportedVersion)(process.version);let t=(0,aQ.resolveDefaultsModeConfig)(e),r=()=>t().then(sQ.loadConfigsForDefaultMode),n=(0,iQ.getRuntimeConfig)(e);return(0,KI.emitWarningIfUnsupportedVersion)(process.version),{...n,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??nQ.calculateBodyLength,credentialDefaultProvider:e?.credentialDefaultProvider??FI.defaultProvider,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,eQ.defaultUserAgent)({serviceId:n.serviceId,clientVersion:Z9.default.version}),httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:o=>o.getIdentityProvider("aws.auth#sigv4")||(async i=>await(0,FI.defaultProvider)(i?.__config||{})()),signer:new KI.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:o=>o.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new tQ.NoAuthSigner}],maxAttempts:e?.maxAttempts??(0,_i.loadConfig)(LI.NODE_MAX_ATTEMPT_CONFIG_OPTIONS),region:e?.region??(0,_i.loadConfig)(Mc.NODE_REGION_CONFIG_OPTIONS,Mc.NODE_REGION_CONFIG_FILE_OPTIONS),requestHandler:UI.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,_i.loadConfig)({...LI.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||oQ.DEFAULT_RETRY_MODE}),sha256:e?.sha256??rQ.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??UI.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,_i.loadConfig)(Mc.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS),useFipsEndpoint:e?.useFipsEndpoint??(0,_i.loadConfig)(Mc.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS)}};Kc.getRuntimeConfig=dQ});var jI=v(no=>{"use strict";Object.defineProperty(no,"__esModule",{value:!0});no.resolveHttpAuthRuntimeConfig=no.getHttpAuthExtensionConfiguration=void 0;var lQ=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(o){let i=t.findIndex(s=>s.schemeId===o.schemeId);i===-1?t.push(o):t.splice(i,1,o)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}};no.getHttpAuthExtensionConfiguration=lQ;var uQ=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()});no.resolveHttpAuthRuntimeConfig=uQ});var wp=v(Lc=>{"use strict";Object.defineProperty(Lc,"__esModule",{value:!0});Lc.resolveRuntimeExtensions=void 0;var HI=ua(),GI=ae(),$I=z(),zI=jI(),Fc=e=>e,pQ=(e,t)=>{let r={...Fc((0,HI.getAwsRegionExtensionConfiguration)(e)),...Fc((0,$I.getDefaultExtensionConfiguration)(e)),...Fc((0,GI.getHttpHandlerExtensionConfiguration)(e)),...Fc((0,zI.getHttpAuthExtensionConfiguration)(e))};return t.forEach(n=>n.configure(r)),{...e,...(0,HI.resolveAwsRegionExtensionConfiguration)(r),...(0,$I.resolveDefaultRuntimeConfig)(r),...(0,GI.resolveHttpHandlerRuntimeConfig)(r),...(0,zI.resolveHttpAuthRuntimeConfig)(r)}};Lc.resolveRuntimeExtensions=pQ});var fi=v(oo=>{"use strict";Object.defineProperty(oo,"__esModule",{value:!0});oo.STSClient=oo.__Client=void 0;var WI=Ai(),mQ=Oi(),fQ=Ni(),VI=Li(),_Q=Ke(),xp=Pe(),vQ=tn(),gQ=At(),BI=Le(),JI=z();Object.defineProperty(oo,"__Client",{enumerable:!0,get:function(){return JI.Client}});var XI=hp(),yQ=xt(),hQ=qI(),SQ=wp(),Rp=class extends JI.Client{constructor(...[t]){let r=(0,hQ.getRuntimeConfig)(t||{}),n=(0,yQ.resolveClientEndpointParameters)(r),o=(0,_Q.resolveRegionConfig)(n),i=(0,gQ.resolveEndpointConfig)(o),s=(0,BI.resolveRetryConfig)(i),a=(0,WI.resolveHostHeaderConfig)(s),c=(0,VI.resolveUserAgentConfig)(a),l=(0,XI.resolveHttpAuthSchemeConfig)(c),p=(0,SQ.resolveRuntimeExtensions)(l,t?.extensions||[]);super(p),this.config=p,this.middlewareStack.use((0,BI.getRetryPlugin)(this.config)),this.middlewareStack.use((0,vQ.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,WI.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,mQ.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,fQ.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,VI.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,xp.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:this.getDefaultHttpAuthSchemeParametersProvider(),identityProviderConfigProvider:this.getIdentityProviderConfigProvider()})),this.middlewareStack.use((0,xp.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}getDefaultHttpAuthSchemeParametersProvider(){return XI.defaultSTSHttpAuthSchemeParametersProvider}getIdentityProviderConfigProvider(){return async t=>new xp.DefaultIdentityProviderConfig({"aws.auth#sigv4":t.credentials})}};oo.STSClient=Rp});var am=v((Lle,sm)=>{"use strict";var Uc=Object.defineProperty,EQ=Object.getOwnPropertyDescriptor,CQ=Object.getOwnPropertyNames,PQ=Object.prototype.hasOwnProperty,C=(e,t)=>Uc(e,"name",{value:t,configurable:!0}),wQ=(e,t)=>{for(var r in t)Uc(e,r,{get:t[r],enumerable:!0})},tm=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of CQ(t))!PQ.call(e,o)&&o!==r&&Uc(e,o,{get:()=>t[o],enumerable:!(n=EQ(t,o))||n.enumerable});return e},xQ=(e,t,r)=>(tm(e,t,"default"),r&&tm(r,t,"default")),RQ=e=>tm(Uc({},"__esModule",{value:!0}),e),rm={};wQ(rm,{AssumeRoleCommand:()=>om,AssumeRoleResponseFilterSensitiveLog:()=>wO,AssumeRoleWithSAMLCommand:()=>kO,AssumeRoleWithSAMLRequestFilterSensitiveLog:()=>xO,AssumeRoleWithSAMLResponseFilterSensitiveLog:()=>RO,AssumeRoleWithWebIdentityCommand:()=>im,AssumeRoleWithWebIdentityRequestFilterSensitiveLog:()=>bO,AssumeRoleWithWebIdentityResponseFilterSensitiveLog:()=>AO,ClientInputEndpointParameters:()=>BZ.ClientInputEndpointParameters,CredentialsFilterSensitiveLog:()=>mo,DecodeAuthorizationMessageCommand:()=>FO,ExpiredTokenException:()=>rO,GetAccessKeyInfoCommand:()=>UO,GetCallerIdentityCommand:()=>jO,GetFederationTokenCommand:()=>GO,GetFederationTokenResponseFilterSensitiveLog:()=>IO,GetSessionTokenCommand:()=>zO,GetSessionTokenResponseFilterSensitiveLog:()=>OO,IDPCommunicationErrorException:()=>SO,IDPRejectedClaimException:()=>fO,InvalidAuthorizationMessageException:()=>PO,InvalidIdentityTokenException:()=>gO,MalformedPolicyDocumentException:()=>iO,PackedPolicyTooLargeException:()=>cO,RegionDisabledException:()=>uO,RuntimeExtension:()=>XZ.RuntimeExtension,STS:()=>VO,STSServiceException:()=>Kt,decorateDefaultCredentialProvider:()=>QZ,getDefaultRoleAssumer:()=>YO,getDefaultRoleAssumerWithWebIdentity:()=>QO});sm.exports=RQ(rm);xQ(rm,fi(),sm.exports);var jr=At(),Hr=zt(),Ale=qe(),bQ=xt(),O=z(),QI=class ZI extends O.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,ZI.prototype)}};C(QI,"STSServiceException");var Kt=QI,eO=class tO extends Kt{constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),this.name="ExpiredTokenException",this.$fault="client",Object.setPrototypeOf(this,tO.prototype)}};C(eO,"ExpiredTokenException");var rO=eO,nO=class oO extends Kt{constructor(t){super({name:"MalformedPolicyDocumentException",$fault:"client",...t}),this.name="MalformedPolicyDocumentException",this.$fault="client",Object.setPrototypeOf(this,oO.prototype)}};C(nO,"MalformedPolicyDocumentException");var iO=nO,sO=class aO extends Kt{constructor(t){super({name:"PackedPolicyTooLargeException",$fault:"client",...t}),this.name="PackedPolicyTooLargeException",this.$fault="client",Object.setPrototypeOf(this,aO.prototype)}};C(sO,"PackedPolicyTooLargeException");var cO=sO,dO=class lO extends Kt{constructor(t){super({name:"RegionDisabledException",$fault:"client",...t}),this.name="RegionDisabledException",this.$fault="client",Object.setPrototypeOf(this,lO.prototype)}};C(dO,"RegionDisabledException");var uO=dO,pO=class mO extends Kt{constructor(t){super({name:"IDPRejectedClaimException",$fault:"client",...t}),this.name="IDPRejectedClaimException",this.$fault="client",Object.setPrototypeOf(this,mO.prototype)}};C(pO,"IDPRejectedClaimException");var fO=pO,_O=class vO extends Kt{constructor(t){super({name:"InvalidIdentityTokenException",$fault:"client",...t}),this.name="InvalidIdentityTokenException",this.$fault="client",Object.setPrototypeOf(this,vO.prototype)}};C(_O,"InvalidIdentityTokenException");var gO=_O,yO=class hO extends Kt{constructor(t){super({name:"IDPCommunicationErrorException",$fault:"client",...t}),this.name="IDPCommunicationErrorException",this.$fault="client",Object.setPrototypeOf(this,hO.prototype)}};C(yO,"IDPCommunicationErrorException");var SO=yO,EO=class CO extends Kt{constructor(t){super({name:"InvalidAuthorizationMessageException",$fault:"client",...t}),this.name="InvalidAuthorizationMessageException",this.$fault="client",Object.setPrototypeOf(this,CO.prototype)}};C(EO,"InvalidAuthorizationMessageException");var PO=EO,mo=C(e=>({...e,...e.SecretAccessKey&&{SecretAccessKey:O.SENSITIVE_STRING}}),"CredentialsFilterSensitiveLog"),wO=C(e=>({...e,...e.Credentials&&{Credentials:mo(e.Credentials)}}),"AssumeRoleResponseFilterSensitiveLog"),xO=C(e=>({...e,...e.SAMLAssertion&&{SAMLAssertion:O.SENSITIVE_STRING}}),"AssumeRoleWithSAMLRequestFilterSensitiveLog"),RO=C(e=>({...e,...e.Credentials&&{Credentials:mo(e.Credentials)}}),"AssumeRoleWithSAMLResponseFilterSensitiveLog"),bO=C(e=>({...e,...e.WebIdentityToken&&{WebIdentityToken:O.SENSITIVE_STRING}}),"AssumeRoleWithWebIdentityRequestFilterSensitiveLog"),AO=C(e=>({...e,...e.Credentials&&{Credentials:mo(e.Credentials)}}),"AssumeRoleWithWebIdentityResponseFilterSensitiveLog"),IO=C(e=>({...e,...e.Credentials&&{Credentials:mo(e.Credentials)}}),"GetFederationTokenResponseFilterSensitiveLog"),OO=C(e=>({...e,...e.Credentials&&{Credentials:mo(e.Credentials)}}),"GetSessionTokenResponseFilterSensitiveLog"),ar=He(),AQ=ae(),IQ=C(async(e,t)=>{let r=zr,n;return n=Xr({...ZQ(e,t),[Vr]:OZ,[Br]:Wr}),$r(t,r,"/",void 0,n)},"se_AssumeRoleCommand"),OQ=C(async(e,t)=>{let r=zr,n;return n=Xr({...eZ(e,t),[Vr]:TZ,[Br]:Wr}),$r(t,r,"/",void 0,n)},"se_AssumeRoleWithSAMLCommand"),TQ=C(async(e,t)=>{let r=zr,n;return n=Xr({...tZ(e,t),[Vr]:NZ,[Br]:Wr}),$r(t,r,"/",void 0,n)},"se_AssumeRoleWithWebIdentityCommand"),NQ=C(async(e,t)=>{let r=zr,n;return n=Xr({...rZ(e,t),[Vr]:DZ,[Br]:Wr}),$r(t,r,"/",void 0,n)},"se_DecodeAuthorizationMessageCommand"),DQ=C(async(e,t)=>{let r=zr,n;return n=Xr({...nZ(e,t),[Vr]:kZ,[Br]:Wr}),$r(t,r,"/",void 0,n)},"se_GetAccessKeyInfoCommand"),kQ=C(async(e,t)=>{let r=zr,n;return n=Xr({...oZ(e,t),[Vr]:MZ,[Br]:Wr}),$r(t,r,"/",void 0,n)},"se_GetCallerIdentityCommand"),MQ=C(async(e,t)=>{let r=zr,n;return n=Xr({...iZ(e,t),[Vr]:KZ,[Br]:Wr}),$r(t,r,"/",void 0,n)},"se_GetFederationTokenCommand"),KQ=C(async(e,t)=>{let r=zr,n;return n=Xr({...sZ(e,t),[Vr]:FZ,[Br]:Wr}),$r(t,r,"/",void 0,n)},"se_GetSessionTokenCommand"),FQ=C(async(e,t)=>{if(e.statusCode>=300)return Gr(e,t);let r=await(0,ar.parseXmlBody)(e.body,t),n={};return n=pZ(r.AssumeRoleResult,t),{$metadata:be(e),...n}},"de_AssumeRoleCommand"),LQ=C(async(e,t)=>{if(e.statusCode>=300)return Gr(e,t);let r=await(0,ar.parseXmlBody)(e.body,t),n={};return n=mZ(r.AssumeRoleWithSAMLResult,t),{$metadata:be(e),...n}},"de_AssumeRoleWithSAMLCommand"),UQ=C(async(e,t)=>{if(e.statusCode>=300)return Gr(e,t);let r=await(0,ar.parseXmlBody)(e.body,t),n={};return n=fZ(r.AssumeRoleWithWebIdentityResult,t),{$metadata:be(e),...n}},"de_AssumeRoleWithWebIdentityCommand"),qQ=C(async(e,t)=>{if(e.statusCode>=300)return Gr(e,t);let r=await(0,ar.parseXmlBody)(e.body,t),n={};return n=_Z(r.DecodeAuthorizationMessageResult,t),{$metadata:be(e),...n}},"de_DecodeAuthorizationMessageCommand"),jQ=C(async(e,t)=>{if(e.statusCode>=300)return Gr(e,t);let r=await(0,ar.parseXmlBody)(e.body,t),n={};return n=yZ(r.GetAccessKeyInfoResult,t),{$metadata:be(e),...n}},"de_GetAccessKeyInfoCommand"),HQ=C(async(e,t)=>{if(e.statusCode>=300)return Gr(e,t);let r=await(0,ar.parseXmlBody)(e.body,t),n={};return n=hZ(r.GetCallerIdentityResult,t),{$metadata:be(e),...n}},"de_GetCallerIdentityCommand"),GQ=C(async(e,t)=>{if(e.statusCode>=300)return Gr(e,t);let r=await(0,ar.parseXmlBody)(e.body,t),n={};return n=SZ(r.GetFederationTokenResult,t),{$metadata:be(e),...n}},"de_GetFederationTokenCommand"),$Q=C(async(e,t)=>{if(e.statusCode>=300)return Gr(e,t);let r=await(0,ar.parseXmlBody)(e.body,t),n={};return n=EZ(r.GetSessionTokenResult,t),{$metadata:be(e),...n}},"de_GetSessionTokenCommand"),Gr=C(async(e,t)=>{let r={...e,body:await(0,ar.parseXmlErrorBody)(e.body,t)},n=LZ(e,r.body);switch(n){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await zQ(r,t);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await JQ(r,t);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await YQ(r,t);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await QQ(r,t);case"IDPRejectedClaim":case"com.amazonaws.sts#IDPRejectedClaimException":throw await VQ(r,t);case"InvalidIdentityToken":case"com.amazonaws.sts#InvalidIdentityTokenException":throw await XQ(r,t);case"IDPCommunicationError":case"com.amazonaws.sts#IDPCommunicationErrorException":throw await WQ(r,t);case"InvalidAuthorizationMessageException":case"com.amazonaws.sts#InvalidAuthorizationMessageException":throw await BQ(r,t);default:let o=r.body;return IZ({output:e,parsedBody:o.Error,errorCode:n})}},"de_CommandError"),zQ=C(async(e,t)=>{let r=e.body,n=vZ(r.Error,t),o=new rO({$metadata:be(e),...n});return(0,O.decorateServiceException)(o,r)},"de_ExpiredTokenExceptionRes"),WQ=C(async(e,t)=>{let r=e.body,n=CZ(r.Error,t),o=new SO({$metadata:be(e),...n});return(0,O.decorateServiceException)(o,r)},"de_IDPCommunicationErrorExceptionRes"),VQ=C(async(e,t)=>{let r=e.body,n=PZ(r.Error,t),o=new fO({$metadata:be(e),...n});return(0,O.decorateServiceException)(o,r)},"de_IDPRejectedClaimExceptionRes"),BQ=C(async(e,t)=>{let r=e.body,n=wZ(r.Error,t),o=new PO({$metadata:be(e),...n});return(0,O.decorateServiceException)(o,r)},"de_InvalidAuthorizationMessageExceptionRes"),XQ=C(async(e,t)=>{let r=e.body,n=xZ(r.Error,t),o=new gO({$metadata:be(e),...n});return(0,O.decorateServiceException)(o,r)},"de_InvalidIdentityTokenExceptionRes"),JQ=C(async(e,t)=>{let r=e.body,n=RZ(r.Error,t),o=new iO({$metadata:be(e),...n});return(0,O.decorateServiceException)(o,r)},"de_MalformedPolicyDocumentExceptionRes"),YQ=C(async(e,t)=>{let r=e.body,n=bZ(r.Error,t),o=new cO({$metadata:be(e),...n});return(0,O.decorateServiceException)(o,r)},"de_PackedPolicyTooLargeExceptionRes"),QQ=C(async(e,t)=>{let r=e.body,n=AZ(r.Error,t),o=new uO({$metadata:be(e),...n});return(0,O.decorateServiceException)(o,r)},"de_RegionDisabledExceptionRes"),ZQ=C((e,t)=>{var r,n,o,i;let s={};if(e[sr]!=null&&(s[sr]=e[sr]),e[co]!=null&&(s[co]=e[co]),e[ut]!=null){let a=qc(e[ut],t);((r=e[ut])==null?void 0:r.length)===0&&(s.PolicyArns=[]),Object.entries(a).forEach(([c,l])=>{let p=`PolicyArns.${c}`;s[p]=l})}if(e[lt]!=null&&(s[lt]=e[lt]),e[De]!=null&&(s[De]=e[De]),e[uo]!=null){let a=TO(e[uo],t);((n=e[uo])==null?void 0:n.length)===0&&(s.Tags=[]),Object.entries(a).forEach(([c,l])=>{let p=`Tags.${c}`;s[p]=l})}if(e[Jp]!=null){let a=uZ(e[Jp],t);((o=e[Jp])==null?void 0:o.length)===0&&(s.TransitiveTagKeys=[]),Object.entries(a).forEach(([c,l])=>{let p=`TransitiveTagKeys.${c}`;s[p]=l})}if(e[Tp]!=null&&(s[Tp]=e[Tp]),e[lo]!=null&&(s[lo]=e[lo]),e[po]!=null&&(s[po]=e[po]),e[mt]!=null&&(s[mt]=e[mt]),e[jp]!=null){let a=dZ(e[jp],t);((i=e[jp])==null?void 0:i.length)===0&&(s.ProvidedContexts=[]),Object.entries(a).forEach(([c,l])=>{let p=`ProvidedContexts.${c}`;s[p]=l})}return s},"se_AssumeRoleRequest"),eZ=C((e,t)=>{var r;let n={};if(e[sr]!=null&&(n[sr]=e[sr]),e[Up]!=null&&(n[Up]=e[Up]),e[Wp]!=null&&(n[Wp]=e[Wp]),e[ut]!=null){let o=qc(e[ut],t);((r=e[ut])==null?void 0:r.length)===0&&(n.PolicyArns=[]),Object.entries(o).forEach(([i,s])=>{let a=`PolicyArns.${i}`;n[a]=s})}return e[lt]!=null&&(n[lt]=e[lt]),e[De]!=null&&(n[De]=e[De]),n},"se_AssumeRoleWithSAMLRequest"),tZ=C((e,t)=>{var r;let n={};if(e[sr]!=null&&(n[sr]=e[sr]),e[co]!=null&&(n[co]=e[co]),e[Zp]!=null&&(n[Zp]=e[Zp]),e[Hp]!=null&&(n[Hp]=e[Hp]),e[ut]!=null){let o=qc(e[ut],t);((r=e[ut])==null?void 0:r.length)===0&&(n.PolicyArns=[]),Object.entries(o).forEach(([i,s])=>{let a=`PolicyArns.${i}`;n[a]=s})}return e[lt]!=null&&(n[lt]=e[lt]),e[De]!=null&&(n[De]=e[De]),n},"se_AssumeRoleWithWebIdentityRequest"),rZ=C((e,t)=>{let r={};return e[Np]!=null&&(r[Np]=e[Np]),r},"se_DecodeAuthorizationMessageRequest"),nZ=C((e,t)=>{let r={};return e[io]!=null&&(r[io]=e[io]),r},"se_GetAccessKeyInfoRequest"),oZ=C((e,t)=>({}),"se_GetCallerIdentityRequest"),iZ=C((e,t)=>{var r,n;let o={};if(e[Fp]!=null&&(o[Fp]=e[Fp]),e[lt]!=null&&(o[lt]=e[lt]),e[ut]!=null){let i=qc(e[ut],t);((r=e[ut])==null?void 0:r.length)===0&&(o.PolicyArns=[]),Object.entries(i).forEach(([s,a])=>{let c=`PolicyArns.${s}`;o[c]=a})}if(e[De]!=null&&(o[De]=e[De]),e[uo]!=null){let i=TO(e[uo],t);((n=e[uo])==null?void 0:n.length)===0&&(o.Tags=[]),Object.entries(i).forEach(([s,a])=>{let c=`Tags.${s}`;o[c]=a})}return o},"se_GetFederationTokenRequest"),sZ=C((e,t)=>{let r={};return e[De]!=null&&(r[De]=e[De]),e[lo]!=null&&(r[lo]=e[lo]),e[po]!=null&&(r[po]=e[po]),r},"se_GetSessionTokenRequest"),qc=C((e,t)=>{let r={},n=1;for(let o of e){if(o===null)continue;let i=aZ(o,t);Object.entries(i).forEach(([s,a])=>{r[`member.${n}.${s}`]=a}),n++}return r},"se_policyDescriptorListType"),aZ=C((e,t)=>{let r={};return e[em]!=null&&(r[em]=e[em]),r},"se_PolicyDescriptorType"),cZ=C((e,t)=>{let r={};return e[qp]!=null&&(r[qp]=e[qp]),e[Ap]!=null&&(r[Ap]=e[Ap]),r},"se_ProvidedContext"),dZ=C((e,t)=>{let r={},n=1;for(let o of e){if(o===null)continue;let i=cZ(o,t);Object.entries(i).forEach(([s,a])=>{r[`member.${n}.${s}`]=a}),n++}return r},"se_ProvidedContextsListType"),lZ=C((e,t)=>{let r={};return e[Kp]!=null&&(r[Kp]=e[Kp]),e[Qp]!=null&&(r[Qp]=e[Qp]),r},"se_Tag"),uZ=C((e,t)=>{let r={},n=1;for(let o of e)o!==null&&(r[`member.${n}`]=o,n++);return r},"se_tagKeyListType"),TO=C((e,t)=>{let r={},n=1;for(let o of e){if(o===null)continue;let i=lZ(o,t);Object.entries(i).forEach(([s,a])=>{r[`member.${n}.${s}`]=a}),n++}return r},"se_tagListType"),nm=C((e,t)=>{let r={};return e[bp]!=null&&(r[bp]=(0,O.expectString)(e[bp])),e[ir]!=null&&(r[ir]=(0,O.expectString)(e[ir])),r},"de_AssumedRoleUser"),pZ=C((e,t)=>{let r={};return e[Ne]!=null&&(r[Ne]=vi(e[Ne],t)),e[or]!=null&&(r[or]=nm(e[or],t)),e[pt]!=null&&(r[pt]=(0,O.strictParseInt32)(e[pt])),e[mt]!=null&&(r[mt]=(0,O.expectString)(e[mt])),r},"de_AssumeRoleResponse"),mZ=C((e,t)=>{let r={};return e[Ne]!=null&&(r[Ne]=vi(e[Ne],t)),e[or]!=null&&(r[or]=nm(e[or],t)),e[pt]!=null&&(r[pt]=(0,O.strictParseInt32)(e[pt])),e[$p]!=null&&(r[$p]=(0,O.expectString)(e[$p])),e[Bp]!=null&&(r[Bp]=(0,O.expectString)(e[Bp])),e[Mp]!=null&&(r[Mp]=(0,O.expectString)(e[Mp])),e[ao]!=null&&(r[ao]=(0,O.expectString)(e[ao])),e[Lp]!=null&&(r[Lp]=(0,O.expectString)(e[Lp])),e[mt]!=null&&(r[mt]=(0,O.expectString)(e[mt])),r},"de_AssumeRoleWithSAMLResponse"),fZ=C((e,t)=>{let r={};return e[Ne]!=null&&(r[Ne]=vi(e[Ne],t)),e[Vp]!=null&&(r[Vp]=(0,O.expectString)(e[Vp])),e[or]!=null&&(r[or]=nm(e[or],t)),e[pt]!=null&&(r[pt]=(0,O.strictParseInt32)(e[pt])),e[Gp]!=null&&(r[Gp]=(0,O.expectString)(e[Gp])),e[ao]!=null&&(r[ao]=(0,O.expectString)(e[ao])),e[mt]!=null&&(r[mt]=(0,O.expectString)(e[mt])),r},"de_AssumeRoleWithWebIdentityResponse"),vi=C((e,t)=>{let r={};return e[io]!=null&&(r[io]=(0,O.expectString)(e[io])),e[zp]!=null&&(r[zp]=(0,O.expectString)(e[zp])),e[Xp]!=null&&(r[Xp]=(0,O.expectString)(e[Xp])),e[Op]!=null&&(r[Op]=(0,O.expectNonNull)((0,O.parseRfc3339DateTimeWithOffset)(e[Op]))),r},"de_Credentials"),_Z=C((e,t)=>{let r={};return e[Ip]!=null&&(r[Ip]=(0,O.expectString)(e[Ip])),r},"de_DecodeAuthorizationMessageResponse"),vZ=C((e,t)=>{let r={};return e[se]!=null&&(r[se]=(0,O.expectString)(e[se])),r},"de_ExpiredTokenException"),gZ=C((e,t)=>{let r={};return e[kp]!=null&&(r[kp]=(0,O.expectString)(e[kp])),e[ir]!=null&&(r[ir]=(0,O.expectString)(e[ir])),r},"de_FederatedUser"),yZ=C((e,t)=>{let r={};return e[so]!=null&&(r[so]=(0,O.expectString)(e[so])),r},"de_GetAccessKeyInfoResponse"),hZ=C((e,t)=>{let r={};return e[Yp]!=null&&(r[Yp]=(0,O.expectString)(e[Yp])),e[so]!=null&&(r[so]=(0,O.expectString)(e[so])),e[ir]!=null&&(r[ir]=(0,O.expectString)(e[ir])),r},"de_GetCallerIdentityResponse"),SZ=C((e,t)=>{let r={};return e[Ne]!=null&&(r[Ne]=vi(e[Ne],t)),e[Dp]!=null&&(r[Dp]=gZ(e[Dp],t)),e[pt]!=null&&(r[pt]=(0,O.strictParseInt32)(e[pt])),r},"de_GetFederationTokenResponse"),EZ=C((e,t)=>{let r={};return e[Ne]!=null&&(r[Ne]=vi(e[Ne],t)),r},"de_GetSessionTokenResponse"),CZ=C((e,t)=>{let r={};return e[se]!=null&&(r[se]=(0,O.expectString)(e[se])),r},"de_IDPCommunicationErrorException"),PZ=C((e,t)=>{let r={};return e[se]!=null&&(r[se]=(0,O.expectString)(e[se])),r},"de_IDPRejectedClaimException"),wZ=C((e,t)=>{let r={};return e[se]!=null&&(r[se]=(0,O.expectString)(e[se])),r},"de_InvalidAuthorizationMessageException"),xZ=C((e,t)=>{let r={};return e[se]!=null&&(r[se]=(0,O.expectString)(e[se])),r},"de_InvalidIdentityTokenException"),RZ=C((e,t)=>{let r={};return e[se]!=null&&(r[se]=(0,O.expectString)(e[se])),r},"de_MalformedPolicyDocumentException"),bZ=C((e,t)=>{let r={};return e[se]!=null&&(r[se]=(0,O.expectString)(e[se])),r},"de_PackedPolicyTooLargeException"),AZ=C((e,t)=>{let r={};return e[se]!=null&&(r[se]=(0,O.expectString)(e[se])),r},"de_RegionDisabledException"),be=C(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),IZ=(0,O.withBaseException)(Kt),$r=C(async(e,t,r,n,o)=>{let{hostname:i,protocol:s="https",port:a,path:c}=await e.endpoint(),l={protocol:s,hostname:i,port:a,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+r:c+r,headers:t};return n!==void 0&&(l.hostname=n),o!==void 0&&(l.body=o),new AQ.HttpRequest(l)},"buildHttpRpcRequest"),zr={"content-type":"application/x-www-form-urlencoded"},Wr="2011-06-15",Vr="Action",io="AccessKeyId",OZ="AssumeRole",bp="AssumedRoleId",or="AssumedRoleUser",TZ="AssumeRoleWithSAML",NZ="AssumeRoleWithWebIdentity",so="Account",ir="Arn",ao="Audience",Ne="Credentials",Ap="ContextAssertion",DZ="DecodeAuthorizationMessage",Ip="DecodedMessage",De="DurationSeconds",Op="Expiration",Tp="ExternalId",Np="EncodedMessage",Dp="FederatedUser",kp="FederatedUserId",kZ="GetAccessKeyInfo",MZ="GetCallerIdentity",KZ="GetFederationToken",FZ="GetSessionToken",Mp="Issuer",Kp="Key",Fp="Name",Lp="NameQualifier",lt="Policy",ut="PolicyArns",Up="PrincipalArn",qp="ProviderArn",jp="ProvidedContexts",Hp="ProviderId",pt="PackedPolicySize",Gp="Provider",sr="RoleArn",co="RoleSessionName",$p="Subject",zp="SecretAccessKey",Wp="SAMLAssertion",Vp="SubjectFromWebIdentityToken",mt="SourceIdentity",lo="SerialNumber",Bp="SubjectType",Xp="SessionToken",uo="Tags",po="TokenCode",Jp="TransitiveTagKeys",Yp="UserId",Br="Version",Qp="Value",Zp="WebIdentityToken",em="arn",se="message",Xr=C(e=>Object.entries(e).map(([t,r])=>(0,O.extendedEncodeURIComponent)(t)+"="+(0,O.extendedEncodeURIComponent)(r)).join("&"),"buildFormUrlencodedString"),LZ=C((e,t)=>{var r;if(((r=t.Error)==null?void 0:r.Code)!==void 0)return t.Error.Code;if(e.statusCode==404)return"NotFound"},"loadQueryErrorCode"),NO=class extends O.Command.classBuilder().ep({...bQ.commonParams}).m(function(t,r,n,o){return[(0,Hr.getSerdePlugin)(n,this.serialize,this.deserialize),(0,jr.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRole",{}).n("STSClient","AssumeRoleCommand").f(void 0,wO).ser(IQ).de(FQ).build(){};C(NO,"AssumeRoleCommand");var om=NO,UZ=xt(),DO=class extends O.Command.classBuilder().ep({...UZ.commonParams}).m(function(t,r,n,o){return[(0,Hr.getSerdePlugin)(n,this.serialize,this.deserialize),(0,jr.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithSAML",{}).n("STSClient","AssumeRoleWithSAMLCommand").f(xO,RO).ser(OQ).de(LQ).build(){};C(DO,"AssumeRoleWithSAMLCommand");var kO=DO,qZ=xt(),MO=class extends O.Command.classBuilder().ep({...qZ.commonParams}).m(function(t,r,n,o){return[(0,Hr.getSerdePlugin)(n,this.serialize,this.deserialize),(0,jr.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithWebIdentity",{}).n("STSClient","AssumeRoleWithWebIdentityCommand").f(bO,AO).ser(TQ).de(UQ).build(){};C(MO,"AssumeRoleWithWebIdentityCommand");var im=MO,jZ=xt(),KO=class extends O.Command.classBuilder().ep({...jZ.commonParams}).m(function(t,r,n,o){return[(0,Hr.getSerdePlugin)(n,this.serialize,this.deserialize),(0,jr.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","DecodeAuthorizationMessage",{}).n("STSClient","DecodeAuthorizationMessageCommand").f(void 0,void 0).ser(NQ).de(qQ).build(){};C(KO,"DecodeAuthorizationMessageCommand");var FO=KO,HZ=xt(),LO=class extends O.Command.classBuilder().ep({...HZ.commonParams}).m(function(t,r,n,o){return[(0,Hr.getSerdePlugin)(n,this.serialize,this.deserialize),(0,jr.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","GetAccessKeyInfo",{}).n("STSClient","GetAccessKeyInfoCommand").f(void 0,void 0).ser(DQ).de(jQ).build(){};C(LO,"GetAccessKeyInfoCommand");var UO=LO,GZ=xt(),qO=class extends O.Command.classBuilder().ep({...GZ.commonParams}).m(function(t,r,n,o){return[(0,Hr.getSerdePlugin)(n,this.serialize,this.deserialize),(0,jr.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","GetCallerIdentity",{}).n("STSClient","GetCallerIdentityCommand").f(void 0,void 0).ser(kQ).de(HQ).build(){};C(qO,"GetCallerIdentityCommand");var jO=qO,$Z=xt(),HO=class extends O.Command.classBuilder().ep({...$Z.commonParams}).m(function(t,r,n,o){return[(0,Hr.getSerdePlugin)(n,this.serialize,this.deserialize),(0,jr.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","GetFederationToken",{}).n("STSClient","GetFederationTokenCommand").f(void 0,IO).ser(MQ).de(GQ).build(){};C(HO,"GetFederationTokenCommand");var GO=HO,zZ=xt(),$O=class extends O.Command.classBuilder().ep({...zZ.commonParams}).m(function(t,r,n,o){return[(0,Hr.getSerdePlugin)(n,this.serialize,this.deserialize),(0,jr.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","GetSessionToken",{}).n("STSClient","GetSessionTokenCommand").f(void 0,OO).ser(KQ).de($Q).build(){};C($O,"GetSessionTokenCommand");var zO=$O,WZ=fi(),VZ={AssumeRoleCommand:om,AssumeRoleWithSAMLCommand:kO,AssumeRoleWithWebIdentityCommand:im,DecodeAuthorizationMessageCommand:FO,GetAccessKeyInfoCommand:UO,GetCallerIdentityCommand:jO,GetFederationTokenCommand:GO,GetSessionTokenCommand:zO},WO=class extends WZ.STSClient{};C(WO,"STS");var VO=WO;(0,O.createAggregatedClient)(VZ,VO);var BZ=xt(),XZ=wp(),YI="us-east-1",BO=C(async(e,t,r)=>{var n;let o=typeof e=="function"?await e():e,i=typeof t=="function"?await t():t;return(n=r?.debug)==null||n.call(r,"@aws-sdk/client-sts::resolveRegion","accepting first of:",`${o} (provider)`,`${i} (parent client)`,`${YI} (STS default)`),o??i??YI},"resolveRegion"),JZ=C((e,t)=>{let r,n;return async(o,i)=>{var s,a,c;if(n=o,!r){let{logger:p=(s=e?.parentClientConfig)==null?void 0:s.logger,region:m,requestHandler:f=(a=e?.parentClientConfig)==null?void 0:a.requestHandler,credentialProviderLogger:_}=e,g=await BO(m,(c=e?.parentClientConfig)==null?void 0:c.region,_);r=new t({credentialDefaultProvider:()=>async()=>n,region:g,requestHandler:f,logger:p})}let{Credentials:l}=await r.send(new om(i));if(!l||!l.AccessKeyId||!l.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRole call with role ${i.RoleArn}`);return{accessKeyId:l.AccessKeyId,secretAccessKey:l.SecretAccessKey,sessionToken:l.SessionToken,expiration:l.Expiration,credentialScope:l.CredentialScope}}},"getDefaultRoleAssumer"),YZ=C((e,t)=>{let r;return async n=>{var o,i,s;if(!r){let{logger:c=(o=e?.parentClientConfig)==null?void 0:o.logger,region:l,requestHandler:p=(i=e?.parentClientConfig)==null?void 0:i.requestHandler,credentialProviderLogger:m}=e,f=await BO(l,(s=e?.parentClientConfig)==null?void 0:s.region,m);r=new t({region:f,requestHandler:p,logger:c})}let{Credentials:a}=await r.send(new im(n));if(!a||!a.AccessKeyId||!a.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${n.RoleArn}`);return{accessKeyId:a.AccessKeyId,secretAccessKey:a.SecretAccessKey,sessionToken:a.SessionToken,expiration:a.Expiration,credentialScope:a.CredentialScope}}},"getDefaultRoleAssumerWithWebIdentity"),XO=fi(),JO=C((e,t)=>{var r;return t?(r=class extends e{constructor(n){super(n);for(let o of t)this.middlewareStack.use(o)}},C(r,"CustomizableSTSClient"),r):e},"getCustomizableStsClientCtor"),YO=C((e={},t)=>JZ(e,JO(XO.STSClient,t)),"getDefaultRoleAssumer"),QO=C((e={},t)=>YZ(e,JO(XO.STSClient,t)),"getDefaultRoleAssumerWithWebIdentity"),QZ=C(e=>t=>e({roleAssumer:YO(t),roleAssumerWithWebIdentity:QO(t),...t}),"decorateDefaultCredentialProvider")});var lm=v((qle,tT)=>{"use strict";var jc=Object.defineProperty,ZZ=Object.getOwnPropertyDescriptor,eee=Object.getOwnPropertyNames,tee=Object.prototype.hasOwnProperty,dm=(e,t)=>jc(e,"name",{value:t,configurable:!0}),ree=(e,t)=>{for(var r in t)jc(e,r,{get:t[r],enumerable:!0})},nee=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of eee(t))!tee.call(e,o)&&o!==r&&jc(e,o,{get:()=>t[o],enumerable:!(n=ZZ(t,o))||n.enumerable});return e},oee=e=>nee(jc({},"__esModule",{value:!0}),e),eT={};ree(eT,{fromProcess:()=>dee});tT.exports=oee(eT);var ZO=je(),cm=te(),iee=require("child_process"),see=require("util"),aee=dm((e,t)=>{if(t.Version!==1)throw Error(`Profile ${e} credential_process did not return Version 1.`);if(t.AccessKeyId===void 0||t.SecretAccessKey===void 0)throw Error(`Profile ${e} credential_process returned invalid credentials.`);if(t.Expiration){let r=new Date;if(new Date(t.Expiration)<r)throw Error(`Profile ${e} credential_process returned expired credentials.`)}return{accessKeyId:t.AccessKeyId,secretAccessKey:t.SecretAccessKey,...t.SessionToken&&{sessionToken:t.SessionToken},...t.Expiration&&{expiration:new Date(t.Expiration)},...t.CredentialScope&&{credentialScope:t.CredentialScope}}},"getValidatedProcessCredentials"),cee=dm(async(e,t)=>{let r=t[e];if(t[e]){let n=r.credential_process;if(n!==void 0){let o=(0,see.promisify)(iee.exec);try{let{stdout:i}=await o(n),s;try{s=JSON.parse(i.trim())}catch{throw Error(`Profile ${e} credential_process returned invalid JSON.`)}return aee(e,s)}catch(i){throw new cm.CredentialsProviderError(i.message)}}else throw new cm.CredentialsProviderError(`Profile ${e} did not contain credential_process.`)}else throw new cm.CredentialsProviderError(`Profile ${e} could not be found in shared credentials file.`)},"resolveProcessCredentials"),dee=dm((e={})=>async()=>{var t;(t=e.logger)==null||t.debug("@aws-sdk/credential-provider-process","fromProcess");let r=await(0,ZO.parseKnownFiles)(e);return cee((0,ZO.getProfileName)(e),r)},"fromProcess")});var um=v(Ft=>{"use strict";var lee=Ft&&Ft.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),uee=Ft&&Ft.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),pee=Ft&&Ft.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&lee(t,e,r);return uee(t,e),t};Object.defineProperty(Ft,"__esModule",{value:!0});Ft.fromWebToken=void 0;var mee=e=>async()=>{var t;(t=e.logger)===null||t===void 0||t.debug("@aws-sdk/credential-provider-web-identity","fromWebToken");let{roleArn:r,roleSessionName:n,webIdentityToken:o,providerId:i,policyArns:s,policy:a,durationSeconds:c}=e,{roleAssumerWithWebIdentity:l}=e;if(!l){let{getDefaultRoleAssumerWithWebIdentity:p}=await Promise.resolve().then(()=>pee(am()));l=p({...e.clientConfig,credentialProviderLogger:e.logger,parentClientConfig:e.parentClientConfig},e.clientPlugins)}return l({RoleArn:r,RoleSessionName:n??`aws-sdk-js-session-${Date.now()}`,WebIdentityToken:o,ProviderId:i,PolicyArns:s,Policy:a,DurationSeconds:c})};Ft.fromWebToken=mee});var rT=v(Hc=>{"use strict";Object.defineProperty(Hc,"__esModule",{value:!0});Hc.fromTokenFile=void 0;var fee=te(),_ee=require("fs"),vee=um(),gee="AWS_WEB_IDENTITY_TOKEN_FILE",yee="AWS_ROLE_ARN",hee="AWS_ROLE_SESSION_NAME",See=(e={})=>async()=>{var t,r,n,o;(t=e.logger)===null||t===void 0||t.debug("@aws-sdk/credential-provider-web-identity","fromTokenFile");let i=(r=e?.webIdentityTokenFile)!==null&&r!==void 0?r:process.env[gee],s=(n=e?.roleArn)!==null&&n!==void 0?n:process.env[yee],a=(o=e?.roleSessionName)!==null&&o!==void 0?o:process.env[hee];if(!i||!s)throw new fee.CredentialsProviderError("Web identity configuration not specified");return(0,vee.fromWebToken)({...e,webIdentityToken:(0,_ee.readFileSync)(i,{encoding:"ascii"}),roleArn:s,roleSessionName:a})()};Hc.fromTokenFile=See});var fm=v((Gle,Gc)=>{var nT=Object.defineProperty,Eee=Object.getOwnPropertyDescriptor,Cee=Object.getOwnPropertyNames,Pee=Object.prototype.hasOwnProperty,pm=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Cee(t))!Pee.call(e,o)&&o!==r&&nT(e,o,{get:()=>t[o],enumerable:!(n=Eee(t,o))||n.enumerable});return e},oT=(e,t,r)=>(pm(e,t,"default"),r&&pm(r,t,"default")),wee=e=>pm(nT({},"__esModule",{value:!0}),e),mm={};Gc.exports=wee(mm);oT(mm,rT(),Gc.exports);oT(mm,um(),Gc.exports)});var uT=v(($le,lT)=>{"use strict";var xee=Object.create,gi=Object.defineProperty,Ree=Object.getOwnPropertyDescriptor,bee=Object.getOwnPropertyNames,Aee=Object.getPrototypeOf,Iee=Object.prototype.hasOwnProperty,ke=(e,t)=>gi(e,"name",{value:t,configurable:!0}),Oee=(e,t)=>{for(var r in t)gi(e,r,{get:t[r],enumerable:!0})},aT=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of bee(t))!Iee.call(e,o)&&o!==r&&gi(e,o,{get:()=>t[o],enumerable:!(n=Ree(t,o))||n.enumerable});return e},mn=(e,t,r)=>(r=e!=null?xee(Aee(e)):{},aT(t||!e||!e.__esModule?gi(r,"default",{value:e,enumerable:!0}):r,e)),Tee=e=>aT(gi({},"__esModule",{value:!0}),e),cT={};Oee(cT,{fromIni:()=>Gee});lT.exports=Tee(cT);var _m=je(),$c=te(),Nee=ke((e,t)=>{let r={EcsContainer:n=>Promise.resolve().then(()=>mn(Sr())).then(({fromContainerMetadata:o})=>o(n)),Ec2InstanceMetadata:n=>Promise.resolve().then(()=>mn(Sr())).then(({fromInstanceMetadata:o})=>o(n)),Environment:n=>Promise.resolve().then(()=>mn(kl())).then(({fromEnv:o})=>o(n))};if(e in r)return r[e];throw new $c.CredentialsProviderError(`Unsupported credential source in profile ${t}. Got ${e}, expected EcsContainer or Ec2InstanceMetadata or Environment.`)},"resolveCredentialSource"),Dee=ke(e=>!!e&&typeof e=="object"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1&&["undefined","string"].indexOf(typeof e.external_id)>-1&&["undefined","string"].indexOf(typeof e.mfa_serial)>-1&&(kee(e)||Mee(e)),"isAssumeRoleProfile"),kee=ke(e=>typeof e.source_profile=="string"&&typeof e.credential_source>"u","isAssumeRoleWithSourceProfile"),Mee=ke(e=>typeof e.credential_source=="string"&&typeof e.source_profile>"u","isAssumeRoleWithProviderProfile"),Kee=ke(async(e,t,r,n={})=>{var o;(o=r.logger)==null||o.debug("@aws-sdk/credential-provider-ini","resolveAssumeRoleCredentials (STS)");let i=t[e];if(!r.roleAssumer){let{getDefaultRoleAssumer:m}=await Promise.resolve().then(()=>mn(am()));r.roleAssumer=m({...r.clientConfig,credentialProviderLogger:r.logger,parentClientConfig:r?.parentClientConfig},r.clientPlugins)}let{source_profile:s}=i;if(s&&s in n)throw new $c.CredentialsProviderError(`Detected a cycle attempting to resolve credentials for profile ${(0,_m.getProfileName)(r)}. Profiles visited: `+Object.keys(n).join(", "),!1);let a=s?dT(s,t,r,{...n,[s]:!0}):(await Nee(i.credential_source,e)(r))(),c={RoleArn:i.role_arn,RoleSessionName:i.role_session_name||`aws-sdk-js-${Date.now()}`,ExternalId:i.external_id,DurationSeconds:parseInt(i.duration_seconds||"3600",10)},{mfa_serial:l}=i;if(l){if(!r.mfaCodeProvider)throw new $c.CredentialsProviderError(`Profile ${e} requires multi-factor authentication, but no MFA code callback was provided.`,!1);c.SerialNumber=l,c.TokenCode=await r.mfaCodeProvider(l)}let p=await a;return r.roleAssumer(p,c)},"resolveAssumeRoleCredentials"),Fee=ke(e=>!!e&&typeof e=="object"&&typeof e.credential_process=="string","isProcessProfile"),Lee=ke(async(e,t)=>Promise.resolve().then(()=>mn(lm())).then(({fromProcess:r})=>r({...e,profile:t})()),"resolveProcessCredentials"),Uee=ke(async(e,t={})=>{let{fromSSO:r}=await Promise.resolve().then(()=>mn(yp()));return r({profile:e,logger:t.logger})()},"resolveSsoCredentials"),qee=ke(e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),"isSsoProfile"),iT=ke(e=>!!e&&typeof e=="object"&&typeof e.aws_access_key_id=="string"&&typeof e.aws_secret_access_key=="string"&&["undefined","string"].indexOf(typeof e.aws_session_token)>-1,"isStaticCredsProfile"),sT=ke((e,t)=>{var r;return(r=t?.logger)==null||r.debug("@aws-sdk/credential-provider-ini","resolveStaticCredentials"),Promise.resolve({accessKeyId:e.aws_access_key_id,secretAccessKey:e.aws_secret_access_key,sessionToken:e.aws_session_token,credentialScope:e.aws_credential_scope})},"resolveStaticCredentials"),jee=ke(e=>!!e&&typeof e=="object"&&typeof e.web_identity_token_file=="string"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1,"isWebIdentityProfile"),Hee=ke(async(e,t)=>Promise.resolve().then(()=>mn(fm())).then(({fromTokenFile:r})=>r({webIdentityTokenFile:e.web_identity_token_file,roleArn:e.role_arn,roleSessionName:e.role_session_name,roleAssumerWithWebIdentity:t.roleAssumerWithWebIdentity,logger:t.logger,parentClientConfig:t.parentClientConfig})()),"resolveWebIdentityCredentials"),dT=ke(async(e,t,r,n={})=>{let o=t[e];if(Object.keys(n).length>0&&iT(o))return sT(o,r);if(Dee(o))return Kee(e,t,r,n);if(iT(o))return sT(o,r);if(jee(o))return Hee(o,r);if(Fee(o))return Lee(r,e);if(qee(o))return await Uee(e,r);throw new $c.CredentialsProviderError(`Profile ${e} could not be found or parsed in shared credentials file.`)},"resolveProfileData"),Gee=ke((e={})=>async()=>{var t;(t=e.logger)==null||t.debug("@aws-sdk/credential-provider-ini","fromIni");let r=await(0,_m.parseKnownFiles)(e);return dT((0,_m.getProfileName)(e),r,e)},"fromIni")});var Pp=v((zle,vT)=>{"use strict";var $ee=Object.create,yi=Object.defineProperty,zee=Object.getOwnPropertyDescriptor,Wee=Object.getOwnPropertyNames,Vee=Object.getPrototypeOf,Bee=Object.prototype.hasOwnProperty,zc=(e,t)=>yi(e,"name",{value:t,configurable:!0}),Xee=(e,t)=>{for(var r in t)yi(e,r,{get:t[r],enumerable:!0})},pT=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Wee(t))!Bee.call(e,o)&&o!==r&&yi(e,o,{get:()=>t[o],enumerable:!(n=zee(t,o))||n.enumerable});return e},fo=(e,t,r)=>(r=e!=null?$ee(Vee(e)):{},pT(t||!e||!e.__esModule?yi(r,"default",{value:e,enumerable:!0}):r,e)),Jee=e=>pT(yi({},"__esModule",{value:!0}),e),mT={};Xee(mT,{credentialsTreatedAsExpired:()=>_T,credentialsWillNeedRefresh:()=>fT,defaultProvider:()=>tte});vT.exports=Jee(mT);var Yee=kl(),Qee=je(),_o=te(),Zee="AWS_EC2_METADATA_DISABLED",ete=zc(async e=>{var t,r;let{ENV_CMDS_FULL_URI:n,ENV_CMDS_RELATIVE_URI:o,fromContainerMetadata:i,fromInstanceMetadata:s}=await Promise.resolve().then(()=>fo(Sr()));if(process.env[o]||process.env[n]){(t=e.logger)==null||t.debug("@aws-sdk/credential-provider-node","remoteProvider::fromHttp/fromContainerMetadata");let{fromHttp:a}=await Promise.resolve().then(()=>fo(lE()));return(0,_o.chain)(a(e),i(e))}return process.env[Zee]?async()=>{throw new _o.CredentialsProviderError("EC2 Instance Metadata Service access disabled")}:((r=e.logger)==null||r.debug("@aws-sdk/credential-provider-node","remoteProvider::fromInstanceMetadata"),s(e))},"remoteProvider"),tte=zc((e={})=>(0,_o.memoize)((0,_o.chain)(...e.profile||process.env[Qee.ENV_PROFILE]?[]:[async()=>{var t;return(t=e.logger)==null||t.debug("@aws-sdk/credential-provider-node","defaultProvider::fromEnv"),(0,Yee.fromEnv)(e)()}],async()=>{var t;(t=e.logger)==null||t.debug("@aws-sdk/credential-provider-node","defaultProvider::fromSSO");let{ssoStartUrl:r,ssoAccountId:n,ssoRegion:o,ssoRoleName:i,ssoSession:s}=e;if(!r&&!n&&!o&&!i&&!s)throw new _o.CredentialsProviderError("Skipping SSO provider in default chain (inputs do not include SSO fields).");let{fromSSO:a}=await Promise.resolve().then(()=>fo(yp()));return a(e)()},async()=>{var t;(t=e.logger)==null||t.debug("@aws-sdk/credential-provider-node","defaultProvider::fromIni");let{fromIni:r}=await Promise.resolve().then(()=>fo(uT()));return r(e)()},async()=>{var t;(t=e.logger)==null||t.debug("@aws-sdk/credential-provider-node","defaultProvider::fromProcess");let{fromProcess:r}=await Promise.resolve().then(()=>fo(lm()));return r(e)()},async()=>{var t;(t=e.logger)==null||t.debug("@aws-sdk/credential-provider-node","defaultProvider::fromTokenFile");let{fromTokenFile:r}=await Promise.resolve().then(()=>fo(fm()));return r(e)()},async()=>{var t;return(t=e.logger)==null||t.debug("@aws-sdk/credential-provider-node","defaultProvider::remoteProvider"),(await ete(e))()},async()=>{throw new _o.CredentialsProviderError("Could not load credentials from any providers",!1)}),_T,fT),"defaultProvider"),fT=zc(e=>e?.expiration!==void 0,"credentialsWillNeedRefresh"),_T=zc(e=>e?.expiration!==void 0&&e.expiration.getTime()-Date.now()<3e5,"credentialsTreatedAsExpired")});var OT=v(Wc=>{"use strict";Object.defineProperty(Wc,"__esModule",{value:!0});Wc.ruleSet=void 0;var bT="required",Ut="fn",qt="argv",go="ref",gT=!0,yT="isSet",Si="booleanEquals",vo="error",hi="endpoint",cr="tree",vm="PartitionResult",hT={[bT]:!1,type:"String"},ST={[bT]:!0,default:!1,type:"Boolean"},ET={[go]:"Endpoint"},AT={[Ut]:Si,[qt]:[{[go]:"UseFIPS"},!0]},IT={[Ut]:Si,[qt]:[{[go]:"UseDualStack"},!0]},Lt={},CT={[Ut]:"getAttr",[qt]:[{[go]:vm},"supportsFIPS"]},PT={[Ut]:Si,[qt]:[!0,{[Ut]:"getAttr",[qt]:[{[go]:vm},"supportsDualStack"]}]},wT=[AT],xT=[IT],RT=[{[go]:"Region"}],rte={version:"1.0",parameters:{Region:hT,UseDualStack:ST,UseFIPS:ST,Endpoint:hT},rules:[{conditions:[{[Ut]:yT,[qt]:[ET]}],rules:[{conditions:wT,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:vo},{conditions:xT,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:vo},{endpoint:{url:ET,properties:Lt,headers:Lt},type:hi}],type:cr},{conditions:[{[Ut]:yT,[qt]:RT}],rules:[{conditions:[{[Ut]:"aws.partition",[qt]:RT,assign:vm}],rules:[{conditions:[AT,IT],rules:[{conditions:[{[Ut]:Si,[qt]:[gT,CT]},PT],rules:[{endpoint:{url:"https://kms-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Lt,headers:Lt},type:hi}],type:cr},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:vo}],type:cr},{conditions:wT,rules:[{conditions:[{[Ut]:Si,[qt]:[CT,gT]}],rules:[{endpoint:{url:"https://kms-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Lt,headers:Lt},type:hi}],type:cr},{error:"FIPS is enabled but this partition does not support FIPS",type:vo}],type:cr},{conditions:xT,rules:[{conditions:[PT],rules:[{endpoint:{url:"https://kms.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Lt,headers:Lt},type:hi}],type:cr},{error:"DualStack is enabled but this partition does not support DualStack",type:vo}],type:cr},{endpoint:{url:"https://kms.{Region}.{PartitionResult#dnsSuffix}",properties:Lt,headers:Lt},type:hi}],type:cr}],type:cr},{error:"Invalid Configuration: Missing Region",type:vo}]};Wc.ruleSet=rte});var NT=v(Vc=>{"use strict";Object.defineProperty(Vc,"__esModule",{value:!0});Vc.defaultEndpointResolver=void 0;var nte=Eo(),TT=Gt(),ote=OT(),ite=(e,t={})=>(0,TT.resolveEndpoint)(ote.ruleSet,{endpointParams:e,logger:t.logger});Vc.defaultEndpointResolver=ite;TT.customEndpointFunctions.aws=nte.awsEndpointFunctions});var MT=v(Bc=>{"use strict";Object.defineProperty(Bc,"__esModule",{value:!0});Bc.getRuntimeConfig=void 0;var ste=He(),ate=z(),cte=$t(),DT=_r(),kT=Fe(),dte=Tl(),lte=NT(),ute=e=>({apiVersion:"2014-11-01",base64Decoder:e?.base64Decoder??DT.fromBase64,base64Encoder:e?.base64Encoder??DT.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??lte.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??dte.defaultKMSHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new ste.AwsSdkSigV4Signer}],logger:e?.logger??new ate.NoOpLogger,serviceId:e?.serviceId??"KMS",urlParser:e?.urlParser??cte.parseUrl,utf8Decoder:e?.utf8Decoder??kT.fromUtf8,utf8Encoder:e?.utf8Encoder??kT.toUtf8});Bc.getRuntimeConfig=ute});var LT=v(Jc=>{"use strict";Object.defineProperty(Jc,"__esModule",{value:!0});Jc.getRuntimeConfig=void 0;var pte=(Bt(),bt(Vt)),mte=pte.__importDefault(MS()),fte=He(),_te=Pp(),vte=ra(),Xc=Ke(),gte=on(),KT=Le(),Ei=Xe(),FT=It(),yte=sn(),hte=mr(),Ste=MT(),Ete=z(),Cte=an(),Pte=z(),wte=e=>{(0,Pte.emitWarningIfUnsupportedVersion)(process.version);let t=(0,Cte.resolveDefaultsModeConfig)(e),r=()=>t().then(Ete.loadConfigsForDefaultMode),n=(0,Ste.getRuntimeConfig)(e);return(0,fte.emitWarningIfUnsupportedVersion)(process.version),{...n,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??yte.calculateBodyLength,credentialDefaultProvider:e?.credentialDefaultProvider??_te.defaultProvider,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,vte.defaultUserAgent)({serviceId:n.serviceId,clientVersion:mte.default.version}),maxAttempts:e?.maxAttempts??(0,Ei.loadConfig)(KT.NODE_MAX_ATTEMPT_CONFIG_OPTIONS),region:e?.region??(0,Ei.loadConfig)(Xc.NODE_REGION_CONFIG_OPTIONS,Xc.NODE_REGION_CONFIG_FILE_OPTIONS),requestHandler:FT.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,Ei.loadConfig)({...KT.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||hte.DEFAULT_RETRY_MODE}),sha256:e?.sha256??gte.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??FT.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,Ei.loadConfig)(Xc.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS),useFipsEndpoint:e?.useFipsEndpoint??(0,Ei.loadConfig)(Xc.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS)}};Jc.getRuntimeConfig=wte});var FK=v((Yue,KK)=>{"use strict";var Qc=Object.defineProperty,xte=Object.getOwnPropertyDescriptor,Rte=Object.getOwnPropertyNames,bte=Object.prototype.hasOwnProperty,u=(e,t)=>Qc(e,"name",{value:t,configurable:!0}),Ate=(e,t)=>{for(var r in t)Qc(e,r,{get:t[r],enumerable:!0})},Ite=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Rte(t))!bte.call(e,o)&&o!==r&&Qc(e,o,{get:()=>t[o],enumerable:!(n=xte(t,o))||n.enumerable});return e},Ote=e=>Ite(Qc({},"__esModule",{value:!0}),e),$T={};Ate($T,{AlgorithmSpec:()=>qte,AlreadyExistsException:()=>JT,CancelKeyDeletionCommand:()=>Vk,CloudHsmClusterInUseException:()=>fN,CloudHsmClusterInvalidConfigurationException:()=>gN,CloudHsmClusterNotActiveException:()=>SN,CloudHsmClusterNotFoundException:()=>PN,CloudHsmClusterNotRelatedException:()=>RN,ConflictException:()=>IN,ConnectCustomKeyStoreCommand:()=>Xk,ConnectionErrorCodeType:()=>jte,ConnectionStateType:()=>Hte,CreateAliasCommand:()=>Yk,CreateCustomKeyStoreCommand:()=>Zk,CreateCustomKeyStoreRequestFilterSensitiveLog:()=>Ok,CreateGrantCommand:()=>tM,CreateKeyCommand:()=>nM,CustomKeyStoreHasCMKsException:()=>JD,CustomKeyStoreInvalidStateException:()=>NN,CustomKeyStoreNameInUseException:()=>$N,CustomKeyStoreNotFoundException:()=>MN,CustomKeyStoreType:()=>Gte,CustomKeyStoresListEntryFilterSensitiveLog:()=>Nk,CustomerMasterKeySpec:()=>Wte,DataKeyPairSpec:()=>nre,DataKeySpec:()=>ore,DecryptCommand:()=>iM,DecryptResponseFilterSensitiveLog:()=>Dk,DeleteAliasCommand:()=>aM,DeleteCustomKeyStoreCommand:()=>dM,DeleteImportedKeyMaterialCommand:()=>uM,DependencyTimeoutException:()=>ZT,DescribeCustomKeyStoresCommand:()=>Sm,DescribeCustomKeyStoresResponseFilterSensitiveLog:()=>kk,DescribeKeyCommand:()=>fM,DisableKeyCommand:()=>vM,DisableKeyRotationCommand:()=>yM,DisabledException:()=>PD,DisconnectCustomKeyStoreCommand:()=>SM,DryRunOperationException:()=>RD,EnableKeyCommand:()=>CM,EnableKeyRotationCommand:()=>wM,EncryptCommand:()=>RM,EncryptRequestFilterSensitiveLog:()=>Mk,EncryptionAlgorithmSpec:()=>Jte,ExpirationModelType:()=>Yte,ExpiredImportTokenException:()=>fk,GenerateDataKeyCommand:()=>AM,GenerateDataKeyPairCommand:()=>OM,GenerateDataKeyPairResponseFilterSensitiveLog:()=>Fk,GenerateDataKeyPairWithoutPlaintextCommand:()=>NM,GenerateDataKeyResponseFilterSensitiveLog:()=>Kk,GenerateDataKeyWithoutPlaintextCommand:()=>kM,GenerateMacCommand:()=>KM,GenerateMacRequestFilterSensitiveLog:()=>Lk,GenerateRandomCommand:()=>LM,GenerateRandomResponseFilterSensitiveLog:()=>Uk,GetKeyPolicyCommand:()=>qM,GetKeyRotationStatusCommand:()=>HM,GetParametersForImportCommand:()=>$M,GetParametersForImportResponseFilterSensitiveLog:()=>qk,GetPublicKeyCommand:()=>WM,GrantOperation:()=>zte,ImportKeyMaterialCommand:()=>BM,IncorrectKeyException:()=>ZD,IncorrectKeyMaterialException:()=>gk,IncorrectTrustAnchorException:()=>VN,InvalidAliasNameException:()=>LN,InvalidArnException:()=>rN,InvalidCiphertextException:()=>rk,InvalidGrantIdException:()=>Pk,InvalidGrantTokenException:()=>ID,InvalidImportTokenException:()=>Sk,InvalidKeyUsageException:()=>ik,InvalidMarkerException:()=>uk,KMS:()=>MK,KMSClient:()=>jt,KMSInternalException:()=>iN,KMSInvalidMacException:()=>Rk,KMSInvalidSignatureException:()=>Ik,KMSInvalidStateException:()=>cN,KMSServiceException:()=>L,KeyEncryptionMechanism:()=>ire,KeyManagerType:()=>Qte,KeySpec:()=>Vte,KeyState:()=>Zte,KeyUnavailableException:()=>ck,KeyUsageType:()=>Bte,LimitExceededException:()=>jN,ListAliasesCommand:()=>Em,ListGrantsCommand:()=>Cm,ListKeyPoliciesCommand:()=>Pm,ListKeyRotationsCommand:()=>wm,ListKeysCommand:()=>xm,ListResourceTagsCommand:()=>Rm,ListRetirableGrantsCommand:()=>bm,MacAlgorithmSpec:()=>ere,MalformedPolicyDocumentException:()=>ND,MessageType:()=>cre,MultiRegionKeyType:()=>tre,NotFoundException:()=>uN,OriginType:()=>Xte,PutKeyPolicyCommand:()=>nK,ReEncryptCommand:()=>iK,ReplicateKeyCommand:()=>aK,RetireGrantCommand:()=>dK,RevokeGrantCommand:()=>uK,RotateKeyOnDemandCommand:()=>mK,RotationType:()=>are,ScheduleKeyDeletionCommand:()=>_K,SignCommand:()=>gK,SignRequestFilterSensitiveLog:()=>jk,SigningAlgorithmSpec:()=>rre,TagException:()=>MD,TagResourceCommand:()=>hK,UnsupportedOperationException:()=>LD,UntagResourceCommand:()=>EK,UpdateAliasCommand:()=>PK,UpdateCustomKeyStoreCommand:()=>xK,UpdateCustomKeyStoreRequestFilterSensitiveLog:()=>Hk,UpdateKeyDescriptionCommand:()=>bK,UpdatePrimaryRegionCommand:()=>IK,VerifyCommand:()=>TK,VerifyMacCommand:()=>DK,VerifyMacRequestFilterSensitiveLog:()=>$k,VerifyRequestFilterSensitiveLog:()=>Gk,WrappingKeySpec:()=>sre,XksKeyAlreadyInUseException:()=>jD,XksKeyInvalidConfigurationException:()=>$D,XksKeyNotFoundException:()=>VD,XksProxyAuthenticationCredentialTypeFilterSensitiveLog:()=>ym,XksProxyConfigurationTypeFilterSensitiveLog:()=>Tk,XksProxyConnectivityType:()=>$te,XksProxyIncorrectAuthenticationCredentialException:()=>JN,XksProxyInvalidConfigurationException:()=>ZN,XksProxyInvalidResponseException:()=>rD,XksProxyUriEndpointInUseException:()=>iD,XksProxyUriInUseException:()=>cD,XksProxyUriUnreachableException:()=>uD,XksProxyVpcEndpointServiceInUseException:()=>fD,XksProxyVpcEndpointServiceInvalidConfigurationException:()=>gD,XksProxyVpcEndpointServiceNotFoundException:()=>SD,__Client:()=>d.Client,paginateDescribeCustomKeyStores:()=>qie,paginateListAliases:()=>jie,paginateListGrants:()=>Hie,paginateListKeyPolicies:()=>Gie,paginateListKeyRotations:()=>$ie,paginateListKeys:()=>zie,paginateListResourceTags:()=>Wie,paginateListRetirableGrants:()=>Vie});KK.exports=Ote($T);var UT=Ai(),Tte=Oi(),Nte=Ni(),qT=Li(),Dte=Ke(),Rt=Pe(),kte=tn(),N=At(),jT=Le(),HT=Tl(),Mte=u(e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"kms"}),"resolveClientEndpointParameters"),k={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},Kte=LT(),GT=ua(),gm=ae(),d=z(),Fte=u(e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(o){let i=t.findIndex(s=>s.schemeId===o.schemeId);i===-1?t.push(o):t.splice(i,1,o)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}},"getHttpAuthExtensionConfiguration"),Lte=u(e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),"resolveHttpAuthRuntimeConfig"),Yc=u(e=>e,"asPartial"),Ute=u((e,t)=>{let r={...Yc((0,GT.getAwsRegionExtensionConfiguration)(e)),...Yc((0,d.getDefaultExtensionConfiguration)(e)),...Yc((0,gm.getHttpHandlerExtensionConfiguration)(e)),...Yc(Fte(e))};return t.forEach(n=>n.configure(r)),{...e,...(0,GT.resolveAwsRegionExtensionConfiguration)(r),...(0,d.resolveDefaultRuntimeConfig)(r),...(0,gm.resolveHttpHandlerRuntimeConfig)(r),...Lte(r)}},"resolveRuntimeExtensions"),zT=class extends d.Client{constructor(...[t]){let r=(0,Kte.getRuntimeConfig)(t||{}),n=Mte(r),o=(0,Dte.resolveRegionConfig)(n),i=(0,N.resolveEndpointConfig)(o),s=(0,jT.resolveRetryConfig)(i),a=(0,UT.resolveHostHeaderConfig)(s),c=(0,qT.resolveUserAgentConfig)(a),l=(0,HT.resolveHttpAuthSchemeConfig)(c),p=Ute(l,t?.extensions||[]);super(p),this.config=p,this.middlewareStack.use((0,jT.getRetryPlugin)(this.config)),this.middlewareStack.use((0,kte.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,UT.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,Tte.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,Nte.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,qT.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,Rt.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:this.getDefaultHttpAuthSchemeParametersProvider(),identityProviderConfigProvider:this.getIdentityProviderConfigProvider()})),this.middlewareStack.use((0,Rt.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}getDefaultHttpAuthSchemeParametersProvider(){return HT.defaultKMSHttpAuthSchemeParametersProvider}getIdentityProviderConfigProvider(){return async t=>new Rt.DefaultIdentityProviderConfig({"aws.auth#sigv4":t.credentials})}};u(zT,"KMSClient");var jt=zT,M=zt(),Yle=qe(),j=He(),WT=class VT extends d.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,VT.prototype)}};u(WT,"KMSServiceException");var L=WT,qte={RSAES_OAEP_SHA_1:"RSAES_OAEP_SHA_1",RSAES_OAEP_SHA_256:"RSAES_OAEP_SHA_256",RSAES_PKCS1_V1_5:"RSAES_PKCS1_V1_5",RSA_AES_KEY_WRAP_SHA_1:"RSA_AES_KEY_WRAP_SHA_1",RSA_AES_KEY_WRAP_SHA_256:"RSA_AES_KEY_WRAP_SHA_256"},BT=class XT extends L{constructor(t){super({name:"AlreadyExistsException",$fault:"client",...t}),this.name="AlreadyExistsException",this.$fault="client",Object.setPrototypeOf(this,XT.prototype)}};u(BT,"AlreadyExistsException");var JT=BT,YT=class QT extends L{constructor(t){super({name:"DependencyTimeoutException",$fault:"server",...t}),this.name="DependencyTimeoutException",this.$fault="server",Object.setPrototypeOf(this,QT.prototype)}};u(YT,"DependencyTimeoutException");var ZT=YT,eN=class tN extends L{constructor(t){super({name:"InvalidArnException",$fault:"client",...t}),this.name="InvalidArnException",this.$fault="client",Object.setPrototypeOf(this,tN.prototype)}};u(eN,"InvalidArnException");var rN=eN,nN=class oN extends L{constructor(t){super({name:"KMSInternalException",$fault:"server",...t}),this.name="KMSInternalException",this.$fault="server",Object.setPrototypeOf(this,oN.prototype)}};u(nN,"KMSInternalException");var iN=nN,sN=class aN extends L{constructor(t){super({name:"KMSInvalidStateException",$fault:"client",...t}),this.name="KMSInvalidStateException",this.$fault="client",Object.setPrototypeOf(this,aN.prototype)}};u(sN,"KMSInvalidStateException");var cN=sN,dN=class lN extends L{constructor(t){super({name:"NotFoundException",$fault:"client",...t}),this.name="NotFoundException",this.$fault="client",Object.setPrototypeOf(this,lN.prototype)}};u(dN,"NotFoundException");var uN=dN,pN=class mN extends L{constructor(t){super({name:"CloudHsmClusterInUseException",$fault:"client",...t}),this.name="CloudHsmClusterInUseException",this.$fault="client",Object.setPrototypeOf(this,mN.prototype)}};u(pN,"CloudHsmClusterInUseException");var fN=pN,_N=class vN extends L{constructor(t){super({name:"CloudHsmClusterInvalidConfigurationException",$fault:"client",...t}),this.name="CloudHsmClusterInvalidConfigurationException",this.$fault="client",Object.setPrototypeOf(this,vN.prototype)}};u(_N,"CloudHsmClusterInvalidConfigurationException");var gN=_N,yN=class hN extends L{constructor(t){super({name:"CloudHsmClusterNotActiveException",$fault:"client",...t}),this.name="CloudHsmClusterNotActiveException",this.$fault="client",Object.setPrototypeOf(this,hN.prototype)}};u(yN,"CloudHsmClusterNotActiveException");var SN=yN,EN=class CN extends L{constructor(t){super({name:"CloudHsmClusterNotFoundException",$fault:"client",...t}),this.name="CloudHsmClusterNotFoundException",this.$fault="client",Object.setPrototypeOf(this,CN.prototype)}};u(EN,"CloudHsmClusterNotFoundException");var PN=EN,wN=class xN extends L{constructor(t){super({name:"CloudHsmClusterNotRelatedException",$fault:"client",...t}),this.name="CloudHsmClusterNotRelatedException",this.$fault="client",Object.setPrototypeOf(this,xN.prototype)}};u(wN,"CloudHsmClusterNotRelatedException");var RN=wN,bN=class AN extends L{constructor(t){super({name:"ConflictException",$fault:"client",...t}),this.name="ConflictException",this.$fault="client",Object.setPrototypeOf(this,AN.prototype)}};u(bN,"ConflictException");var IN=bN,ON=class TN extends L{constructor(t){super({name:"CustomKeyStoreInvalidStateException",$fault:"client",...t}),this.name="CustomKeyStoreInvalidStateException",this.$fault="client",Object.setPrototypeOf(this,TN.prototype)}};u(ON,"CustomKeyStoreInvalidStateException");var NN=ON,DN=class kN extends L{constructor(t){super({name:"CustomKeyStoreNotFoundException",$fault:"client",...t}),this.name="CustomKeyStoreNotFoundException",this.$fault="client",Object.setPrototypeOf(this,kN.prototype)}};u(DN,"CustomKeyStoreNotFoundException");var MN=DN,jte={CLUSTER_NOT_FOUND:"CLUSTER_NOT_FOUND",INSUFFICIENT_CLOUDHSM_HSMS:"INSUFFICIENT_CLOUDHSM_HSMS",INSUFFICIENT_FREE_ADDRESSES_IN_SUBNET:"INSUFFICIENT_FREE_ADDRESSES_IN_SUBNET",INTERNAL_ERROR:"INTERNAL_ERROR",INVALID_CREDENTIALS:"INVALID_CREDENTIALS",NETWORK_ERRORS:"NETWORK_ERRORS",SUBNET_NOT_FOUND:"SUBNET_NOT_FOUND",USER_LOCKED_OUT:"USER_LOCKED_OUT",USER_LOGGED_IN:"USER_LOGGED_IN",USER_NOT_FOUND:"USER_NOT_FOUND",XKS_PROXY_ACCESS_DENIED:"XKS_PROXY_ACCESS_DENIED",XKS_PROXY_INVALID_CONFIGURATION:"XKS_PROXY_INVALID_CONFIGURATION",XKS_PROXY_INVALID_RESPONSE:"XKS_PROXY_INVALID_RESPONSE",XKS_PROXY_INVALID_TLS_CONFIGURATION:"XKS_PROXY_INVALID_TLS_CONFIGURATION",XKS_PROXY_NOT_REACHABLE:"XKS_PROXY_NOT_REACHABLE",XKS_PROXY_TIMED_OUT:"XKS_PROXY_TIMED_OUT",XKS_VPC_ENDPOINT_SERVICE_INVALID_CONFIGURATION:"XKS_VPC_ENDPOINT_SERVICE_INVALID_CONFIGURATION",XKS_VPC_ENDPOINT_SERVICE_NOT_FOUND:"XKS_VPC_ENDPOINT_SERVICE_NOT_FOUND"},Hte={CONNECTED:"CONNECTED",CONNECTING:"CONNECTING",DISCONNECTED:"DISCONNECTED",DISCONNECTING:"DISCONNECTING",FAILED:"FAILED"},KN=class FN extends L{constructor(t){super({name:"InvalidAliasNameException",$fault:"client",...t}),this.name="InvalidAliasNameException",this.$fault="client",Object.setPrototypeOf(this,FN.prototype)}};u(KN,"InvalidAliasNameException");var LN=KN,UN=class qN extends L{constructor(t){super({name:"LimitExceededException",$fault:"client",...t}),this.name="LimitExceededException",this.$fault="client",Object.setPrototypeOf(this,qN.prototype)}};u(UN,"LimitExceededException");var jN=UN,Gte={AWS_CLOUDHSM:"AWS_CLOUDHSM",EXTERNAL_KEY_STORE:"EXTERNAL_KEY_STORE"},$te={PUBLIC_ENDPOINT:"PUBLIC_ENDPOINT",VPC_ENDPOINT_SERVICE:"VPC_ENDPOINT_SERVICE"},HN=class GN extends L{constructor(t){super({name:"CustomKeyStoreNameInUseException",$fault:"client",...t}),this.name="CustomKeyStoreNameInUseException",this.$fault="client",Object.setPrototypeOf(this,GN.prototype)}};u(HN,"CustomKeyStoreNameInUseException");var $N=HN,zN=class WN extends L{constructor(t){super({name:"IncorrectTrustAnchorException",$fault:"client",...t}),this.name="IncorrectTrustAnchorException",this.$fault="client",Object.setPrototypeOf(this,WN.prototype)}};u(zN,"IncorrectTrustAnchorException");var VN=zN,BN=class XN extends L{constructor(t){super({name:"XksProxyIncorrectAuthenticationCredentialException",$fault:"client",...t}),this.name="XksProxyIncorrectAuthenticationCredentialException",this.$fault="client",Object.setPrototypeOf(this,XN.prototype)}};u(BN,"XksProxyIncorrectAuthenticationCredentialException");var JN=BN,YN=class QN extends L{constructor(t){super({name:"XksProxyInvalidConfigurationException",$fault:"client",...t}),this.name="XksProxyInvalidConfigurationException",this.$fault="client",Object.setPrototypeOf(this,QN.prototype)}};u(YN,"XksProxyInvalidConfigurationException");var ZN=YN,eD=class tD extends L{constructor(t){super({name:"XksProxyInvalidResponseException",$fault:"client",...t}),this.name="XksProxyInvalidResponseException",this.$fault="client",Object.setPrototypeOf(this,tD.prototype)}};u(eD,"XksProxyInvalidResponseException");var rD=eD,nD=class oD extends L{constructor(t){super({name:"XksProxyUriEndpointInUseException",$fault:"client",...t}),this.name="XksProxyUriEndpointInUseException",this.$fault="client",Object.setPrototypeOf(this,oD.prototype)}};u(nD,"XksProxyUriEndpointInUseException");var iD=nD,sD=class aD extends L{constructor(t){super({name:"XksProxyUriInUseException",$fault:"client",...t}),this.name="XksProxyUriInUseException",this.$fault="client",Object.setPrototypeOf(this,aD.prototype)}};u(sD,"XksProxyUriInUseException");var cD=sD,dD=class lD extends L{constructor(t){super({name:"XksProxyUriUnreachableException",$fault:"client",...t}),this.name="XksProxyUriUnreachableException",this.$fault="client",Object.setPrototypeOf(this,lD.prototype)}};u(dD,"XksProxyUriUnreachableException");var uD=dD,pD=class mD extends L{constructor(t){super({name:"XksProxyVpcEndpointServiceInUseException",$fault:"client",...t}),this.name="XksProxyVpcEndpointServiceInUseException",this.$fault="client",Object.setPrototypeOf(this,mD.prototype)}};u(pD,"XksProxyVpcEndpointServiceInUseException");var fD=pD,_D=class vD extends L{constructor(t){super({name:"XksProxyVpcEndpointServiceInvalidConfigurationException",$fault:"client",...t}),this.name="XksProxyVpcEndpointServiceInvalidConfigurationException",this.$fault="client",Object.setPrototypeOf(this,vD.prototype)}};u(_D,"XksProxyVpcEndpointServiceInvalidConfigurationException");var gD=_D,yD=class hD extends L{constructor(t){super({name:"XksProxyVpcEndpointServiceNotFoundException",$fault:"client",...t}),this.name="XksProxyVpcEndpointServiceNotFoundException",this.$fault="client",Object.setPrototypeOf(this,hD.prototype)}};u(yD,"XksProxyVpcEndpointServiceNotFoundException");var SD=yD,zte={CreateGrant:"CreateGrant",Decrypt:"Decrypt",DescribeKey:"DescribeKey",Encrypt:"Encrypt",GenerateDataKey:"GenerateDataKey",GenerateDataKeyPair:"GenerateDataKeyPair",GenerateDataKeyPairWithoutPlaintext:"GenerateDataKeyPairWithoutPlaintext",GenerateDataKeyWithoutPlaintext:"GenerateDataKeyWithoutPlaintext",GenerateMac:"GenerateMac",GetPublicKey:"GetPublicKey",ReEncryptFrom:"ReEncryptFrom",ReEncryptTo:"ReEncryptTo",RetireGrant:"RetireGrant",Sign:"Sign",Verify:"Verify",VerifyMac:"VerifyMac"},ED=class CD extends L{constructor(t){super({name:"DisabledException",$fault:"client",...t}),this.name="DisabledException",this.$fault="client",Object.setPrototypeOf(this,CD.prototype)}};u(ED,"DisabledException");var PD=ED,wD=class xD extends L{constructor(t){super({name:"DryRunOperationException",$fault:"client",...t}),this.name="DryRunOperationException",this.$fault="client",Object.setPrototypeOf(this,xD.prototype)}};u(wD,"DryRunOperationException");var RD=wD,bD=class AD extends L{constructor(t){super({name:"InvalidGrantTokenException",$fault:"client",...t}),this.name="InvalidGrantTokenException",this.$fault="client",Object.setPrototypeOf(this,AD.prototype)}};u(bD,"InvalidGrantTokenException");var ID=bD,Wte={ECC_NIST_P256:"ECC_NIST_P256",ECC_NIST_P384:"ECC_NIST_P384",ECC_NIST_P521:"ECC_NIST_P521",ECC_SECG_P256K1:"ECC_SECG_P256K1",HMAC_224:"HMAC_224",HMAC_256:"HMAC_256",HMAC_384:"HMAC_384",HMAC_512:"HMAC_512",RSA_2048:"RSA_2048",RSA_3072:"RSA_3072",RSA_4096:"RSA_4096",SM2:"SM2",SYMMETRIC_DEFAULT:"SYMMETRIC_DEFAULT"},Vte={ECC_NIST_P256:"ECC_NIST_P256",ECC_NIST_P384:"ECC_NIST_P384",ECC_NIST_P521:"ECC_NIST_P521",ECC_SECG_P256K1:"ECC_SECG_P256K1",HMAC_224:"HMAC_224",HMAC_256:"HMAC_256",HMAC_384:"HMAC_384",HMAC_512:"HMAC_512",RSA_2048:"RSA_2048",RSA_3072:"RSA_3072",RSA_4096:"RSA_4096",SM2:"SM2",SYMMETRIC_DEFAULT:"SYMMETRIC_DEFAULT"},Bte={ENCRYPT_DECRYPT:"ENCRYPT_DECRYPT",GENERATE_VERIFY_MAC:"GENERATE_VERIFY_MAC",SIGN_VERIFY:"SIGN_VERIFY"},Xte={AWS_CLOUDHSM:"AWS_CLOUDHSM",AWS_KMS:"AWS_KMS",EXTERNAL:"EXTERNAL",EXTERNAL_KEY_STORE:"EXTERNAL_KEY_STORE"},Jte={RSAES_OAEP_SHA_1:"RSAES_OAEP_SHA_1",RSAES_OAEP_SHA_256:"RSAES_OAEP_SHA_256",SM2PKE:"SM2PKE",SYMMETRIC_DEFAULT:"SYMMETRIC_DEFAULT"},Yte={KEY_MATERIAL_DOES_NOT_EXPIRE:"KEY_MATERIAL_DOES_NOT_EXPIRE",KEY_MATERIAL_EXPIRES:"KEY_MATERIAL_EXPIRES"},Qte={AWS:"AWS",CUSTOMER:"CUSTOMER"},Zte={Creating:"Creating",Disabled:"Disabled",Enabled:"Enabled",PendingDeletion:"PendingDeletion",PendingImport:"PendingImport",PendingReplicaDeletion:"PendingReplicaDeletion",Unavailable:"Unavailable",Updating:"Updating"},ere={HMAC_SHA_224:"HMAC_SHA_224",HMAC_SHA_256:"HMAC_SHA_256",HMAC_SHA_384:"HMAC_SHA_384",HMAC_SHA_512:"HMAC_SHA_512"},tre={PRIMARY:"PRIMARY",REPLICA:"REPLICA"},rre={ECDSA_SHA_256:"ECDSA_SHA_256",ECDSA_SHA_384:"ECDSA_SHA_384",ECDSA_SHA_512:"ECDSA_SHA_512",RSASSA_PKCS1_V1_5_SHA_256:"RSASSA_PKCS1_V1_5_SHA_256",RSASSA_PKCS1_V1_5_SHA_384:"RSASSA_PKCS1_V1_5_SHA_384",RSASSA_PKCS1_V1_5_SHA_512:"RSASSA_PKCS1_V1_5_SHA_512",RSASSA_PSS_SHA_256:"RSASSA_PSS_SHA_256",RSASSA_PSS_SHA_384:"RSASSA_PSS_SHA_384",RSASSA_PSS_SHA_512:"RSASSA_PSS_SHA_512",SM2DSA:"SM2DSA"},OD=class TD extends L{constructor(t){super({name:"MalformedPolicyDocumentException",$fault:"client",...t}),this.name="MalformedPolicyDocumentException",this.$fault="client",Object.setPrototypeOf(this,TD.prototype)}};u(OD,"MalformedPolicyDocumentException");var ND=OD,DD=class kD extends L{constructor(t){super({name:"TagException",$fault:"client",...t}),this.name="TagException",this.$fault="client",Object.setPrototypeOf(this,kD.prototype)}};u(DD,"TagException");var MD=DD,KD=class FD extends L{constructor(t){super({name:"UnsupportedOperationException",$fault:"client",...t}),this.name="UnsupportedOperationException",this.$fault="client",Object.setPrototypeOf(this,FD.prototype)}};u(KD,"UnsupportedOperationException");var LD=KD,UD=class qD extends L{constructor(t){super({name:"XksKeyAlreadyInUseException",$fault:"client",...t}),this.name="XksKeyAlreadyInUseException",this.$fault="client",Object.setPrototypeOf(this,qD.prototype)}};u(UD,"XksKeyAlreadyInUseException");var jD=UD,HD=class GD extends L{constructor(t){super({name:"XksKeyInvalidConfigurationException",$fault:"client",...t}),this.name="XksKeyInvalidConfigurationException",this.$fault="client",Object.setPrototypeOf(this,GD.prototype)}};u(HD,"XksKeyInvalidConfigurationException");var $D=HD,zD=class WD extends L{constructor(t){super({name:"XksKeyNotFoundException",$fault:"client",...t}),this.name="XksKeyNotFoundException",this.$fault="client",Object.setPrototypeOf(this,WD.prototype)}};u(zD,"XksKeyNotFoundException");var VD=zD,BD=class XD extends L{constructor(t){super({name:"CustomKeyStoreHasCMKsException",$fault:"client",...t}),this.name="CustomKeyStoreHasCMKsException",this.$fault="client",Object.setPrototypeOf(this,XD.prototype)}};u(BD,"CustomKeyStoreHasCMKsException");var JD=BD,nre={ECC_NIST_P256:"ECC_NIST_P256",ECC_NIST_P384:"ECC_NIST_P384",ECC_NIST_P521:"ECC_NIST_P521",ECC_SECG_P256K1:"ECC_SECG_P256K1",RSA_2048:"RSA_2048",RSA_3072:"RSA_3072",RSA_4096:"RSA_4096",SM2:"SM2"},ore={AES_128:"AES_128",AES_256:"AES_256"},ire={RSAES_OAEP_SHA_256:"RSAES_OAEP_SHA_256"},YD=class QD extends L{constructor(t){super({name:"IncorrectKeyException",$fault:"client",...t}),this.name="IncorrectKeyException",this.$fault="client",Object.setPrototypeOf(this,QD.prototype)}};u(YD,"IncorrectKeyException");var ZD=YD,ek=class tk extends L{constructor(t){super({name:"InvalidCiphertextException",$fault:"client",...t}),this.name="InvalidCiphertextException",this.$fault="client",Object.setPrototypeOf(this,tk.prototype)}};u(ek,"InvalidCiphertextException");var rk=ek,nk=class ok extends L{constructor(t){super({name:"InvalidKeyUsageException",$fault:"client",...t}),this.name="InvalidKeyUsageException",this.$fault="client",Object.setPrototypeOf(this,ok.prototype)}};u(nk,"InvalidKeyUsageException");var ik=nk,sk=class ak extends L{constructor(t){super({name:"KeyUnavailableException",$fault:"server",...t}),this.name="KeyUnavailableException",this.$fault="server",Object.setPrototypeOf(this,ak.prototype)}};u(sk,"KeyUnavailableException");var ck=sk,dk=class lk extends L{constructor(t){super({name:"InvalidMarkerException",$fault:"client",...t}),this.name="InvalidMarkerException",this.$fault="client",Object.setPrototypeOf(this,lk.prototype)}};u(dk,"InvalidMarkerException");var uk=dk,pk=class mk extends L{constructor(t){super({name:"ExpiredImportTokenException",$fault:"client",...t}),this.name="ExpiredImportTokenException",this.$fault="client",Object.setPrototypeOf(this,mk.prototype)}};u(pk,"ExpiredImportTokenException");var fk=pk,sre={RSA_2048:"RSA_2048",RSA_3072:"RSA_3072",RSA_4096:"RSA_4096"},_k=class vk extends L{constructor(t){super({name:"IncorrectKeyMaterialException",$fault:"client",...t}),this.name="IncorrectKeyMaterialException",this.$fault="client",Object.setPrototypeOf(this,vk.prototype)}};u(_k,"IncorrectKeyMaterialException");var gk=_k,yk=class hk extends L{constructor(t){super({name:"InvalidImportTokenException",$fault:"client",...t}),this.name="InvalidImportTokenException",this.$fault="client",Object.setPrototypeOf(this,hk.prototype)}};u(yk,"InvalidImportTokenException");var Sk=yk,Ek=class Ck extends L{constructor(t){super({name:"InvalidGrantIdException",$fault:"client",...t}),this.name="InvalidGrantIdException",this.$fault="client",Object.setPrototypeOf(this,Ck.prototype)}};u(Ek,"InvalidGrantIdException");var Pk=Ek,wk=class xk extends L{constructor(t){super({name:"KMSInvalidMacException",$fault:"client",...t}),this.name="KMSInvalidMacException",this.$fault="client",Object.setPrototypeOf(this,xk.prototype)}};u(wk,"KMSInvalidMacException");var Rk=wk,bk=class Ak extends L{constructor(t){super({name:"KMSInvalidSignatureException",$fault:"client",...t}),this.name="KMSInvalidSignatureException",this.$fault="client",Object.setPrototypeOf(this,Ak.prototype)}};u(bk,"KMSInvalidSignatureException");var Ik=bk,are={AUTOMATIC:"AUTOMATIC",ON_DEMAND:"ON_DEMAND"},cre={DIGEST:"DIGEST",RAW:"RAW"},ym=u(e=>({...e,...e.AccessKeyId&&{AccessKeyId:d.SENSITIVE_STRING},...e.RawSecretAccessKey&&{RawSecretAccessKey:d.SENSITIVE_STRING}}),"XksProxyAuthenticationCredentialTypeFilterSensitiveLog"),Ok=u(e=>({...e,...e.KeyStorePassword&&{KeyStorePassword:d.SENSITIVE_STRING},...e.XksProxyAuthenticationCredential&&{XksProxyAuthenticationCredential:ym(e.XksProxyAuthenticationCredential)}}),"CreateCustomKeyStoreRequestFilterSensitiveLog"),Tk=u(e=>({...e,...e.AccessKeyId&&{AccessKeyId:d.SENSITIVE_STRING}}),"XksProxyConfigurationTypeFilterSensitiveLog"),Nk=u(e=>({...e,...e.XksProxyConfiguration&&{XksProxyConfiguration:Tk(e.XksProxyConfiguration)}}),"CustomKeyStoresListEntryFilterSensitiveLog"),Dk=u(e=>({...e,...e.Plaintext&&{Plaintext:d.SENSITIVE_STRING}}),"DecryptResponseFilterSensitiveLog"),kk=u(e=>({...e,...e.CustomKeyStores&&{CustomKeyStores:e.CustomKeyStores.map(t=>Nk(t))}}),"DescribeCustomKeyStoresResponseFilterSensitiveLog"),Mk=u(e=>({...e,...e.Plaintext&&{Plaintext:d.SENSITIVE_STRING}}),"EncryptRequestFilterSensitiveLog"),Kk=u(e=>({...e,...e.Plaintext&&{Plaintext:d.SENSITIVE_STRING}}),"GenerateDataKeyResponseFilterSensitiveLog"),Fk=u(e=>({...e,...e.PrivateKeyPlaintext&&{PrivateKeyPlaintext:d.SENSITIVE_STRING}}),"GenerateDataKeyPairResponseFilterSensitiveLog"),Lk=u(e=>({...e,...e.Message&&{Message:d.SENSITIVE_STRING}}),"GenerateMacRequestFilterSensitiveLog"),Uk=u(e=>({...e,...e.Plaintext&&{Plaintext:d.SENSITIVE_STRING}}),"GenerateRandomResponseFilterSensitiveLog"),qk=u(e=>({...e,...e.PublicKey&&{PublicKey:d.SENSITIVE_STRING}}),"GetParametersForImportResponseFilterSensitiveLog"),jk=u(e=>({...e,...e.Message&&{Message:d.SENSITIVE_STRING}}),"SignRequestFilterSensitiveLog"),Hk=u(e=>({...e,...e.KeyStorePassword&&{KeyStorePassword:d.SENSITIVE_STRING},...e.XksProxyAuthenticationCredential&&{XksProxyAuthenticationCredential:ym(e.XksProxyAuthenticationCredential)}}),"UpdateCustomKeyStoreRequestFilterSensitiveLog"),Gk=u(e=>({...e,...e.Message&&{Message:d.SENSITIVE_STRING}}),"VerifyRequestFilterSensitiveLog"),$k=u(e=>({...e,...e.Message&&{Message:d.SENSITIVE_STRING}}),"VerifyMacRequestFilterSensitiveLog"),dre=u(async(e,t)=>{let r=D("CancelKeyDeletion"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_CancelKeyDeletionCommand"),lre=u(async(e,t)=>{let r=D("ConnectCustomKeyStore"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_ConnectCustomKeyStoreCommand"),ure=u(async(e,t)=>{let r=D("CreateAlias"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_CreateAliasCommand"),pre=u(async(e,t)=>{let r=D("CreateCustomKeyStore"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_CreateCustomKeyStoreCommand"),mre=u(async(e,t)=>{let r=D("CreateGrant"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_CreateGrantCommand"),fre=u(async(e,t)=>{let r=D("CreateKey"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_CreateKeyCommand"),_re=u(async(e,t)=>{let r=D("Decrypt"),n;return n=JSON.stringify(Zoe(e,t)),F(t,r,"/",void 0,n)},"se_DecryptCommand"),vre=u(async(e,t)=>{let r=D("DeleteAlias"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_DeleteAliasCommand"),gre=u(async(e,t)=>{let r=D("DeleteCustomKeyStore"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_DeleteCustomKeyStoreCommand"),yre=u(async(e,t)=>{let r=D("DeleteImportedKeyMaterial"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_DeleteImportedKeyMaterialCommand"),hre=u(async(e,t)=>{let r=D("DescribeCustomKeyStores"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_DescribeCustomKeyStoresCommand"),Sre=u(async(e,t)=>{let r=D("DescribeKey"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_DescribeKeyCommand"),Ere=u(async(e,t)=>{let r=D("DisableKey"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_DisableKeyCommand"),Cre=u(async(e,t)=>{let r=D("DisableKeyRotation"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_DisableKeyRotationCommand"),Pre=u(async(e,t)=>{let r=D("DisconnectCustomKeyStore"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_DisconnectCustomKeyStoreCommand"),wre=u(async(e,t)=>{let r=D("EnableKey"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_EnableKeyCommand"),xre=u(async(e,t)=>{let r=D("EnableKeyRotation"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_EnableKeyRotationCommand"),Rre=u(async(e,t)=>{let r=D("Encrypt"),n;return n=JSON.stringify(eie(e,t)),F(t,r,"/",void 0,n)},"se_EncryptCommand"),bre=u(async(e,t)=>{let r=D("GenerateDataKey"),n;return n=JSON.stringify(rie(e,t)),F(t,r,"/",void 0,n)},"se_GenerateDataKeyCommand"),Are=u(async(e,t)=>{let r=D("GenerateDataKeyPair"),n;return n=JSON.stringify(tie(e,t)),F(t,r,"/",void 0,n)},"se_GenerateDataKeyPairCommand"),Ire=u(async(e,t)=>{let r=D("GenerateDataKeyPairWithoutPlaintext"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_GenerateDataKeyPairWithoutPlaintextCommand"),Ore=u(async(e,t)=>{let r=D("GenerateDataKeyWithoutPlaintext"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_GenerateDataKeyWithoutPlaintextCommand"),Tre=u(async(e,t)=>{let r=D("GenerateMac"),n;return n=JSON.stringify(nie(e,t)),F(t,r,"/",void 0,n)},"se_GenerateMacCommand"),Nre=u(async(e,t)=>{let r=D("GenerateRandom"),n;return n=JSON.stringify(oie(e,t)),F(t,r,"/",void 0,n)},"se_GenerateRandomCommand"),Dre=u(async(e,t)=>{let r=D("GetKeyPolicy"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_GetKeyPolicyCommand"),kre=u(async(e,t)=>{let r=D("GetKeyRotationStatus"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_GetKeyRotationStatusCommand"),Mre=u(async(e,t)=>{let r=D("GetParametersForImport"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_GetParametersForImportCommand"),Kre=u(async(e,t)=>{let r=D("GetPublicKey"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_GetPublicKeyCommand"),Fre=u(async(e,t)=>{let r=D("ImportKeyMaterial"),n;return n=JSON.stringify(iie(e,t)),F(t,r,"/",void 0,n)},"se_ImportKeyMaterialCommand"),Lre=u(async(e,t)=>{let r=D("ListAliases"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_ListAliasesCommand"),Ure=u(async(e,t)=>{let r=D("ListGrants"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_ListGrantsCommand"),qre=u(async(e,t)=>{let r=D("ListKeyPolicies"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_ListKeyPoliciesCommand"),jre=u(async(e,t)=>{let r=D("ListKeyRotations"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_ListKeyRotationsCommand"),Hre=u(async(e,t)=>{let r=D("ListKeys"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_ListKeysCommand"),Gre=u(async(e,t)=>{let r=D("ListResourceTags"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_ListResourceTagsCommand"),$re=u(async(e,t)=>{let r=D("ListRetirableGrants"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_ListRetirableGrantsCommand"),zre=u(async(e,t)=>{let r=D("PutKeyPolicy"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_PutKeyPolicyCommand"),Wre=u(async(e,t)=>{let r=D("ReEncrypt"),n;return n=JSON.stringify(sie(e,t)),F(t,r,"/",void 0,n)},"se_ReEncryptCommand"),Vre=u(async(e,t)=>{let r=D("ReplicateKey"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_ReplicateKeyCommand"),Bre=u(async(e,t)=>{let r=D("RetireGrant"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_RetireGrantCommand"),Xre=u(async(e,t)=>{let r=D("RevokeGrant"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_RevokeGrantCommand"),Jre=u(async(e,t)=>{let r=D("RotateKeyOnDemand"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_RotateKeyOnDemandCommand"),Yre=u(async(e,t)=>{let r=D("ScheduleKeyDeletion"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_ScheduleKeyDeletionCommand"),Qre=u(async(e,t)=>{let r=D("Sign"),n;return n=JSON.stringify(aie(e,t)),F(t,r,"/",void 0,n)},"se_SignCommand"),Zre=u(async(e,t)=>{let r=D("TagResource"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_TagResourceCommand"),ene=u(async(e,t)=>{let r=D("UntagResource"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_UntagResourceCommand"),tne=u(async(e,t)=>{let r=D("UpdateAlias"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_UpdateAliasCommand"),rne=u(async(e,t)=>{let r=D("UpdateCustomKeyStore"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_UpdateCustomKeyStoreCommand"),nne=u(async(e,t)=>{let r=D("UpdateKeyDescription"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_UpdateKeyDescriptionCommand"),one=u(async(e,t)=>{let r=D("UpdatePrimaryRegion"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_UpdatePrimaryRegionCommand"),ine=u(async(e,t)=>{let r=D("Verify"),n;return n=JSON.stringify(die(e,t)),F(t,r,"/",void 0,n)},"se_VerifyCommand"),sne=u(async(e,t)=>{let r=D("VerifyMac"),n;return n=JSON.stringify(cie(e,t)),F(t,r,"/",void 0,n)},"se_VerifyMacCommand"),ane=u(async(e,t)=>{if(e.statusCode>=300)return K(e,t);let r=await(0,j.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:h(e),...n}},"de_CancelKeyDeletionCommand"),cne=u(async(e,t)=>{if(e.statusCode>=300)return K(e,t);let r=await(0,j.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:h(e),...n}},"de_ConnectCustomKeyStoreCommand"),dne=u(async(e,t)=>e.statusCode>=300?K(e,t):(await(0,d.collectBody)(e.body,t),{$metadata:h(e)}),"de_CreateAliasCommand"),lne=u(async(e,t)=>{if(e.statusCode>=300)return K(e,t);let r=await(0,j.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:h(e),...n}},"de_CreateCustomKeyStoreCommand"),une=u(async(e,t)=>{if(e.statusCode>=300)return K(e,t);let r=await(0,j.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:h(e),...n}},"de_CreateGrantCommand"),pne=u(async(e,t)=>{if(e.statusCode>=300)return K(e,t);let r=await(0,j.parseJsonBody)(e.body,t),n={};return n=pie(r,t),{$metadata:h(e),...n}},"de_CreateKeyCommand"),mne=u(async(e,t)=>{if(e.statusCode>=300)return K(e,t);let r=await(0,j.parseJsonBody)(e.body,t),n={};return n=_ie(r,t),{$metadata:h(e),...n}},"de_DecryptCommand"),fne=u(async(e,t)=>e.statusCode>=300?K(e,t):(await(0,d.collectBody)(e.body,t),{$metadata:h(e)}),"de_DeleteAliasCommand"),_ne=u(async(e,t)=>{if(e.statusCode>=300)return K(e,t);let r=await(0,j.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:h(e),...n}},"de_DeleteCustomKeyStoreCommand"),vne=u(async(e,t)=>e.statusCode>=300?K(e,t):(await(0,d.collectBody)(e.body,t),{$metadata:h(e)}),"de_DeleteImportedKeyMaterialCommand"),gne=u(async(e,t)=>{if(e.statusCode>=300)return K(e,t);let r=await(0,j.parseJsonBody)(e.body,t),n={};return n=vie(r,t),{$metadata:h(e),...n}},"de_DescribeCustomKeyStoresCommand"),yne=u(async(e,t)=>{if(e.statusCode>=300)return K(e,t);let r=await(0,j.parseJsonBody)(e.body,t),n={};return n=gie(r,t),{$metadata:h(e),...n}},"de_DescribeKeyCommand"),hne=u(async(e,t)=>e.statusCode>=300?K(e,t):(await(0,d.collectBody)(e.body,t),{$metadata:h(e)}),"de_DisableKeyCommand"),Sne=u(async(e,t)=>e.statusCode>=300?K(e,t):(await(0,d.collectBody)(e.body,t),{$metadata:h(e)}),"de_DisableKeyRotationCommand"),Ene=u(async(e,t)=>{if(e.statusCode>=300)return K(e,t);let r=await(0,j.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:h(e),...n}},"de_DisconnectCustomKeyStoreCommand"),Cne=u(async(e,t)=>e.statusCode>=300?K(e,t):(await(0,d.collectBody)(e.body,t),{$metadata:h(e)}),"de_EnableKeyCommand"),Pne=u(async(e,t)=>e.statusCode>=300?K(e,t):(await(0,d.collectBody)(e.body,t),{$metadata:h(e)}),"de_EnableKeyRotationCommand"),wne=u(async(e,t)=>{if(e.statusCode>=300)return K(e,t);let r=await(0,j.parseJsonBody)(e.body,t),n={};return n=yie(r,t),{$metadata:h(e),...n}},"de_EncryptCommand"),xne=u(async(e,t)=>{if(e.statusCode>=300)return K(e,t);let r=await(0,j.parseJsonBody)(e.body,t),n={};return n=Eie(r,t),{$metadata:h(e),...n}},"de_GenerateDataKeyCommand"),Rne=u(async(e,t)=>{if(e.statusCode>=300)return K(e,t);let r=await(0,j.parseJsonBody)(e.body,t),n={};return n=hie(r,t),{$metadata:h(e),...n}},"de_GenerateDataKeyPairCommand"),bne=u(async(e,t)=>{if(e.statusCode>=300)return K(e,t);let r=await(0,j.parseJsonBody)(e.body,t),n={};return n=Sie(r,t),{$metadata:h(e),...n}},"de_GenerateDataKeyPairWithoutPlaintextCommand"),Ane=u(async(e,t)=>{if(e.statusCode>=300)return K(e,t);let r=await(0,j.parseJsonBody)(e.body,t),n={};return n=Cie(r,t),{$metadata:h(e),...n}},"de_GenerateDataKeyWithoutPlaintextCommand"),Ine=u(async(e,t)=>{if(e.statusCode>=300)return K(e,t);let r=await(0,j.parseJsonBody)(e.body,t),n={};return n=Pie(r,t),{$metadata:h(e),...n}},"de_GenerateMacCommand"),One=u(async(e,t)=>{if(e.statusCode>=300)return K(e,t);let r=await(0,j.parseJsonBody)(e.body,t),n={};return n=wie(r,t),{$metadata:h(e),...n}},"de_GenerateRandomCommand"),Tne=u(async(e,t)=>{if(e.statusCode>=300)return K(e,t);let r=await(0,j.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:h(e),...n}},"de_GetKeyPolicyCommand"),Nne=u(async(e,t)=>{if(e.statusCode>=300)return K(e,t);let r=await(0,j.parseJsonBody)(e.body,t),n={};return n=xie(r,t),{$metadata:h(e),...n}},"de_GetKeyRotationStatusCommand"),Dne=u(async(e,t)=>{if(e.statusCode>=300)return K(e,t);let r=await(0,j.parseJsonBody)(e.body,t),n={};return n=Rie(r,t),{$metadata:h(e),...n}},"de_GetParametersForImportCommand"),kne=u(async(e,t)=>{if(e.statusCode>=300)return K(e,t);let r=await(0,j.parseJsonBody)(e.body,t),n={};return n=bie(r,t),{$metadata:h(e),...n}},"de_GetPublicKeyCommand"),Mne=u(async(e,t)=>{if(e.statusCode>=300)return K(e,t);let r=await(0,j.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:h(e),...n}},"de_ImportKeyMaterialCommand"),Kne=u(async(e,t)=>{if(e.statusCode>=300)return K(e,t);let r=await(0,j.parseJsonBody)(e.body,t),n={};return n=Oie(r,t),{$metadata:h(e),...n}},"de_ListAliasesCommand"),Fne=u(async(e,t)=>{if(e.statusCode>=300)return K(e,t);let r=await(0,j.parseJsonBody)(e.body,t),n={};return n=zk(r,t),{$metadata:h(e),...n}},"de_ListGrantsCommand"),Lne=u(async(e,t)=>{if(e.statusCode>=300)return K(e,t);let r=await(0,j.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:h(e),...n}},"de_ListKeyPoliciesCommand"),Une=u(async(e,t)=>{if(e.statusCode>=300)return K(e,t);let r=await(0,j.parseJsonBody)(e.body,t),n={};return n=Tie(r,t),{$metadata:h(e),...n}},"de_ListKeyRotationsCommand"),qne=u(async(e,t)=>{if(e.statusCode>=300)return K(e,t);let r=await(0,j.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:h(e),...n}},"de_ListKeysCommand"),jne=u(async(e,t)=>{if(e.statusCode>=300)return K(e,t);let r=await(0,j.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:h(e),...n}},"de_ListResourceTagsCommand"),Hne=u(async(e,t)=>{if(e.statusCode>=300)return K(e,t);let r=await(0,j.parseJsonBody)(e.body,t),n={};return n=zk(r,t),{$metadata:h(e),...n}},"de_ListRetirableGrantsCommand"),Gne=u(async(e,t)=>e.statusCode>=300?K(e,t):(await(0,d.collectBody)(e.body,t),{$metadata:h(e)}),"de_PutKeyPolicyCommand"),$ne=u(async(e,t)=>{if(e.statusCode>=300)return K(e,t);let r=await(0,j.parseJsonBody)(e.body,t),n={};return n=Nie(r,t),{$metadata:h(e),...n}},"de_ReEncryptCommand"),zne=u(async(e,t)=>{if(e.statusCode>=300)return K(e,t);let r=await(0,j.parseJsonBody)(e.body,t),n={};return n=Die(r,t),{$metadata:h(e),...n}},"de_ReplicateKeyCommand"),Wne=u(async(e,t)=>e.statusCode>=300?K(e,t):(await(0,d.collectBody)(e.body,t),{$metadata:h(e)}),"de_RetireGrantCommand"),Vne=u(async(e,t)=>e.statusCode>=300?K(e,t):(await(0,d.collectBody)(e.body,t),{$metadata:h(e)}),"de_RevokeGrantCommand"),Bne=u(async(e,t)=>{if(e.statusCode>=300)return K(e,t);let r=await(0,j.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:h(e),...n}},"de_RotateKeyOnDemandCommand"),Xne=u(async(e,t)=>{if(e.statusCode>=300)return K(e,t);let r=await(0,j.parseJsonBody)(e.body,t),n={};return n=Kie(r,t),{$metadata:h(e),...n}},"de_ScheduleKeyDeletionCommand"),Jne=u(async(e,t)=>{if(e.statusCode>=300)return K(e,t);let r=await(0,j.parseJsonBody)(e.body,t),n={};return n=Fie(r,t),{$metadata:h(e),...n}},"de_SignCommand"),Yne=u(async(e,t)=>e.statusCode>=300?K(e,t):(await(0,d.collectBody)(e.body,t),{$metadata:h(e)}),"de_TagResourceCommand"),Qne=u(async(e,t)=>e.statusCode>=300?K(e,t):(await(0,d.collectBody)(e.body,t),{$metadata:h(e)}),"de_UntagResourceCommand"),Zne=u(async(e,t)=>e.statusCode>=300?K(e,t):(await(0,d.collectBody)(e.body,t),{$metadata:h(e)}),"de_UpdateAliasCommand"),eoe=u(async(e,t)=>{if(e.statusCode>=300)return K(e,t);let r=await(0,j.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:h(e),...n}},"de_UpdateCustomKeyStoreCommand"),toe=u(async(e,t)=>e.statusCode>=300?K(e,t):(await(0,d.collectBody)(e.body,t),{$metadata:h(e)}),"de_UpdateKeyDescriptionCommand"),roe=u(async(e,t)=>e.statusCode>=300?K(e,t):(await(0,d.collectBody)(e.body,t),{$metadata:h(e)}),"de_UpdatePrimaryRegionCommand"),noe=u(async(e,t)=>{if(e.statusCode>=300)return K(e,t);let r=await(0,j.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:h(e),...n}},"de_VerifyCommand"),ooe=u(async(e,t)=>{if(e.statusCode>=300)return K(e,t);let r=await(0,j.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:h(e),...n}},"de_VerifyMacCommand"),K=u(async(e,t)=>{let r={...e,body:await(0,j.parseJsonErrorBody)(e.body,t)},n=(0,j.loadRestJsonErrorCode)(e,r.body);switch(n){case"DependencyTimeoutException":case"com.amazonaws.kms#DependencyTimeoutException":throw await voe(r,t);case"InvalidArnException":case"com.amazonaws.kms#InvalidArnException":throw await woe(r,t);case"KMSInternalException":case"com.amazonaws.kms#KMSInternalException":throw await Noe(r,t);case"KMSInvalidStateException":case"com.amazonaws.kms#KMSInvalidStateException":throw await Moe(r,t);case"NotFoundException":case"com.amazonaws.kms#NotFoundException":throw await Loe(r,t);case"CloudHsmClusterInvalidConfigurationException":case"com.amazonaws.kms#CloudHsmClusterInvalidConfigurationException":throw await aoe(r,t);case"CloudHsmClusterNotActiveException":case"com.amazonaws.kms#CloudHsmClusterNotActiveException":throw await coe(r,t);case"CustomKeyStoreInvalidStateException":case"com.amazonaws.kms#CustomKeyStoreInvalidStateException":throw await moe(r,t);case"CustomKeyStoreNotFoundException":case"com.amazonaws.kms#CustomKeyStoreNotFoundException":throw await _oe(r,t);case"AlreadyExistsException":case"com.amazonaws.kms#AlreadyExistsException":throw await ioe(r,t);case"InvalidAliasNameException":case"com.amazonaws.kms#InvalidAliasNameException":throw await Poe(r,t);case"LimitExceededException":case"com.amazonaws.kms#LimitExceededException":throw await Koe(r,t);case"CloudHsmClusterInUseException":case"com.amazonaws.kms#CloudHsmClusterInUseException":throw await soe(r,t);case"CloudHsmClusterNotFoundException":case"com.amazonaws.kms#CloudHsmClusterNotFoundException":throw await doe(r,t);case"CustomKeyStoreNameInUseException":case"com.amazonaws.kms#CustomKeyStoreNameInUseException":throw await foe(r,t);case"IncorrectTrustAnchorException":case"com.amazonaws.kms#IncorrectTrustAnchorException":throw await Coe(r,t);case"XksProxyIncorrectAuthenticationCredentialException":case"com.amazonaws.kms#XksProxyIncorrectAuthenticationCredentialException":throw await $oe(r,t);case"XksProxyInvalidConfigurationException":case"com.amazonaws.kms#XksProxyInvalidConfigurationException":throw await zoe(r,t);case"XksProxyInvalidResponseException":case"com.amazonaws.kms#XksProxyInvalidResponseException":throw await Woe(r,t);case"XksProxyUriEndpointInUseException":case"com.amazonaws.kms#XksProxyUriEndpointInUseException":throw await Voe(r,t);case"XksProxyUriInUseException":case"com.amazonaws.kms#XksProxyUriInUseException":throw await Boe(r,t);case"XksProxyUriUnreachableException":case"com.amazonaws.kms#XksProxyUriUnreachableException":throw await Xoe(r,t);case"XksProxyVpcEndpointServiceInUseException":case"com.amazonaws.kms#XksProxyVpcEndpointServiceInUseException":throw await Joe(r,t);case"XksProxyVpcEndpointServiceInvalidConfigurationException":case"com.amazonaws.kms#XksProxyVpcEndpointServiceInvalidConfigurationException":throw await Yoe(r,t);case"XksProxyVpcEndpointServiceNotFoundException":case"com.amazonaws.kms#XksProxyVpcEndpointServiceNotFoundException":throw await Qoe(r,t);case"DisabledException":case"com.amazonaws.kms#DisabledException":throw await goe(r,t);case"DryRunOperationException":case"com.amazonaws.kms#DryRunOperationException":throw await yoe(r,t);case"InvalidGrantTokenException":case"com.amazonaws.kms#InvalidGrantTokenException":throw await boe(r,t);case"MalformedPolicyDocumentException":case"com.amazonaws.kms#MalformedPolicyDocumentException":throw await Foe(r,t);case"TagException":case"com.amazonaws.kms#TagException":throw await Uoe(r,t);case"UnsupportedOperationException":case"com.amazonaws.kms#UnsupportedOperationException":throw await qoe(r,t);case"XksKeyAlreadyInUseException":case"com.amazonaws.kms#XksKeyAlreadyInUseException":throw await joe(r,t);case"XksKeyInvalidConfigurationException":case"com.amazonaws.kms#XksKeyInvalidConfigurationException":throw await Hoe(r,t);case"XksKeyNotFoundException":case"com.amazonaws.kms#XksKeyNotFoundException":throw await Goe(r,t);case"IncorrectKeyException":case"com.amazonaws.kms#IncorrectKeyException":throw await Soe(r,t);case"InvalidCiphertextException":case"com.amazonaws.kms#InvalidCiphertextException":throw await xoe(r,t);case"InvalidKeyUsageException":case"com.amazonaws.kms#InvalidKeyUsageException":throw await Ioe(r,t);case"KeyUnavailableException":case"com.amazonaws.kms#KeyUnavailableException":throw await Toe(r,t);case"CustomKeyStoreHasCMKsException":case"com.amazonaws.kms#CustomKeyStoreHasCMKsException":throw await poe(r,t);case"InvalidMarkerException":case"com.amazonaws.kms#InvalidMarkerException":throw await Ooe(r,t);case"ExpiredImportTokenException":case"com.amazonaws.kms#ExpiredImportTokenException":throw await hoe(r,t);case"IncorrectKeyMaterialException":case"com.amazonaws.kms#IncorrectKeyMaterialException":throw await Eoe(r,t);case"InvalidImportTokenException":case"com.amazonaws.kms#InvalidImportTokenException":throw await Aoe(r,t);case"InvalidGrantIdException":case"com.amazonaws.kms#InvalidGrantIdException":throw await Roe(r,t);case"ConflictException":case"com.amazonaws.kms#ConflictException":throw await uoe(r,t);case"CloudHsmClusterNotRelatedException":case"com.amazonaws.kms#CloudHsmClusterNotRelatedException":throw await loe(r,t);case"KMSInvalidSignatureException":case"com.amazonaws.kms#KMSInvalidSignatureException":throw await koe(r,t);case"KMSInvalidMacException":case"com.amazonaws.kms#KMSInvalidMacException":throw await Doe(r,t);default:let o=r.body;return Lie({output:e,parsedBody:o,errorCode:n})}},"de_CommandError"),ioe=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new JT({$metadata:h(e),...n});return(0,d.decorateServiceException)(o,r)},"de_AlreadyExistsExceptionRes"),soe=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new fN({$metadata:h(e),...n});return(0,d.decorateServiceException)(o,r)},"de_CloudHsmClusterInUseExceptionRes"),aoe=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new gN({$metadata:h(e),...n});return(0,d.decorateServiceException)(o,r)},"de_CloudHsmClusterInvalidConfigurationExceptionRes"),coe=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new SN({$metadata:h(e),...n});return(0,d.decorateServiceException)(o,r)},"de_CloudHsmClusterNotActiveExceptionRes"),doe=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new PN({$metadata:h(e),...n});return(0,d.decorateServiceException)(o,r)},"de_CloudHsmClusterNotFoundExceptionRes"),loe=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new RN({$metadata:h(e),...n});return(0,d.decorateServiceException)(o,r)},"de_CloudHsmClusterNotRelatedExceptionRes"),uoe=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new IN({$metadata:h(e),...n});return(0,d.decorateServiceException)(o,r)},"de_ConflictExceptionRes"),poe=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new JD({$metadata:h(e),...n});return(0,d.decorateServiceException)(o,r)},"de_CustomKeyStoreHasCMKsExceptionRes"),moe=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new NN({$metadata:h(e),...n});return(0,d.decorateServiceException)(o,r)},"de_CustomKeyStoreInvalidStateExceptionRes"),foe=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new $N({$metadata:h(e),...n});return(0,d.decorateServiceException)(o,r)},"de_CustomKeyStoreNameInUseExceptionRes"),_oe=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new MN({$metadata:h(e),...n});return(0,d.decorateServiceException)(o,r)},"de_CustomKeyStoreNotFoundExceptionRes"),voe=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new ZT({$metadata:h(e),...n});return(0,d.decorateServiceException)(o,r)},"de_DependencyTimeoutExceptionRes"),goe=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new PD({$metadata:h(e),...n});return(0,d.decorateServiceException)(o,r)},"de_DisabledExceptionRes"),yoe=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new RD({$metadata:h(e),...n});return(0,d.decorateServiceException)(o,r)},"de_DryRunOperationExceptionRes"),hoe=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new fk({$metadata:h(e),...n});return(0,d.decorateServiceException)(o,r)},"de_ExpiredImportTokenExceptionRes"),Soe=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new ZD({$metadata:h(e),...n});return(0,d.decorateServiceException)(o,r)},"de_IncorrectKeyExceptionRes"),Eoe=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new gk({$metadata:h(e),...n});return(0,d.decorateServiceException)(o,r)},"de_IncorrectKeyMaterialExceptionRes"),Coe=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new VN({$metadata:h(e),...n});return(0,d.decorateServiceException)(o,r)},"de_IncorrectTrustAnchorExceptionRes"),Poe=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new LN({$metadata:h(e),...n});return(0,d.decorateServiceException)(o,r)},"de_InvalidAliasNameExceptionRes"),woe=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new rN({$metadata:h(e),...n});return(0,d.decorateServiceException)(o,r)},"de_InvalidArnExceptionRes"),xoe=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new rk({$metadata:h(e),...n});return(0,d.decorateServiceException)(o,r)},"de_InvalidCiphertextExceptionRes"),Roe=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new Pk({$metadata:h(e),...n});return(0,d.decorateServiceException)(o,r)},"de_InvalidGrantIdExceptionRes"),boe=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new ID({$metadata:h(e),...n});return(0,d.decorateServiceException)(o,r)},"de_InvalidGrantTokenExceptionRes"),Aoe=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new Sk({$metadata:h(e),...n});return(0,d.decorateServiceException)(o,r)},"de_InvalidImportTokenExceptionRes"),Ioe=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new ik({$metadata:h(e),...n});return(0,d.decorateServiceException)(o,r)},"de_InvalidKeyUsageExceptionRes"),Ooe=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new uk({$metadata:h(e),...n});return(0,d.decorateServiceException)(o,r)},"de_InvalidMarkerExceptionRes"),Toe=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new ck({$metadata:h(e),...n});return(0,d.decorateServiceException)(o,r)},"de_KeyUnavailableExceptionRes"),Noe=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new iN({$metadata:h(e),...n});return(0,d.decorateServiceException)(o,r)},"de_KMSInternalExceptionRes"),Doe=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new Rk({$metadata:h(e),...n});return(0,d.decorateServiceException)(o,r)},"de_KMSInvalidMacExceptionRes"),koe=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new Ik({$metadata:h(e),...n});return(0,d.decorateServiceException)(o,r)},"de_KMSInvalidSignatureExceptionRes"),Moe=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new cN({$metadata:h(e),...n});return(0,d.decorateServiceException)(o,r)},"de_KMSInvalidStateExceptionRes"),Koe=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new jN({$metadata:h(e),...n});return(0,d.decorateServiceException)(o,r)},"de_LimitExceededExceptionRes"),Foe=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new ND({$metadata:h(e),...n});return(0,d.decorateServiceException)(o,r)},"de_MalformedPolicyDocumentExceptionRes"),Loe=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new uN({$metadata:h(e),...n});return(0,d.decorateServiceException)(o,r)},"de_NotFoundExceptionRes"),Uoe=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new MD({$metadata:h(e),...n});return(0,d.decorateServiceException)(o,r)},"de_TagExceptionRes"),qoe=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new LD({$metadata:h(e),...n});return(0,d.decorateServiceException)(o,r)},"de_UnsupportedOperationExceptionRes"),joe=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new jD({$metadata:h(e),...n});return(0,d.decorateServiceException)(o,r)},"de_XksKeyAlreadyInUseExceptionRes"),Hoe=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new $D({$metadata:h(e),...n});return(0,d.decorateServiceException)(o,r)},"de_XksKeyInvalidConfigurationExceptionRes"),Goe=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new VD({$metadata:h(e),...n});return(0,d.decorateServiceException)(o,r)},"de_XksKeyNotFoundExceptionRes"),$oe=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new JN({$metadata:h(e),...n});return(0,d.decorateServiceException)(o,r)},"de_XksProxyIncorrectAuthenticationCredentialExceptionRes"),zoe=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new ZN({$metadata:h(e),...n});return(0,d.decorateServiceException)(o,r)},"de_XksProxyInvalidConfigurationExceptionRes"),Woe=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new rD({$metadata:h(e),...n});return(0,d.decorateServiceException)(o,r)},"de_XksProxyInvalidResponseExceptionRes"),Voe=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new iD({$metadata:h(e),...n});return(0,d.decorateServiceException)(o,r)},"de_XksProxyUriEndpointInUseExceptionRes"),Boe=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new cD({$metadata:h(e),...n});return(0,d.decorateServiceException)(o,r)},"de_XksProxyUriInUseExceptionRes"),Xoe=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new uD({$metadata:h(e),...n});return(0,d.decorateServiceException)(o,r)},"de_XksProxyUriUnreachableExceptionRes"),Joe=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new fD({$metadata:h(e),...n});return(0,d.decorateServiceException)(o,r)},"de_XksProxyVpcEndpointServiceInUseExceptionRes"),Yoe=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new gD({$metadata:h(e),...n});return(0,d.decorateServiceException)(o,r)},"de_XksProxyVpcEndpointServiceInvalidConfigurationExceptionRes"),Qoe=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new SD({$metadata:h(e),...n});return(0,d.decorateServiceException)(o,r)},"de_XksProxyVpcEndpointServiceNotFoundExceptionRes"),Zoe=u((e,t)=>(0,d.take)(e,{CiphertextBlob:t.base64Encoder,DryRun:[],EncryptionAlgorithm:[],EncryptionContext:d._json,GrantTokens:d._json,KeyId:[],Recipient:r=>Zc(r,t)}),"se_DecryptRequest"),eie=u((e,t)=>(0,d.take)(e,{DryRun:[],EncryptionAlgorithm:[],EncryptionContext:d._json,GrantTokens:d._json,KeyId:[],Plaintext:t.base64Encoder}),"se_EncryptRequest"),tie=u((e,t)=>(0,d.take)(e,{DryRun:[],EncryptionContext:d._json,GrantTokens:d._json,KeyId:[],KeyPairSpec:[],Recipient:r=>Zc(r,t)}),"se_GenerateDataKeyPairRequest"),rie=u((e,t)=>(0,d.take)(e,{DryRun:[],EncryptionContext:d._json,GrantTokens:d._json,KeyId:[],KeySpec:[],NumberOfBytes:[],Recipient:r=>Zc(r,t)}),"se_GenerateDataKeyRequest"),nie=u((e,t)=>(0,d.take)(e,{DryRun:[],GrantTokens:d._json,KeyId:[],MacAlgorithm:[],Message:t.base64Encoder}),"se_GenerateMacRequest"),oie=u((e,t)=>(0,d.take)(e,{CustomKeyStoreId:[],NumberOfBytes:[],Recipient:r=>Zc(r,t)}),"se_GenerateRandomRequest"),iie=u((e,t)=>(0,d.take)(e,{EncryptedKeyMaterial:t.base64Encoder,ExpirationModel:[],ImportToken:t.base64Encoder,KeyId:[],ValidTo:r=>Math.round(r.getTime()/1e3)}),"se_ImportKeyMaterialRequest"),Zc=u((e,t)=>(0,d.take)(e,{AttestationDocument:t.base64Encoder,KeyEncryptionAlgorithm:[]}),"se_RecipientInfo"),sie=u((e,t)=>(0,d.take)(e,{CiphertextBlob:t.base64Encoder,DestinationEncryptionAlgorithm:[],DestinationEncryptionContext:d._json,DestinationKeyId:[],DryRun:[],GrantTokens:d._json,SourceEncryptionAlgorithm:[],SourceEncryptionContext:d._json,SourceKeyId:[]}),"se_ReEncryptRequest"),aie=u((e,t)=>(0,d.take)(e,{DryRun:[],GrantTokens:d._json,KeyId:[],Message:t.base64Encoder,MessageType:[],SigningAlgorithm:[]}),"se_SignRequest"),cie=u((e,t)=>(0,d.take)(e,{DryRun:[],GrantTokens:d._json,KeyId:[],Mac:t.base64Encoder,MacAlgorithm:[],Message:t.base64Encoder}),"se_VerifyMacRequest"),die=u((e,t)=>(0,d.take)(e,{DryRun:[],GrantTokens:d._json,KeyId:[],Message:t.base64Encoder,MessageType:[],Signature:t.base64Encoder,SigningAlgorithm:[]}),"se_VerifyRequest"),lie=u((e,t)=>(e||[]).filter(n=>n!=null).map(n=>uie(n,t)),"de_AliasList"),uie=u((e,t)=>(0,d.take)(e,{AliasArn:d.expectString,AliasName:d.expectString,CreationDate:r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),LastUpdatedDate:r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),TargetKeyId:d.expectString}),"de_AliasListEntry"),pie=u((e,t)=>(0,d.take)(e,{KeyMetadata:r=>hm(r,t)}),"de_CreateKeyResponse"),mie=u((e,t)=>(e||[]).filter(n=>n!=null).map(n=>fie(n,t)),"de_CustomKeyStoresList"),fie=u((e,t)=>(0,d.take)(e,{CloudHsmClusterId:d.expectString,ConnectionErrorCode:d.expectString,ConnectionState:d.expectString,CreationDate:r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),CustomKeyStoreId:d.expectString,CustomKeyStoreName:d.expectString,CustomKeyStoreType:d.expectString,TrustAnchorCertificate:d.expectString,XksProxyConfiguration:d._json}),"de_CustomKeyStoresListEntry"),_ie=u((e,t)=>(0,d.take)(e,{CiphertextForRecipient:t.base64Decoder,EncryptionAlgorithm:d.expectString,KeyId:d.expectString,Plaintext:t.base64Decoder}),"de_DecryptResponse"),vie=u((e,t)=>(0,d.take)(e,{CustomKeyStores:r=>mie(r,t),NextMarker:d.expectString,Truncated:d.expectBoolean}),"de_DescribeCustomKeyStoresResponse"),gie=u((e,t)=>(0,d.take)(e,{KeyMetadata:r=>hm(r,t)}),"de_DescribeKeyResponse"),yie=u((e,t)=>(0,d.take)(e,{CiphertextBlob:t.base64Decoder,EncryptionAlgorithm:d.expectString,KeyId:d.expectString}),"de_EncryptResponse"),hie=u((e,t)=>(0,d.take)(e,{CiphertextForRecipient:t.base64Decoder,KeyId:d.expectString,KeyPairSpec:d.expectString,PrivateKeyCiphertextBlob:t.base64Decoder,PrivateKeyPlaintext:t.base64Decoder,PublicKey:t.base64Decoder}),"de_GenerateDataKeyPairResponse"),Sie=u((e,t)=>(0,d.take)(e,{KeyId:d.expectString,KeyPairSpec:d.expectString,PrivateKeyCiphertextBlob:t.base64Decoder,PublicKey:t.base64Decoder}),"de_GenerateDataKeyPairWithoutPlaintextResponse"),Eie=u((e,t)=>(0,d.take)(e,{CiphertextBlob:t.base64Decoder,CiphertextForRecipient:t.base64Decoder,KeyId:d.expectString,Plaintext:t.base64Decoder}),"de_GenerateDataKeyResponse"),Cie=u((e,t)=>(0,d.take)(e,{CiphertextBlob:t.base64Decoder,KeyId:d.expectString}),"de_GenerateDataKeyWithoutPlaintextResponse"),Pie=u((e,t)=>(0,d.take)(e,{KeyId:d.expectString,Mac:t.base64Decoder,MacAlgorithm:d.expectString}),"de_GenerateMacResponse"),wie=u((e,t)=>(0,d.take)(e,{CiphertextForRecipient:t.base64Decoder,Plaintext:t.base64Decoder}),"de_GenerateRandomResponse"),xie=u((e,t)=>(0,d.take)(e,{KeyId:d.expectString,KeyRotationEnabled:d.expectBoolean,NextRotationDate:r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),OnDemandRotationStartDate:r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),RotationPeriodInDays:d.expectInt32}),"de_GetKeyRotationStatusResponse"),Rie=u((e,t)=>(0,d.take)(e,{ImportToken:t.base64Decoder,KeyId:d.expectString,ParametersValidTo:r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),PublicKey:t.base64Decoder}),"de_GetParametersForImportResponse"),bie=u((e,t)=>(0,d.take)(e,{CustomerMasterKeySpec:d.expectString,EncryptionAlgorithms:d._json,KeyId:d.expectString,KeySpec:d.expectString,KeyUsage:d.expectString,PublicKey:t.base64Decoder,SigningAlgorithms:d._json}),"de_GetPublicKeyResponse"),Aie=u((e,t)=>(e||[]).filter(n=>n!=null).map(n=>Iie(n,t)),"de_GrantList"),Iie=u((e,t)=>(0,d.take)(e,{Constraints:d._json,CreationDate:r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),GrantId:d.expectString,GranteePrincipal:d.expectString,IssuingAccount:d.expectString,KeyId:d.expectString,Name:d.expectString,Operations:d._json,RetiringPrincipal:d.expectString}),"de_GrantListEntry"),hm=u((e,t)=>(0,d.take)(e,{AWSAccountId:d.expectString,Arn:d.expectString,CloudHsmClusterId:d.expectString,CreationDate:r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),CustomKeyStoreId:d.expectString,CustomerMasterKeySpec:d.expectString,DeletionDate:r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),Description:d.expectString,Enabled:d.expectBoolean,EncryptionAlgorithms:d._json,ExpirationModel:d.expectString,KeyId:d.expectString,KeyManager:d.expectString,KeySpec:d.expectString,KeyState:d.expectString,KeyUsage:d.expectString,MacAlgorithms:d._json,MultiRegion:d.expectBoolean,MultiRegionConfiguration:d._json,Origin:d.expectString,PendingDeletionWindowInDays:d.expectInt32,SigningAlgorithms:d._json,ValidTo:r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),XksKeyConfiguration:d._json}),"de_KeyMetadata"),Oie=u((e,t)=>(0,d.take)(e,{Aliases:r=>lie(r,t),NextMarker:d.expectString,Truncated:d.expectBoolean}),"de_ListAliasesResponse"),zk=u((e,t)=>(0,d.take)(e,{Grants:r=>Aie(r,t),NextMarker:d.expectString,Truncated:d.expectBoolean}),"de_ListGrantsResponse"),Tie=u((e,t)=>(0,d.take)(e,{NextMarker:d.expectString,Rotations:r=>kie(r,t),Truncated:d.expectBoolean}),"de_ListKeyRotationsResponse"),Nie=u((e,t)=>(0,d.take)(e,{CiphertextBlob:t.base64Decoder,DestinationEncryptionAlgorithm:d.expectString,KeyId:d.expectString,SourceEncryptionAlgorithm:d.expectString,SourceKeyId:d.expectString}),"de_ReEncryptResponse"),Die=u((e,t)=>(0,d.take)(e,{ReplicaKeyMetadata:r=>hm(r,t),ReplicaPolicy:d.expectString,ReplicaTags:d._json}),"de_ReplicateKeyResponse"),kie=u((e,t)=>(e||[]).filter(n=>n!=null).map(n=>Mie(n,t)),"de_RotationsList"),Mie=u((e,t)=>(0,d.take)(e,{KeyId:d.expectString,RotationDate:r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),RotationType:d.expectString}),"de_RotationsListEntry"),Kie=u((e,t)=>(0,d.take)(e,{DeletionDate:r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),KeyId:d.expectString,KeyState:d.expectString,PendingWindowInDays:d.expectInt32}),"de_ScheduleKeyDeletionResponse"),Fie=u((e,t)=>(0,d.take)(e,{KeyId:d.expectString,Signature:t.base64Decoder,SigningAlgorithm:d.expectString}),"de_SignResponse"),h=u(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),Lie=(0,d.withBaseException)(L),F=u(async(e,t,r,n,o)=>{let{hostname:i,protocol:s="https",port:a,path:c}=await e.endpoint(),l={protocol:s,hostname:i,port:a,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+r:c+r,headers:t};return n!==void 0&&(l.hostname=n),o!==void 0&&(l.body=o),new gm.HttpRequest(l)},"buildHttpRpcRequest");function D(e){return{"content-type":"application/x-amz-json-1.1","x-amz-target":`TrentService.${e}`}}u(D,"sharedHeaders");var Wk=class extends d.Command.classBuilder().ep({...k}).m(function(t,r,n,o){return[(0,M.getSerdePlugin)(n,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("TrentService","CancelKeyDeletion",{}).n("KMSClient","CancelKeyDeletionCommand").f(void 0,void 0).ser(dre).de(ane).build(){};u(Wk,"CancelKeyDeletionCommand");var Vk=Wk,Bk=class extends d.Command.classBuilder().ep({...k}).m(function(t,r,n,o){return[(0,M.getSerdePlugin)(n,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("TrentService","ConnectCustomKeyStore",{}).n("KMSClient","ConnectCustomKeyStoreCommand").f(void 0,void 0).ser(lre).de(cne).build(){};u(Bk,"ConnectCustomKeyStoreCommand");var Xk=Bk,Jk=class extends d.Command.classBuilder().ep({...k}).m(function(t,r,n,o){return[(0,M.getSerdePlugin)(n,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("TrentService","CreateAlias",{}).n("KMSClient","CreateAliasCommand").f(void 0,void 0).ser(ure).de(dne).build(){};u(Jk,"CreateAliasCommand");var Yk=Jk,Qk=class extends d.Command.classBuilder().ep({...k}).m(function(t,r,n,o){return[(0,M.getSerdePlugin)(n,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("TrentService","CreateCustomKeyStore",{}).n("KMSClient","CreateCustomKeyStoreCommand").f(Ok,void 0).ser(pre).de(lne).build(){};u(Qk,"CreateCustomKeyStoreCommand");var Zk=Qk,eM=class extends d.Command.classBuilder().ep({...k}).m(function(t,r,n,o){return[(0,M.getSerdePlugin)(n,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("TrentService","CreateGrant",{}).n("KMSClient","CreateGrantCommand").f(void 0,void 0).ser(mre).de(une).build(){};u(eM,"CreateGrantCommand");var tM=eM,rM=class extends d.Command.classBuilder().ep({...k}).m(function(t,r,n,o){return[(0,M.getSerdePlugin)(n,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("TrentService","CreateKey",{}).n("KMSClient","CreateKeyCommand").f(void 0,void 0).ser(fre).de(pne).build(){};u(rM,"CreateKeyCommand");var nM=rM,oM=class extends d.Command.classBuilder().ep({...k}).m(function(t,r,n,o){return[(0,M.getSerdePlugin)(n,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("TrentService","Decrypt",{}).n("KMSClient","DecryptCommand").f(void 0,Dk).ser(_re).de(mne).build(){};u(oM,"DecryptCommand");var iM=oM,sM=class extends d.Command.classBuilder().ep({...k}).m(function(t,r,n,o){return[(0,M.getSerdePlugin)(n,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("TrentService","DeleteAlias",{}).n("KMSClient","DeleteAliasCommand").f(void 0,void 0).ser(vre).de(fne).build(){};u(sM,"DeleteAliasCommand");var aM=sM,cM=class extends d.Command.classBuilder().ep({...k}).m(function(t,r,n,o){return[(0,M.getSerdePlugin)(n,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("TrentService","DeleteCustomKeyStore",{}).n("KMSClient","DeleteCustomKeyStoreCommand").f(void 0,void 0).ser(gre).de(_ne).build(){};u(cM,"DeleteCustomKeyStoreCommand");var dM=cM,lM=class extends d.Command.classBuilder().ep({...k}).m(function(t,r,n,o){return[(0,M.getSerdePlugin)(n,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("TrentService","DeleteImportedKeyMaterial",{}).n("KMSClient","DeleteImportedKeyMaterialCommand").f(void 0,void 0).ser(yre).de(vne).build(){};u(lM,"DeleteImportedKeyMaterialCommand");var uM=lM,pM=class extends d.Command.classBuilder().ep({...k}).m(function(t,r,n,o){return[(0,M.getSerdePlugin)(n,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("TrentService","DescribeCustomKeyStores",{}).n("KMSClient","DescribeCustomKeyStoresCommand").f(void 0,kk).ser(hre).de(gne).build(){};u(pM,"DescribeCustomKeyStoresCommand");var Sm=pM,mM=class extends d.Command.classBuilder().ep({...k}).m(function(t,r,n,o){return[(0,M.getSerdePlugin)(n,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("TrentService","DescribeKey",{}).n("KMSClient","DescribeKeyCommand").f(void 0,void 0).ser(Sre).de(yne).build(){};u(mM,"DescribeKeyCommand");var fM=mM,_M=class extends d.Command.classBuilder().ep({...k}).m(function(t,r,n,o){return[(0,M.getSerdePlugin)(n,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("TrentService","DisableKey",{}).n("KMSClient","DisableKeyCommand").f(void 0,void 0).ser(Ere).de(hne).build(){};u(_M,"DisableKeyCommand");var vM=_M,gM=class extends d.Command.classBuilder().ep({...k}).m(function(t,r,n,o){return[(0,M.getSerdePlugin)(n,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("TrentService","DisableKeyRotation",{}).n("KMSClient","DisableKeyRotationCommand").f(void 0,void 0).ser(Cre).de(Sne).build(){};u(gM,"DisableKeyRotationCommand");var yM=gM,hM=class extends d.Command.classBuilder().ep({...k}).m(function(t,r,n,o){return[(0,M.getSerdePlugin)(n,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("TrentService","DisconnectCustomKeyStore",{}).n("KMSClient","DisconnectCustomKeyStoreCommand").f(void 0,void 0).ser(Pre).de(Ene).build(){};u(hM,"DisconnectCustomKeyStoreCommand");var SM=hM,EM=class extends d.Command.classBuilder().ep({...k}).m(function(t,r,n,o){return[(0,M.getSerdePlugin)(n,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("TrentService","EnableKey",{}).n("KMSClient","EnableKeyCommand").f(void 0,void 0).ser(wre).de(Cne).build(){};u(EM,"EnableKeyCommand");var CM=EM,PM=class extends d.Command.classBuilder().ep({...k}).m(function(t,r,n,o){return[(0,M.getSerdePlugin)(n,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("TrentService","EnableKeyRotation",{}).n("KMSClient","EnableKeyRotationCommand").f(void 0,void 0).ser(xre).de(Pne).build(){};u(PM,"EnableKeyRotationCommand");var wM=PM,xM=class extends d.Command.classBuilder().ep({...k}).m(function(t,r,n,o){return[(0,M.getSerdePlugin)(n,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("TrentService","Encrypt",{}).n("KMSClient","EncryptCommand").f(Mk,void 0).ser(Rre).de(wne).build(){};u(xM,"EncryptCommand");var RM=xM,bM=class extends d.Command.classBuilder().ep({...k}).m(function(t,r,n,o){return[(0,M.getSerdePlugin)(n,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("TrentService","GenerateDataKey",{}).n("KMSClient","GenerateDataKeyCommand").f(void 0,Kk).ser(bre).de(xne).build(){};u(bM,"GenerateDataKeyCommand");var AM=bM,IM=class extends d.Command.classBuilder().ep({...k}).m(function(t,r,n,o){return[(0,M.getSerdePlugin)(n,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("TrentService","GenerateDataKeyPair",{}).n("KMSClient","GenerateDataKeyPairCommand").f(void 0,Fk).ser(Are).de(Rne).build(){};u(IM,"GenerateDataKeyPairCommand");var OM=IM,TM=class extends d.Command.classBuilder().ep({...k}).m(function(t,r,n,o){return[(0,M.getSerdePlugin)(n,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("TrentService","GenerateDataKeyPairWithoutPlaintext",{}).n("KMSClient","GenerateDataKeyPairWithoutPlaintextCommand").f(void 0,void 0).ser(Ire).de(bne).build(){};u(TM,"GenerateDataKeyPairWithoutPlaintextCommand");var NM=TM,DM=class extends d.Command.classBuilder().ep({...k}).m(function(t,r,n,o){return[(0,M.getSerdePlugin)(n,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("TrentService","GenerateDataKeyWithoutPlaintext",{}).n("KMSClient","GenerateDataKeyWithoutPlaintextCommand").f(void 0,void 0).ser(Ore).de(Ane).build(){};u(DM,"GenerateDataKeyWithoutPlaintextCommand");var kM=DM,MM=class extends d.Command.classBuilder().ep({...k}).m(function(t,r,n,o){return[(0,M.getSerdePlugin)(n,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("TrentService","GenerateMac",{}).n("KMSClient","GenerateMacCommand").f(Lk,void 0).ser(Tre).de(Ine).build(){};u(MM,"GenerateMacCommand");var KM=MM,FM=class extends d.Command.classBuilder().ep({...k}).m(function(t,r,n,o){return[(0,M.getSerdePlugin)(n,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("TrentService","GenerateRandom",{}).n("KMSClient","GenerateRandomCommand").f(void 0,Uk).ser(Nre).de(One).build(){};u(FM,"GenerateRandomCommand");var LM=FM,UM=class extends d.Command.classBuilder().ep({...k}).m(function(t,r,n,o){return[(0,M.getSerdePlugin)(n,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("TrentService","GetKeyPolicy",{}).n("KMSClient","GetKeyPolicyCommand").f(void 0,void 0).ser(Dre).de(Tne).build(){};u(UM,"GetKeyPolicyCommand");var qM=UM,jM=class extends d.Command.classBuilder().ep({...k}).m(function(t,r,n,o){return[(0,M.getSerdePlugin)(n,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("TrentService","GetKeyRotationStatus",{}).n("KMSClient","GetKeyRotationStatusCommand").f(void 0,void 0).ser(kre).de(Nne).build(){};u(jM,"GetKeyRotationStatusCommand");var HM=jM,GM=class extends d.Command.classBuilder().ep({...k}).m(function(t,r,n,o){return[(0,M.getSerdePlugin)(n,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("TrentService","GetParametersForImport",{}).n("KMSClient","GetParametersForImportCommand").f(void 0,qk).ser(Mre).de(Dne).build(){};u(GM,"GetParametersForImportCommand");var $M=GM,zM=class extends d.Command.classBuilder().ep({...k}).m(function(t,r,n,o){return[(0,M.getSerdePlugin)(n,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("TrentService","GetPublicKey",{}).n("KMSClient","GetPublicKeyCommand").f(void 0,void 0).ser(Kre).de(kne).build(){};u(zM,"GetPublicKeyCommand");var WM=zM,VM=class extends d.Command.classBuilder().ep({...k}).m(function(t,r,n,o){return[(0,M.getSerdePlugin)(n,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("TrentService","ImportKeyMaterial",{}).n("KMSClient","ImportKeyMaterialCommand").f(void 0,void 0).ser(Fre).de(Mne).build(){};u(VM,"ImportKeyMaterialCommand");var BM=VM,XM=class extends d.Command.classBuilder().ep({...k}).m(function(t,r,n,o){return[(0,M.getSerdePlugin)(n,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("TrentService","ListAliases",{}).n("KMSClient","ListAliasesCommand").f(void 0,void 0).ser(Lre).de(Kne).build(){};u(XM,"ListAliasesCommand");var Em=XM,JM=class extends d.Command.classBuilder().ep({...k}).m(function(t,r,n,o){return[(0,M.getSerdePlugin)(n,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("TrentService","ListGrants",{}).n("KMSClient","ListGrantsCommand").f(void 0,void 0).ser(Ure).de(Fne).build(){};u(JM,"ListGrantsCommand");var Cm=JM,YM=class extends d.Command.classBuilder().ep({...k}).m(function(t,r,n,o){return[(0,M.getSerdePlugin)(n,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("TrentService","ListKeyPolicies",{}).n("KMSClient","ListKeyPoliciesCommand").f(void 0,void 0).ser(qre).de(Lne).build(){};u(YM,"ListKeyPoliciesCommand");var Pm=YM,QM=class extends d.Command.classBuilder().ep({...k}).m(function(t,r,n,o){return[(0,M.getSerdePlugin)(n,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("TrentService","ListKeyRotations",{}).n("KMSClient","ListKeyRotationsCommand").f(void 0,void 0).ser(jre).de(Une).build(){};u(QM,"ListKeyRotationsCommand");var wm=QM,ZM=class extends d.Command.classBuilder().ep({...k}).m(function(t,r,n,o){return[(0,M.getSerdePlugin)(n,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("TrentService","ListKeys",{}).n("KMSClient","ListKeysCommand").f(void 0,void 0).ser(Hre).de(qne).build(){};u(ZM,"ListKeysCommand");var xm=ZM,eK=class extends d.Command.classBuilder().ep({...k}).m(function(t,r,n,o){return[(0,M.getSerdePlugin)(n,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("TrentService","ListResourceTags",{}).n("KMSClient","ListResourceTagsCommand").f(void 0,void 0).ser(Gre).de(jne).build(){};u(eK,"ListResourceTagsCommand");var Rm=eK,tK=class extends d.Command.classBuilder().ep({...k}).m(function(t,r,n,o){return[(0,M.getSerdePlugin)(n,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("TrentService","ListRetirableGrants",{}).n("KMSClient","ListRetirableGrantsCommand").f(void 0,void 0).ser($re).de(Hne).build(){};u(tK,"ListRetirableGrantsCommand");var bm=tK,rK=class extends d.Command.classBuilder().ep({...k}).m(function(t,r,n,o){return[(0,M.getSerdePlugin)(n,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("TrentService","PutKeyPolicy",{}).n("KMSClient","PutKeyPolicyCommand").f(void 0,void 0).ser(zre).de(Gne).build(){};u(rK,"PutKeyPolicyCommand");var nK=rK,oK=class extends d.Command.classBuilder().ep({...k}).m(function(t,r,n,o){return[(0,M.getSerdePlugin)(n,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("TrentService","ReEncrypt",{}).n("KMSClient","ReEncryptCommand").f(void 0,void 0).ser(Wre).de($ne).build(){};u(oK,"ReEncryptCommand");var iK=oK,sK=class extends d.Command.classBuilder().ep({...k}).m(function(t,r,n,o){return[(0,M.getSerdePlugin)(n,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("TrentService","ReplicateKey",{}).n("KMSClient","ReplicateKeyCommand").f(void 0,void 0).ser(Vre).de(zne).build(){};u(sK,"ReplicateKeyCommand");var aK=sK,cK=class extends d.Command.classBuilder().ep({...k}).m(function(t,r,n,o){return[(0,M.getSerdePlugin)(n,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("TrentService","RetireGrant",{}).n("KMSClient","RetireGrantCommand").f(void 0,void 0).ser(Bre).de(Wne).build(){};u(cK,"RetireGrantCommand");var dK=cK,lK=class extends d.Command.classBuilder().ep({...k}).m(function(t,r,n,o){return[(0,M.getSerdePlugin)(n,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("TrentService","RevokeGrant",{}).n("KMSClient","RevokeGrantCommand").f(void 0,void 0).ser(Xre).de(Vne).build(){};u(lK,"RevokeGrantCommand");var uK=lK,pK=class extends d.Command.classBuilder().ep({...k}).m(function(t,r,n,o){return[(0,M.getSerdePlugin)(n,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("TrentService","RotateKeyOnDemand",{}).n("KMSClient","RotateKeyOnDemandCommand").f(void 0,void 0).ser(Jre).de(Bne).build(){};u(pK,"RotateKeyOnDemandCommand");var mK=pK,fK=class extends d.Command.classBuilder().ep({...k}).m(function(t,r,n,o){return[(0,M.getSerdePlugin)(n,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("TrentService","ScheduleKeyDeletion",{}).n("KMSClient","ScheduleKeyDeletionCommand").f(void 0,void 0).ser(Yre).de(Xne).build(){};u(fK,"ScheduleKeyDeletionCommand");var _K=fK,vK=class extends d.Command.classBuilder().ep({...k}).m(function(t,r,n,o){return[(0,M.getSerdePlugin)(n,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("TrentService","Sign",{}).n("KMSClient","SignCommand").f(jk,void 0).ser(Qre).de(Jne).build(){};u(vK,"SignCommand");var gK=vK,yK=class extends d.Command.classBuilder().ep({...k}).m(function(t,r,n,o){return[(0,M.getSerdePlugin)(n,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("TrentService","TagResource",{}).n("KMSClient","TagResourceCommand").f(void 0,void 0).ser(Zre).de(Yne).build(){};u(yK,"TagResourceCommand");var hK=yK,SK=class extends d.Command.classBuilder().ep({...k}).m(function(t,r,n,o){return[(0,M.getSerdePlugin)(n,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("TrentService","UntagResource",{}).n("KMSClient","UntagResourceCommand").f(void 0,void 0).ser(ene).de(Qne).build(){};u(SK,"UntagResourceCommand");var EK=SK,CK=class extends d.Command.classBuilder().ep({...k}).m(function(t,r,n,o){return[(0,M.getSerdePlugin)(n,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("TrentService","UpdateAlias",{}).n("KMSClient","UpdateAliasCommand").f(void 0,void 0).ser(tne).de(Zne).build(){};u(CK,"UpdateAliasCommand");var PK=CK,wK=class extends d.Command.classBuilder().ep({...k}).m(function(t,r,n,o){return[(0,M.getSerdePlugin)(n,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("TrentService","UpdateCustomKeyStore",{}).n("KMSClient","UpdateCustomKeyStoreCommand").f(Hk,void 0).ser(rne).de(eoe).build(){};u(wK,"UpdateCustomKeyStoreCommand");var xK=wK,RK=class extends d.Command.classBuilder().ep({...k}).m(function(t,r,n,o){return[(0,M.getSerdePlugin)(n,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("TrentService","UpdateKeyDescription",{}).n("KMSClient","UpdateKeyDescriptionCommand").f(void 0,void 0).ser(nne).de(toe).build(){};u(RK,"UpdateKeyDescriptionCommand");var bK=RK,AK=class extends d.Command.classBuilder().ep({...k}).m(function(t,r,n,o){return[(0,M.getSerdePlugin)(n,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("TrentService","UpdatePrimaryRegion",{}).n("KMSClient","UpdatePrimaryRegionCommand").f(void 0,void 0).ser(one).de(roe).build(){};u(AK,"UpdatePrimaryRegionCommand");var IK=AK,OK=class extends d.Command.classBuilder().ep({...k}).m(function(t,r,n,o){return[(0,M.getSerdePlugin)(n,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("TrentService","Verify",{}).n("KMSClient","VerifyCommand").f(Gk,void 0).ser(ine).de(noe).build(){};u(OK,"VerifyCommand");var TK=OK,NK=class extends d.Command.classBuilder().ep({...k}).m(function(t,r,n,o){return[(0,M.getSerdePlugin)(n,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("TrentService","VerifyMac",{}).n("KMSClient","VerifyMacCommand").f($k,void 0).ser(sne).de(ooe).build(){};u(NK,"VerifyMacCommand");var DK=NK,Uie={CancelKeyDeletionCommand:Vk,ConnectCustomKeyStoreCommand:Xk,CreateAliasCommand:Yk,CreateCustomKeyStoreCommand:Zk,CreateGrantCommand:tM,CreateKeyCommand:nM,DecryptCommand:iM,DeleteAliasCommand:aM,DeleteCustomKeyStoreCommand:dM,DeleteImportedKeyMaterialCommand:uM,DescribeCustomKeyStoresCommand:Sm,DescribeKeyCommand:fM,DisableKeyCommand:vM,DisableKeyRotationCommand:yM,DisconnectCustomKeyStoreCommand:SM,EnableKeyCommand:CM,EnableKeyRotationCommand:wM,EncryptCommand:RM,GenerateDataKeyCommand:AM,GenerateDataKeyPairCommand:OM,GenerateDataKeyPairWithoutPlaintextCommand:NM,GenerateDataKeyWithoutPlaintextCommand:kM,GenerateMacCommand:KM,GenerateRandomCommand:LM,GetKeyPolicyCommand:qM,GetKeyRotationStatusCommand:HM,GetParametersForImportCommand:$M,GetPublicKeyCommand:WM,ImportKeyMaterialCommand:BM,ListAliasesCommand:Em,ListGrantsCommand:Cm,ListKeyPoliciesCommand:Pm,ListKeyRotationsCommand:wm,ListKeysCommand:xm,ListResourceTagsCommand:Rm,ListRetirableGrantsCommand:bm,PutKeyPolicyCommand:nK,ReEncryptCommand:iK,ReplicateKeyCommand:aK,RetireGrantCommand:dK,RevokeGrantCommand:uK,RotateKeyOnDemandCommand:mK,ScheduleKeyDeletionCommand:_K,SignCommand:gK,TagResourceCommand:hK,UntagResourceCommand:EK,UpdateAliasCommand:PK,UpdateCustomKeyStoreCommand:xK,UpdateKeyDescriptionCommand:bK,UpdatePrimaryRegionCommand:IK,VerifyCommand:TK,VerifyMacCommand:DK},kK=class extends jt{};u(kK,"KMS");var MK=kK;(0,d.createAggregatedClient)(Uie,MK);var qie=(0,Rt.createPaginator)(jt,Sm,"Marker","NextMarker","Limit"),jie=(0,Rt.createPaginator)(jt,Em,"Marker","NextMarker","Limit"),Hie=(0,Rt.createPaginator)(jt,Cm,"Marker","NextMarker","Limit"),Gie=(0,Rt.createPaginator)(jt,Pm,"Marker","NextMarker","Limit"),$ie=(0,Rt.createPaginator)(jt,wm,"Marker","NextMarker","Limit"),zie=(0,Rt.createPaginator)(jt,xm,"Marker","NextMarker","Limit"),Wie=(0,Rt.createPaginator)(jt,Rm,"Marker","NextMarker","Limit"),Vie=(0,Rt.createPaginator)(jt,bm,"Marker","NextMarker","Limit")});var nse={};td(nse,{handler:()=>rse});module.exports=bt(nse);var Ci=ho(FK()),LK=require("crypto");var{subtle:UK}=LK.webcrypto,Xie="spki",Jie="verify",Yie=!0,Qie={name:"RSA-PSS",hash:{name:"SHA-256"}};var Zie={name:"RSA-PSS",saltLength:32};var Am,Im={},ese=()=>(Am||(Am=new Ci.KMSClient({})),Am),tse=async e=>{if(Im[e])return Im[e];let t=await ese().send(new Ci.GetPublicKeyCommand({KeyId:e}));if(!t.PublicKey)throw new Error(`No public key found for key ID: ${e}`);let r=await UK.importKey(Xie,Buffer.from(t.PublicKey),Qie,Yie,[Jie]);if(!r)throw new Error(`Invalid key recieved for key ID: ${e}`);return Im[e]=r,r};var qK=async(e,t)=>{let r=e.split("."),n=tse(t);if(r.length!==3)return{isValid:!1,error:"Invalid token"};let[o,i,s]=r,a=Buffer.from(s,"base64url"),c=`${o}.${i}`;if(!await UK.verify(Zie,await n,a,Buffer.from(c)))return{isValid:!1,error:"Invalid signature"};try{let p=JSON.parse(Buffer.from(i,"base64url").toString());if(p.exp){let m=new Date().getTime()/1e3;if(p.exp<m)return{isValid:!1,error:"Token expired",payload:p}}return{isValid:!0,payload:p}}catch(p){return console.error("[KMS Utils] error verifying",p),{isValid:!1,error:"Invalid payload"}}};var jK=(e,t)=>({principalId:"me",policyDocument:{Version:"2012-10-17",Statement:[{Action:"execute-api:Invoke",Effect:e,Resource:t}]}}),HK=e=>jK("Allow",e),GK=e=>jK("Deny",e);var $K=e=>{let{methodArn:t}=e;return t},zK=(e,t)=>t(null,HK($K(e))),ed=(e,t)=>t(null,GK($K(e)));var rse=async(e,t,r)=>{if(console.log("Received event:",JSON.stringify(e,null,2)),!process?.env?.kmsJwtAliasName)return console.log("Environment variables are not set"),ed(e,r);let{token:n}=e?.queryStringParameters??{};if(!n)return console.log("Invalid request",n),ed(e,r);let{isValid:o,error:i}=await qK(n,process.env.kmsJwtAliasName);return i?(console.log("Invalid token:",i),ed(e,r)):zK(e,r)};0&&(module.exports={handler});
//# sourceMappingURL=index.js.map
