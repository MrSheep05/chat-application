"use strict";var eF=Object.create;var wi=Object.defineProperty;var tF=Object.getOwnPropertyDescriptor;var rF=Object.getOwnPropertyNames;var nF=Object.getPrototypeOf,oF=Object.prototype.hasOwnProperty;var _e=(e,t)=>()=>(e&&(t=e(e=0)),t);var _=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),nd=(e,t)=>{for(var r in t)wi(e,r,{get:t[r],enumerable:!0})},Mm=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of rF(t))!oF.call(e,o)&&o!==r&&wi(e,o,{get:()=>t[o],enumerable:!(n=tF(t,o))||n.enumerable});return e};var Eo=(e,t,r)=>(r=e!=null?eF(nF(e)):{},Mm(t||!e||!e.__esModule?wi(r,"default",{value:e,enumerable:!0}):r,e)),bt=e=>Mm(wi({},"__esModule",{value:!0}),e);var qe=_((yse,zm)=>{var xi=Object.defineProperty,sF=Object.getOwnPropertyDescriptor,aF=Object.getOwnPropertyNames,cF=Object.prototype.hasOwnProperty,Ri=(e,t)=>xi(e,"name",{value:t,configurable:!0}),dF=(e,t)=>{for(var r in t)xi(e,r,{get:t[r],enumerable:!0})},lF=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of aF(t))!cF.call(e,o)&&o!==r&&xi(e,o,{get:()=>t[o],enumerable:!(n=sF(t,o))||n.enumerable});return e},uF=e=>lF(xi({},"__esModule",{value:!0}),e),Fm={};dF(Fm,{AlgorithmId:()=>jm,EndpointURLScheme:()=>qm,FieldPosition:()=>Hm,HttpApiKeyAuthLocation:()=>Um,HttpAuthLocation:()=>Lm,IniSectionType:()=>Gm,RequestHandlerProtocol:()=>$m,SMITHY_CONTEXT_KEY:()=>_F,getDefaultClientConfiguration:()=>fF,resolveDefaultRuntimeConfig:()=>vF});zm.exports=uF(Fm);var Lm=(e=>(e.HEADER="header",e.QUERY="query",e))(Lm||{}),Um=(e=>(e.HEADER="header",e.QUERY="query",e))(Um||{}),qm=(e=>(e.HTTP="http",e.HTTPS="https",e))(qm||{}),jm=(e=>(e.MD5="md5",e.CRC32="crc32",e.CRC32C="crc32c",e.SHA1="sha1",e.SHA256="sha256",e))(jm||{}),pF=Ri(e=>{let t=[];return e.sha256!==void 0&&t.push({algorithmId:()=>"sha256",checksumConstructor:()=>e.sha256}),e.md5!=null&&t.push({algorithmId:()=>"md5",checksumConstructor:()=>e.md5}),{_checksumAlgorithms:t,addChecksumAlgorithm(r){this._checksumAlgorithms.push(r)},checksumAlgorithms(){return this._checksumAlgorithms}}},"getChecksumConfiguration"),mF=Ri(e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},"resolveChecksumRuntimeConfig"),fF=Ri(e=>({...pF(e)}),"getDefaultClientConfiguration"),vF=Ri(e=>({...mF(e)}),"resolveDefaultRuntimeConfig"),Hm=(e=>(e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER",e))(Hm||{}),_F="__smithy_context",Gm=(e=>(e.PROFILE="profile",e.SSO_SESSION="sso-session",e.SERVICES="services",e))(Gm||{}),$m=(e=>(e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0",e))($m||{})});var ae=_((Cse,ef)=>{var bi=Object.defineProperty,gF=Object.getOwnPropertyDescriptor,yF=Object.getOwnPropertyNames,hF=Object.prototype.hasOwnProperty,lr=(e,t)=>bi(e,"name",{value:t,configurable:!0}),SF=(e,t)=>{for(var r in t)bi(e,r,{get:t[r],enumerable:!0})},EF=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of yF(t))!hF.call(e,o)&&o!==r&&bi(e,o,{get:()=>t[o],enumerable:!(n=gF(t,o))||n.enumerable});return e},CF=e=>EF(bi({},"__esModule",{value:!0}),e),Wm={};SF(Wm,{Field:()=>RF,Fields:()=>bF,HttpRequest:()=>AF,HttpResponse:()=>IF,getHttpHandlerExtensionConfiguration:()=>PF,isValidHostname:()=>Zm,resolveHttpHandlerRuntimeConfig:()=>wF});ef.exports=CF(Wm);var PF=lr(e=>{let t=e.httpHandler;return{setHttpHandler(r){t=r},httpHandler(){return t},updateHttpClientConfig(r,n){t.updateHttpClientConfig(r,n)},httpHandlerConfigs(){return t.httpHandlerConfigs()}}},"getHttpHandlerExtensionConfiguration"),wF=lr(e=>({httpHandler:e.httpHandler()}),"resolveHttpHandlerRuntimeConfig"),xF=qe(),Vm=class{constructor({name:t,kind:r=xF.FieldPosition.HEADER,values:n=[]}){this.name=t,this.kind=r,this.values=n}add(t){this.values.push(t)}set(t){this.values=t}remove(t){this.values=this.values.filter(r=>r!==t)}toString(){return this.values.map(t=>t.includes(",")||t.includes(" ")?`"${t}"`:t).join(", ")}get(){return this.values}};lr(Vm,"Field");var RF=Vm,Bm=class{constructor({fields:t=[],encoding:r="utf-8"}){this.entries={},t.forEach(this.setField.bind(this)),this.encoding=r}setField(t){this.entries[t.name.toLowerCase()]=t}getField(t){return this.entries[t.toLowerCase()]}removeField(t){delete this.entries[t.toLowerCase()]}getByType(t){return Object.values(this.entries).filter(r=>r.kind===t)}};lr(Bm,"Fields");var bF=Bm,Xm=class Jm{constructor(t){this.method=t.method||"GET",this.hostname=t.hostname||"localhost",this.port=t.port,this.query=t.query||{},this.headers=t.headers||{},this.body=t.body,this.protocol=t.protocol?t.protocol.slice(-1)!==":"?`${t.protocol}:`:t.protocol:"https:",this.path=t.path?t.path.charAt(0)!=="/"?`/${t.path}`:t.path:"/",this.username=t.username,this.password=t.password,this.fragment=t.fragment}static isInstance(t){if(!t)return!1;let r=t;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){let t=new Jm({...this,headers:{...this.headers}});return t.query&&(t.query=Ym(t.query)),t}};lr(Xm,"HttpRequest");var AF=Xm;function Ym(e){return Object.keys(e).reduce((t,r)=>{let n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{})}lr(Ym,"cloneQuery");var Qm=class{constructor(t){this.statusCode=t.statusCode,this.reason=t.reason,this.headers=t.headers||{},this.body=t.body}static isInstance(t){if(!t)return!1;let r=t;return typeof r.statusCode=="number"&&typeof r.headers=="object"}};lr(Qm,"HttpResponse");var IF=Qm;function Zm(e){return/^[a-z0-9][a-z0-9\.\-]*[a-z0-9]$/.test(e)}lr(Zm,"isValidHostname")});var Ii=_((Pse,sf)=>{var Ai=Object.defineProperty,OF=Object.getOwnPropertyDescriptor,TF=Object.getOwnPropertyNames,NF=Object.prototype.hasOwnProperty,od=(e,t)=>Ai(e,"name",{value:t,configurable:!0}),DF=(e,t)=>{for(var r in t)Ai(e,r,{get:t[r],enumerable:!0})},kF=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of TF(t))!NF.call(e,o)&&o!==r&&Ai(e,o,{get:()=>t[o],enumerable:!(n=OF(t,o))||n.enumerable});return e},MF=e=>kF(Ai({},"__esModule",{value:!0}),e),tf={};DF(tf,{getHostHeaderPlugin:()=>FF,hostHeaderMiddleware:()=>nf,hostHeaderMiddlewareOptions:()=>of,resolveHostHeaderConfig:()=>rf});sf.exports=MF(tf);var KF=ae();function rf(e){return e}od(rf,"resolveHostHeaderConfig");var nf=od(e=>t=>async r=>{if(!KF.HttpRequest.isInstance(r.request))return t(r);let{request:n}=r,{handlerProtocol:o=""}=e.requestHandler.metadata||{};if(o.indexOf("h2")>=0&&!n.headers[":authority"])delete n.headers.host,n.headers[":authority"]=n.hostname+(n.port?":"+n.port:"");else if(!n.headers.host){let i=n.hostname;n.port!=null&&(i+=`:${n.port}`),n.headers.host=i}return t(r)},"hostHeaderMiddleware"),of={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},FF=od(e=>({applyToStack:t=>{t.add(nf(e),of)}}),"getHostHeaderPlugin")});var Ti=_((wse,uf)=>{var Oi=Object.defineProperty,LF=Object.getOwnPropertyDescriptor,UF=Object.getOwnPropertyNames,qF=Object.prototype.hasOwnProperty,af=(e,t)=>Oi(e,"name",{value:t,configurable:!0}),jF=(e,t)=>{for(var r in t)Oi(e,r,{get:t[r],enumerable:!0})},HF=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of UF(t))!qF.call(e,o)&&o!==r&&Oi(e,o,{get:()=>t[o],enumerable:!(n=LF(t,o))||n.enumerable});return e},GF=e=>HF(Oi({},"__esModule",{value:!0}),e),cf={};jF(cf,{getLoggerPlugin:()=>$F,loggerMiddleware:()=>df,loggerMiddlewareOptions:()=>lf});uf.exports=GF(cf);var df=af(()=>(e,t)=>async r=>{var n,o;try{let i=await e(r),{clientName:s,commandName:a,logger:c,dynamoDbDocumentClientOptions:l={}}=t,{overrideInputFilterSensitiveLog:p,overrideOutputFilterSensitiveLog:m}=l,f=p??t.inputFilterSensitiveLog,v=m??t.outputFilterSensitiveLog,{$metadata:g,...S}=i.output;return(n=c?.info)==null||n.call(c,{clientName:s,commandName:a,input:f(r.input),output:v(S),metadata:g}),i}catch(i){let{clientName:s,commandName:a,logger:c,dynamoDbDocumentClientOptions:l={}}=t,{overrideInputFilterSensitiveLog:p}=l,m=p??t.inputFilterSensitiveLog;throw(o=c?.error)==null||o.call(c,{clientName:s,commandName:a,input:m(r.input),error:i,metadata:i.$metadata}),i}},"loggerMiddleware"),lf={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},$F=af(e=>({applyToStack:t=>{t.add(df(),lf)}}),"getLoggerPlugin")});var Di=_((xse,_f)=>{var Ni=Object.defineProperty,zF=Object.getOwnPropertyDescriptor,WF=Object.getOwnPropertyNames,VF=Object.prototype.hasOwnProperty,id=(e,t)=>Ni(e,"name",{value:t,configurable:!0}),BF=(e,t)=>{for(var r in t)Ni(e,r,{get:t[r],enumerable:!0})},XF=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of WF(t))!VF.call(e,o)&&o!==r&&Ni(e,o,{get:()=>t[o],enumerable:!(n=zF(t,o))||n.enumerable});return e},JF=e=>XF(Ni({},"__esModule",{value:!0}),e),mf={};BF(mf,{addRecursionDetectionMiddlewareOptions:()=>vf,getRecursionDetectionPlugin:()=>eL,recursionDetectionMiddleware:()=>ff});_f.exports=JF(mf);var YF=ae(),pf="X-Amzn-Trace-Id",QF="AWS_LAMBDA_FUNCTION_NAME",ZF="_X_AMZN_TRACE_ID",ff=id(e=>t=>async r=>{let{request:n}=r;if(!YF.HttpRequest.isInstance(n)||e.runtime!=="node"||n.headers.hasOwnProperty(pf))return t(r);let o=process.env[QF],i=process.env[ZF],s=id(a=>typeof a=="string"&&a.length>0,"nonEmptyString");return s(o)&&s(i)&&(n.headers[pf]=i),t({...r,request:n})},"recursionDetectionMiddleware"),vf={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},eL=id(e=>({applyToStack:t=>{t.add(ff(e),vf)}}),"getRecursionDetectionPlugin")});var Gt=_((bse,Rf)=>{var ki=Object.defineProperty,tL=Object.getOwnPropertyDescriptor,rL=Object.getOwnPropertyNames,nL=Object.prototype.hasOwnProperty,J=(e,t)=>ki(e,"name",{value:t,configurable:!0}),oL=(e,t)=>{for(var r in t)ki(e,r,{get:t[r],enumerable:!0})},iL=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of rL(t))!nL.call(e,o)&&o!==r&&ki(e,o,{get:()=>t[o],enumerable:!(n=tL(t,o))||n.enumerable});return e},sL=e=>iL(ki({},"__esModule",{value:!0}),e),gf={};oL(gf,{EndpointError:()=>Me,customEndpointFunctions:()=>ad,isIpAddress:()=>yf,isValidHostLabel:()=>dd,resolveEndpoint:()=>xL});Rf.exports=sL(gf);var aL=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),yf=J(e=>aL.test(e)||e.startsWith("[")&&e.endsWith("]"),"isIpAddress"),cL=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),dd=J((e,t=!1)=>{if(!t)return cL.test(e);let r=e.split(".");for(let n of r)if(!dd(n))return!1;return!0},"isValidHostLabel"),ad={},Co="endpoints";function Ht(e){return typeof e!="object"||e==null?e:"ref"in e?`$${Ht(e.ref)}`:"fn"in e?`${e.fn}(${(e.argv||[]).map(Ht).join(", ")})`:JSON.stringify(e,null,2)}J(Ht,"toDebugString");var hf=class extends Error{constructor(t){super(t),this.name="EndpointError"}};J(hf,"EndpointError");var Me=hf,dL=J((e,t)=>e===t,"booleanEquals"),lL=J(e=>{let t=e.split("."),r=[];for(let n of t){let o=n.indexOf("[");if(o!==-1){if(n.indexOf("]")!==n.length-1)throw new Me(`Path: '${e}' does not end with ']'`);let i=n.slice(o+1,-1);if(Number.isNaN(parseInt(i)))throw new Me(`Invalid array index: '${i}' in path: '${e}'`);o!==0&&r.push(n.slice(0,o)),r.push(i)}else r.push(n)}return r},"getAttrPathList"),Sf=J((e,t)=>lL(t).reduce((r,n)=>{if(typeof r!="object")throw new Me(`Index '${n}' in '${t}' not found in '${JSON.stringify(e)}'`);return Array.isArray(r)?r[parseInt(n)]:r[n]},e),"getAttr"),uL=J(e=>e!=null,"isSet"),pL=J(e=>!e,"not"),cd=qe(),sd={[cd.EndpointURLScheme.HTTP]:80,[cd.EndpointURLScheme.HTTPS]:443},mL=J(e=>{let t=(()=>{try{if(e instanceof URL)return e;if(typeof e=="object"&&"hostname"in e){let{hostname:f,port:v,protocol:g="",path:S="",query:P={}}=e,x=new URL(`${g}//${f}${v?`:${v}`:""}${S}`);return x.search=Object.entries(P).map(([R,de])=>`${R}=${de}`).join("&"),x}return new URL(e)}catch{return null}})();if(!t)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;let r=t.href,{host:n,hostname:o,pathname:i,protocol:s,search:a}=t;if(a)return null;let c=s.slice(0,-1);if(!Object.values(cd.EndpointURLScheme).includes(c))return null;let l=yf(o),p=r.includes(`${n}:${sd[c]}`)||typeof e=="string"&&e.includes(`${n}:${sd[c]}`),m=`${n}${p?`:${sd[c]}`:""}`;return{scheme:c,authority:m,path:i,normalizedPath:i.endsWith("/")?i:`${i}/`,isIp:l}},"parseURL"),fL=J((e,t)=>e===t,"stringEquals"),vL=J((e,t,r,n)=>t>=r||e.length<r?null:n?e.substring(e.length-r,e.length-t):e.substring(t,r),"substring"),_L=J(e=>encodeURIComponent(e).replace(/[!*'()]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`),"uriEncode"),gL={booleanEquals:dL,getAttr:Sf,isSet:uL,isValidHostLabel:dd,not:pL,parseURL:mL,stringEquals:fL,substring:vL,uriEncode:_L},Ef=J((e,t)=>{let r=[],n={...t.endpointParams,...t.referenceRecord},o=0;for(;o<e.length;){let i=e.indexOf("{",o);if(i===-1){r.push(e.slice(o));break}r.push(e.slice(o,i));let s=e.indexOf("}",i);if(s===-1){r.push(e.slice(i));break}e[i+1]==="{"&&e[s+1]==="}"&&(r.push(e.slice(i+1,s)),o=s+2);let a=e.substring(i+1,s);if(a.includes("#")){let[c,l]=a.split("#");r.push(Sf(n[c],l))}else r.push(n[a]);o=s+1}return r.join("")},"evaluateTemplate"),yL=J(({ref:e},t)=>({...t.endpointParams,...t.referenceRecord})[e],"getReferenceValue"),Mi=J((e,t,r)=>{if(typeof e=="string")return Ef(e,r);if(e.fn)return Cf(e,r);if(e.ref)return yL(e,r);throw new Me(`'${t}': ${String(e)} is not a string, function or reference.`)},"evaluateExpression"),Cf=J(({fn:e,argv:t},r)=>{let n=t.map(i=>["boolean","number"].includes(typeof i)?i:Mi(i,"arg",r)),o=e.split(".");return o[0]in ad&&o[1]!=null?ad[o[0]][o[1]](...n):gL[e](...n)},"callFunction"),hL=J(({assign:e,...t},r)=>{var n,o;if(e&&e in r.referenceRecord)throw new Me(`'${e}' is already defined in Reference Record.`);let i=Cf(t,r);return(o=(n=r.logger)==null?void 0:n.debug)==null||o.call(n,Co,`evaluateCondition: ${Ht(t)} = ${Ht(i)}`),{result:i===""?!0:!!i,...e!=null&&{toAssign:{name:e,value:i}}}},"evaluateCondition"),ld=J((e=[],t)=>{var r,n;let o={};for(let i of e){let{result:s,toAssign:a}=hL(i,{...t,referenceRecord:{...t.referenceRecord,...o}});if(!s)return{result:s};a&&(o[a.name]=a.value,(n=(r=t.logger)==null?void 0:r.debug)==null||n.call(r,Co,`assign: ${a.name} := ${Ht(a.value)}`))}return{result:!0,referenceRecord:o}},"evaluateConditions"),SL=J((e,t)=>Object.entries(e).reduce((r,[n,o])=>({...r,[n]:o.map(i=>{let s=Mi(i,"Header value entry",t);if(typeof s!="string")throw new Me(`Header '${n}' value '${s}' is not a string`);return s})}),{}),"getEndpointHeaders"),Pf=J((e,t)=>{if(Array.isArray(e))return e.map(r=>Pf(r,t));switch(typeof e){case"string":return Ef(e,t);case"object":if(e===null)throw new Me(`Unexpected endpoint property: ${e}`);return wf(e,t);case"boolean":return e;default:throw new Me(`Unexpected endpoint property type: ${typeof e}`)}},"getEndpointProperty"),wf=J((e,t)=>Object.entries(e).reduce((r,[n,o])=>({...r,[n]:Pf(o,t)}),{}),"getEndpointProperties"),EL=J((e,t)=>{let r=Mi(e,"Endpoint URL",t);if(typeof r=="string")try{return new URL(r)}catch(n){throw console.error(`Failed to construct URL with ${r}`,n),n}throw new Me(`Endpoint URL must be a string, got ${typeof r}`)},"getEndpointUrl"),CL=J((e,t)=>{var r,n;let{conditions:o,endpoint:i}=e,{result:s,referenceRecord:a}=ld(o,t);if(!s)return;let c={...t,referenceRecord:{...t.referenceRecord,...a}},{url:l,properties:p,headers:m}=i;return(n=(r=t.logger)==null?void 0:r.debug)==null||n.call(r,Co,`Resolving endpoint from template: ${Ht(i)}`),{...m!=null&&{headers:SL(m,c)},...p!=null&&{properties:wf(p,c)},url:EL(l,c)}},"evaluateEndpointRule"),PL=J((e,t)=>{let{conditions:r,error:n}=e,{result:o,referenceRecord:i}=ld(r,t);if(o)throw new Me(Mi(n,"Error",{...t,referenceRecord:{...t.referenceRecord,...i}}))},"evaluateErrorRule"),wL=J((e,t)=>{let{conditions:r,rules:n}=e,{result:o,referenceRecord:i}=ld(r,t);if(o)return xf(n,{...t,referenceRecord:{...t.referenceRecord,...i}})},"evaluateTreeRule"),xf=J((e,t)=>{for(let r of e)if(r.type==="endpoint"){let n=CL(r,t);if(n)return n}else if(r.type==="error")PL(r,t);else if(r.type==="tree"){let n=wL(r,t);if(n)return n}else throw new Me(`Unknown endpoint rule: ${r}`);throw new Me("Rules evaluation failed")},"evaluateRules"),xL=J((e,t)=>{var r,n,o,i,s;let{endpointParams:a,logger:c}=t,{parameters:l,rules:p}=e;(n=(r=t.logger)==null?void 0:r.debug)==null||n.call(r,`${Co} Initial EndpointParams: ${Ht(a)}`);let m=Object.entries(l).filter(([,g])=>g.default!=null).map(([g,S])=>[g,S.default]);if(m.length>0)for(let[g,S]of m)a[g]=a[g]??S;let f=Object.entries(l).filter(([,g])=>g.required).map(([g])=>g);for(let g of f)if(a[g]==null)throw new Me(`Missing required parameter: '${g}'`);let v=xf(p,{endpointParams:a,logger:c,referenceRecord:{}});if((o=t.endpointParams)!=null&&o.Endpoint)try{let g=new URL(t.endpointParams.Endpoint),{protocol:S,port:P}=g;v.url.protocol=S,v.url.port=P}catch{}return(s=(i=t.logger)==null?void 0:i.debug)==null||s.call(i,`${Co} Resolved endpoint: ${Ht(v)}`),v},"resolveEndpoint")});var Po=_((Ase,Mf)=>{"use strict";var Ki=Object.defineProperty,RL=Object.getOwnPropertyDescriptor,bL=Object.getOwnPropertyNames,AL=Object.prototype.hasOwnProperty,vn=(e,t)=>Ki(e,"name",{value:t,configurable:!0}),IL=(e,t)=>{for(var r in t)Ki(e,r,{get:t[r],enumerable:!0})},OL=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of bL(t))!AL.call(e,o)&&o!==r&&Ki(e,o,{get:()=>t[o],enumerable:!(n=RL(t,o))||n.enumerable});return e},TL=e=>OL(Ki({},"__esModule",{value:!0}),e),bf={};IL(bf,{ConditionObject:()=>Y.ConditionObject,DeprecatedObject:()=>Y.DeprecatedObject,EndpointError:()=>Y.EndpointError,EndpointObject:()=>Y.EndpointObject,EndpointObjectHeaders:()=>Y.EndpointObjectHeaders,EndpointObjectProperties:()=>Y.EndpointObjectProperties,EndpointParams:()=>Y.EndpointParams,EndpointResolverOptions:()=>Y.EndpointResolverOptions,EndpointRuleObject:()=>Y.EndpointRuleObject,ErrorRuleObject:()=>Y.ErrorRuleObject,EvaluateOptions:()=>Y.EvaluateOptions,Expression:()=>Y.Expression,FunctionArgv:()=>Y.FunctionArgv,FunctionObject:()=>Y.FunctionObject,FunctionReturn:()=>Y.FunctionReturn,ParameterObject:()=>Y.ParameterObject,ReferenceObject:()=>Y.ReferenceObject,ReferenceRecord:()=>Y.ReferenceRecord,RuleSetObject:()=>Y.RuleSetObject,RuleSetRules:()=>Y.RuleSetRules,TreeRuleObject:()=>Y.TreeRuleObject,awsEndpointFunctions:()=>kf,getUserAgentPrefix:()=>kL,isIpAddress:()=>Y.isIpAddress,partition:()=>Nf,resolveEndpoint:()=>Y.resolveEndpoint,setPartitionInfo:()=>Df,useDefaultPartitionInfo:()=>DL});Mf.exports=TL(bf);var Y=Gt(),Af=vn((e,t=!1)=>{if(t){for(let r of e.split("."))if(!Af(r))return!1;return!0}return!(!(0,Y.isValidHostLabel)(e)||e.length<3||e.length>63||e!==e.toLowerCase()||(0,Y.isIpAddress)(e))},"isVirtualHostableS3Bucket"),NL=vn(e=>{let t=e.split(":");if(t.length<6)return null;let[r,n,o,i,s,...a]=t;return r!=="arn"||n===""||o===""||a[0]===""?null:{partition:n,service:o,region:i,accountId:s,resourceId:a[0].includes("/")?a[0].split("/"):a}},"parseArn"),If={partitions:[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"aws-global":{description:"AWS Standard global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"AWS China global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"AWS GovCloud (US) global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"c2s.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"AWS ISO (US) global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"sc2s.sgov.gov",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"AWS ISOB (US) global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"cloud.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"csp.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{}}],version:"1.1"},Of=If,Tf="",Nf=vn(e=>{let{partitions:t}=Of;for(let n of t){let{regions:o,outputs:i}=n;for(let[s,a]of Object.entries(o))if(s===e)return{...i,...a}}for(let n of t){let{regionRegex:o,outputs:i}=n;if(new RegExp(o).test(e))return{...i}}let r=t.find(n=>n.id==="aws");if(!r)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...r.outputs}},"partition"),Df=vn((e,t="")=>{Of=e,Tf=t},"setPartitionInfo"),DL=vn(()=>{Df(If,"")},"useDefaultPartitionInfo"),kL=vn(()=>Tf,"getUserAgentPrefix"),kf={isVirtualHostableS3Bucket:Af,parseArn:NL,partition:Nf};Y.customEndpointFunctions.aws=kf});var Ui=_((Ise,Gf)=>{"use strict";var Fi=Object.defineProperty,ML=Object.getOwnPropertyDescriptor,KL=Object.getOwnPropertyNames,FL=Object.prototype.hasOwnProperty,Li=(e,t)=>Fi(e,"name",{value:t,configurable:!0}),LL=(e,t)=>{for(var r in t)Fi(e,r,{get:t[r],enumerable:!0})},UL=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of KL(t))!FL.call(e,o)&&o!==r&&Fi(e,o,{get:()=>t[o],enumerable:!(n=ML(t,o))||n.enumerable});return e},qL=e=>UL(Fi({},"__esModule",{value:!0}),e),Uf={};LL(Uf,{getUserAgentMiddlewareOptions:()=>Hf,getUserAgentPlugin:()=>zL,resolveUserAgentConfig:()=>qf,userAgentMiddleware:()=>jf});Gf.exports=qL(Uf);function qf(e){return{...e,customUserAgent:typeof e.customUserAgent=="string"?[[e.customUserAgent]]:e.customUserAgent}}Li(qf,"resolveUserAgentConfig");var jL=Po(),HL=ae(),Kf="user-agent",ud="x-amz-user-agent",Ff=" ",pd="/",GL=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,$L=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,Lf="-",jf=Li(e=>(t,r)=>async n=>{var o,i;let{request:s}=n;if(!HL.HttpRequest.isInstance(s))return t(n);let{headers:a}=s,c=((o=r?.userAgent)==null?void 0:o.map(md))||[],l=(await e.defaultUserAgentProvider()).map(md),p=((i=e?.customUserAgent)==null?void 0:i.map(md))||[],m=(0,jL.getUserAgentPrefix)(),f=(m?[m]:[]).concat([...l,...c,...p]).join(Ff),v=[...l.filter(g=>g.startsWith("aws-sdk-")),...p].join(Ff);return e.runtime!=="browser"?(v&&(a[ud]=a[ud]?`${a[Kf]} ${v}`:v),a[Kf]=f):a[ud]=f,t({...n,request:s})},"userAgentMiddleware"),md=Li(e=>{var t;let r=e[0].split(pd).map(a=>a.replace(GL,Lf)).join(pd),n=(t=e[1])==null?void 0:t.replace($L,Lf),o=r.indexOf(pd),i=r.substring(0,o),s=r.substring(o+1);return i==="api"&&(s=s.toLowerCase()),[i,s,n].filter(a=>a&&a.length>0).reduce((a,c,l)=>{switch(l){case 0:return c;case 1:return`${a}/${c}`;default:return`${a}#${c}`}},"")},"escapeUserAgent"),Hf={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},zL=Li(e=>({applyToStack:t=>{t.add(jf(e),Hf)}}),"getUserAgentPlugin")});var Bf=_((Ose,Vf)=>{var qi=Object.defineProperty,WL=Object.getOwnPropertyDescriptor,VL=Object.getOwnPropertyNames,BL=Object.prototype.hasOwnProperty,$f=(e,t)=>qi(e,"name",{value:t,configurable:!0}),XL=(e,t)=>{for(var r in t)qi(e,r,{get:t[r],enumerable:!0})},JL=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of VL(t))!BL.call(e,o)&&o!==r&&qi(e,o,{get:()=>t[o],enumerable:!(n=WL(t,o))||n.enumerable});return e},YL=e=>JL(qi({},"__esModule",{value:!0}),e),zf={};XL(zf,{SelectorType:()=>Wf,booleanSelector:()=>QL,numberSelector:()=>ZL});Vf.exports=YL(zf);var QL=$f((e,t,r)=>{if(t in e){if(e[t]==="true")return!0;if(e[t]==="false")return!1;throw new Error(`Cannot load ${r} "${t}". Expected "true" or "false", got ${e[t]}.`)}},"booleanSelector"),ZL=$f((e,t,r)=>{if(!(t in e))return;let n=parseInt(e[t],10);if(Number.isNaN(n))throw new TypeError(`Cannot load ${r} '${t}'. Expected number, got '${e[t]}'.`);return n},"numberSelector"),Wf=(e=>(e.ENV="env",e.CONFIG="shared config entry",e))(Wf||{})});var Ve=_((Tse,Qf)=>{var ji=Object.defineProperty,eU=Object.getOwnPropertyDescriptor,tU=Object.getOwnPropertyNames,rU=Object.prototype.hasOwnProperty,Jf=(e,t)=>ji(e,"name",{value:t,configurable:!0}),nU=(e,t)=>{for(var r in t)ji(e,r,{get:t[r],enumerable:!0})},oU=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of tU(t))!rU.call(e,o)&&o!==r&&ji(e,o,{get:()=>t[o],enumerable:!(n=eU(t,o))||n.enumerable});return e},iU=e=>oU(ji({},"__esModule",{value:!0}),e),Yf={};nU(Yf,{getSmithyContext:()=>sU,normalizeProvider:()=>aU});Qf.exports=iU(Yf);var Xf=qe(),sU=Jf(e=>e[Xf.SMITHY_CONTEXT_KEY]||(e[Xf.SMITHY_CONTEXT_KEY]={}),"getSmithyContext"),aU=Jf(e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t},"normalizeProvider")});var Ke=_((Nse,dv)=>{var Gi=Object.defineProperty,cU=Object.getOwnPropertyDescriptor,dU=Object.getOwnPropertyNames,lU=Object.prototype.hasOwnProperty,vt=(e,t)=>Gi(e,"name",{value:t,configurable:!0}),uU=(e,t)=>{for(var r in t)Gi(e,r,{get:t[r],enumerable:!0})},pU=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of dU(t))!lU.call(e,o)&&o!==r&&Gi(e,o,{get:()=>t[o],enumerable:!(n=cU(t,o))||n.enumerable});return e},mU=e=>pU(Gi({},"__esModule",{value:!0}),e),tv={};uU(tv,{CONFIG_USE_DUALSTACK_ENDPOINT:()=>nv,CONFIG_USE_FIPS_ENDPOINT:()=>iv,DEFAULT_USE_DUALSTACK_ENDPOINT:()=>fU,DEFAULT_USE_FIPS_ENDPOINT:()=>_U,ENV_USE_DUALSTACK_ENDPOINT:()=>rv,ENV_USE_FIPS_ENDPOINT:()=>ov,NODE_REGION_CONFIG_FILE_OPTIONS:()=>CU,NODE_REGION_CONFIG_OPTIONS:()=>EU,NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS:()=>vU,NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS:()=>gU,REGION_ENV_NAME:()=>sv,REGION_INI_NAME:()=>av,getRegionInfo:()=>bU,resolveCustomEndpointsConfig:()=>yU,resolveEndpointsConfig:()=>SU,resolveRegionConfig:()=>PU});dv.exports=mU(tv);var ur=Bf(),rv="AWS_USE_DUALSTACK_ENDPOINT",nv="use_dualstack_endpoint",fU=!1,vU={environmentVariableSelector:e=>(0,ur.booleanSelector)(e,rv,ur.SelectorType.ENV),configFileSelector:e=>(0,ur.booleanSelector)(e,nv,ur.SelectorType.CONFIG),default:!1},ov="AWS_USE_FIPS_ENDPOINT",iv="use_fips_endpoint",_U=!1,gU={environmentVariableSelector:e=>(0,ur.booleanSelector)(e,ov,ur.SelectorType.ENV),configFileSelector:e=>(0,ur.booleanSelector)(e,iv,ur.SelectorType.CONFIG),default:!1},Hi=Ve(),yU=vt(e=>{let{endpoint:t,urlParser:r}=e;return{...e,tls:e.tls??!0,endpoint:(0,Hi.normalizeProvider)(typeof t=="string"?r(t):t),isCustomEndpoint:!0,useDualstackEndpoint:(0,Hi.normalizeProvider)(e.useDualstackEndpoint??!1)}},"resolveCustomEndpointsConfig"),hU=vt(async e=>{let{tls:t=!0}=e,r=await e.region();if(!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(r))throw new Error("Invalid region in client config");let o=await e.useDualstackEndpoint(),i=await e.useFipsEndpoint(),{hostname:s}=await e.regionInfoProvider(r,{useDualstackEndpoint:o,useFipsEndpoint:i})??{};if(!s)throw new Error("Cannot resolve hostname from client config");return e.urlParser(`${t?"https:":"http:"}//${s}`)},"getEndpointFromRegion"),SU=vt(e=>{let t=(0,Hi.normalizeProvider)(e.useDualstackEndpoint??!1),{endpoint:r,useFipsEndpoint:n,urlParser:o}=e;return{...e,tls:e.tls??!0,endpoint:r?(0,Hi.normalizeProvider)(typeof r=="string"?o(r):r):()=>hU({...e,useDualstackEndpoint:t,useFipsEndpoint:n}),isCustomEndpoint:!!r,useDualstackEndpoint:t}},"resolveEndpointsConfig"),sv="AWS_REGION",av="region",EU={environmentVariableSelector:e=>e[sv],configFileSelector:e=>e[av],default:()=>{throw new Error("Region is missing")}},CU={preferredFile:"credentials"},cv=vt(e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),"isFipsRegion"),Zf=vt(e=>cv(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,"getRealRegion"),PU=vt(e=>{let{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return{...e,region:async()=>{if(typeof t=="string")return Zf(t);let n=await t();return Zf(n)},useFipsEndpoint:async()=>{let n=typeof t=="string"?t:await t();return cv(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()}}},"resolveRegionConfig"),ev=vt((e=[],{useFipsEndpoint:t,useDualstackEndpoint:r})=>{var n;return(n=e.find(({tags:o})=>t===o.includes("fips")&&r===o.includes("dualstack")))==null?void 0:n.hostname},"getHostnameFromVariants"),wU=vt((e,{regionHostname:t,partitionHostname:r})=>t||(r?r.replace("{region}",e):void 0),"getResolvedHostname"),xU=vt((e,{partitionHash:t})=>Object.keys(t||{}).find(r=>t[r].regions.includes(e))??"aws","getResolvedPartition"),RU=vt((e,{signingRegion:t,regionRegex:r,useFipsEndpoint:n})=>{if(t)return t;if(n){let o=r.replace("\\\\","\\").replace(/^\^/g,"\\.").replace(/\$$/g,"\\."),i=e.match(o);if(i)return i[0].slice(1,-1)}},"getResolvedSigningRegion"),bU=vt((e,{useFipsEndpoint:t=!1,useDualstackEndpoint:r=!1,signingService:n,regionHash:o,partitionHash:i})=>{var s,a,c,l,p;let m=xU(e,{partitionHash:i}),f=e in o?e:((s=i[m])==null?void 0:s.endpoint)??e,v={useFipsEndpoint:t,useDualstackEndpoint:r},g=ev((a=o[f])==null?void 0:a.variants,v),S=ev((c=i[m])==null?void 0:c.variants,v),P=wU(f,{regionHostname:g,partitionHostname:S});if(P===void 0)throw new Error(`Endpoint resolution failed for: ${{resolvedRegion:f,useFipsEndpoint:t,useDualstackEndpoint:r}}`);let x=RU(P,{signingRegion:(l=o[f])==null?void 0:l.signingRegion,regionRegex:i[m].regionRegex,useFipsEndpoint:t});return{partition:m,signingService:n,hostname:P,...x&&{signingRegion:x},...((p=o[f])==null?void 0:p.signingService)&&{signingService:o[f].signingService}}},"getRegionInfo")});var te=_((Dse,gv)=>{var $i=Object.defineProperty,AU=Object.getOwnPropertyDescriptor,IU=Object.getOwnPropertyNames,OU=Object.prototype.hasOwnProperty,Yr=(e,t)=>$i(e,"name",{value:t,configurable:!0}),TU=(e,t)=>{for(var r in t)$i(e,r,{get:t[r],enumerable:!0})},NU=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of IU(t))!OU.call(e,o)&&o!==r&&$i(e,o,{get:()=>t[o],enumerable:!(n=AU(t,o))||n.enumerable});return e},DU=e=>NU($i({},"__esModule",{value:!0}),e),lv={};TU(lv,{CredentialsProviderError:()=>kU,ProviderError:()=>zi,TokenProviderError:()=>MU,chain:()=>KU,fromStatic:()=>FU,memoize:()=>LU});gv.exports=DU(lv);var uv=class pv extends Error{constructor(t,r=!0){super(t),this.tryNextLink=r,this.name="ProviderError",Object.setPrototypeOf(this,pv.prototype)}static from(t,r=!0){return Object.assign(new this(t.message,r),t)}};Yr(uv,"ProviderError");var zi=uv,mv=class fv extends zi{constructor(t,r=!0){super(t,r),this.tryNextLink=r,this.name="CredentialsProviderError",Object.setPrototypeOf(this,fv.prototype)}};Yr(mv,"CredentialsProviderError");var kU=mv,vv=class _v extends zi{constructor(t,r=!0){super(t,r),this.tryNextLink=r,this.name="TokenProviderError",Object.setPrototypeOf(this,_v.prototype)}};Yr(vv,"TokenProviderError");var MU=vv,KU=Yr((...e)=>async()=>{if(e.length===0)throw new zi("No providers in chain");let t;for(let r of e)try{return await r()}catch(n){if(t=n,n?.tryNextLink)continue;throw n}throw t},"chain"),FU=Yr(e=>()=>Promise.resolve(e),"fromStatic"),LU=Yr((e,t,r)=>{let n,o,i,s=!1,a=Yr(async()=>{o||(o=e());try{n=await o,i=!0,s=!1}finally{o=void 0}return n},"coalesceProvider");return t===void 0?async c=>((!i||c?.forceRefresh)&&(n=await a()),n):async c=>((!i||c?.forceRefresh)&&(n=await a()),s?n:r&&!r(n)?(s=!0,n):(t(n)&&await a(),n))},"memoize")});var wo=_(Wi=>{"use strict";Object.defineProperty(Wi,"__esModule",{value:!0});Wi.getHomeDir=void 0;var UU=require("os"),qU=require("path"),fd={},jU=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",HU=()=>{let{HOME:e,USERPROFILE:t,HOMEPATH:r,HOMEDRIVE:n=`C:${qU.sep}`}=process.env;if(e)return e;if(t)return t;if(r)return`${n}${r}`;let o=jU();return fd[o]||(fd[o]=(0,UU.homedir)()),fd[o]};Wi.getHomeDir=HU});var vd=_(Vi=>{"use strict";Object.defineProperty(Vi,"__esModule",{value:!0});Vi.getSSOTokenFilepath=void 0;var GU=require("crypto"),$U=require("path"),zU=wo(),WU=e=>{let r=(0,GU.createHash)("sha1").update(e).digest("hex");return(0,$U.join)((0,zU.getHomeDir)(),".aws","sso","cache",`${r}.json`)};Vi.getSSOTokenFilepath=WU});var yv=_(Bi=>{"use strict";Object.defineProperty(Bi,"__esModule",{value:!0});Bi.getSSOTokenFromFile=void 0;var VU=require("fs"),BU=vd(),{readFile:XU}=VU.promises,JU=async e=>{let t=(0,BU.getSSOTokenFilepath)(e),r=await XU(t,"utf8");return JSON.parse(r)};Bi.getSSOTokenFromFile=JU});var gd=_(Xi=>{"use strict";Object.defineProperty(Xi,"__esModule",{value:!0});Xi.slurpFile=void 0;var YU=require("fs"),{readFile:QU}=YU.promises,_d={},ZU=(e,t)=>((!_d[e]||t?.ignoreCache)&&(_d[e]=QU(e,"utf8")),_d[e]);Xi.slurpFile=ZU});var je=_((Lse,Ro)=>{var Yi=Object.defineProperty,e1=Object.getOwnPropertyDescriptor,t1=Object.getOwnPropertyNames,r1=Object.prototype.hasOwnProperty,Be=(e,t)=>Yi(e,"name",{value:t,configurable:!0}),n1=(e,t)=>{for(var r in t)Yi(e,r,{get:t[r],enumerable:!0})},yd=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of t1(t))!r1.call(e,o)&&o!==r&&Yi(e,o,{get:()=>t[o],enumerable:!(n=e1(t,o))||n.enumerable});return e},Sd=(e,t,r)=>(yd(e,t,"default"),r&&yd(r,t,"default")),o1=e=>yd(Yi({},"__esModule",{value:!0}),e),xo={};n1(xo,{CONFIG_PREFIX_SEPARATOR:()=>Qr,DEFAULT_PROFILE:()=>Cv,ENV_PROFILE:()=>Ev,getProfileName:()=>i1,loadSharedConfigFiles:()=>xv,loadSsoSessionData:()=>g1,parseKnownFiles:()=>h1});Ro.exports=o1(xo);Sd(xo,wo(),Ro.exports);var Ev="AWS_PROFILE",Cv="default",i1=Be(e=>e.profile||process.env[Ev]||Cv,"getProfileName");Sd(xo,vd(),Ro.exports);Sd(xo,yv(),Ro.exports);var Ji=qe(),s1=Be(e=>Object.entries(e).filter(([t])=>{let r=t.indexOf(Qr);return r===-1?!1:Object.values(Ji.IniSectionType).includes(t.substring(0,r))}).reduce((t,[r,n])=>{let o=r.indexOf(Qr),i=r.substring(0,o)===Ji.IniSectionType.PROFILE?r.substring(o+1):r;return t[i]=n,t},{...e.default&&{default:e.default}}),"getConfigData"),Pv=require("path"),a1=wo(),c1="AWS_CONFIG_FILE",wv=Be(()=>process.env[c1]||(0,Pv.join)((0,a1.getHomeDir)(),".aws","config"),"getConfigFilepath"),d1=wo(),l1="AWS_SHARED_CREDENTIALS_FILE",u1=Be(()=>process.env[l1]||(0,Pv.join)((0,d1.getHomeDir)(),".aws","credentials"),"getCredentialsFilepath"),p1=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,m1=["__proto__","profile __proto__"],hd=Be(e=>{let t={},r,n;for(let o of e.split(/\r?\n/)){let i=o.split(/(^|\s)[;#]/)[0].trim();if(i[0]==="["&&i[i.length-1]==="]"){r=void 0,n=void 0;let a=i.substring(1,i.length-1),c=p1.exec(a);if(c){let[,l,,p]=c;Object.values(Ji.IniSectionType).includes(l)&&(r=[l,p].join(Qr))}else r=a;if(m1.includes(a))throw new Error(`Found invalid profile name "${a}"`)}else if(r){let a=i.indexOf("=");if(![0,-1].includes(a)){let[c,l]=[i.substring(0,a).trim(),i.substring(a+1).trim()];if(l==="")n=c;else{n&&o.trimStart()===o&&(n=void 0),t[r]=t[r]||{};let p=n?[n,c].join(Qr):c;t[r][p]=l}}}}return t},"parseIni"),hv=gd(),Sv=Be(()=>({}),"swallowError"),Qr=".",xv=Be(async(e={})=>{let{filepath:t=u1(),configFilepath:r=wv()}=e,n=await Promise.all([(0,hv.slurpFile)(r,{ignoreCache:e.ignoreCache}).then(hd).then(s1).catch(Sv),(0,hv.slurpFile)(t,{ignoreCache:e.ignoreCache}).then(hd).catch(Sv)]);return{configFile:n[0],credentialsFile:n[1]}},"loadSharedConfigFiles"),f1=Be(e=>Object.entries(e).filter(([t])=>t.startsWith(Ji.IniSectionType.SSO_SESSION+Qr)).reduce((t,[r,n])=>({...t,[r.substring(r.indexOf(Qr)+1)]:n}),{}),"getSsoSessionData"),v1=gd(),_1=Be(()=>({}),"swallowError"),g1=Be(async(e={})=>(0,v1.slurpFile)(e.configFilepath??wv()).then(hd).then(f1).catch(_1),"loadSsoSessionData"),y1=Be((...e)=>{let t={};for(let r of e)for(let[n,o]of Object.entries(r))t[n]!==void 0?Object.assign(t[n],o):t[n]=o;return t},"mergeConfigFiles"),h1=Be(async e=>{let t=await xv(e);return y1(t.configFile,t.credentialsFile)},"parseKnownFiles")});var Xe=_((Use,Av)=>{var Qi=Object.defineProperty,S1=Object.getOwnPropertyDescriptor,E1=Object.getOwnPropertyNames,C1=Object.prototype.hasOwnProperty,Ao=(e,t)=>Qi(e,"name",{value:t,configurable:!0}),P1=(e,t)=>{for(var r in t)Qi(e,r,{get:t[r],enumerable:!0})},w1=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of E1(t))!C1.call(e,o)&&o!==r&&Qi(e,o,{get:()=>t[o],enumerable:!(n=S1(t,o))||n.enumerable});return e},x1=e=>w1(Qi({},"__esModule",{value:!0}),e),bv={};P1(bv,{loadConfig:()=>O1});Av.exports=x1(bv);var bo=te(),R1=Ao(e=>async()=>{try{let t=e(process.env);if(t===void 0)throw new Error;return t}catch(t){throw new bo.CredentialsProviderError(t.message||`Cannot load config from environment variables with getter: ${e}`)}},"fromEnv"),Rv=je(),b1=Ao((e,{preferredFile:t="config",...r}={})=>async()=>{let n=(0,Rv.getProfileName)(r),{configFile:o,credentialsFile:i}=await(0,Rv.loadSharedConfigFiles)(r),s=i[n]||{},a=o[n]||{},c=t==="config"?{...s,...a}:{...a,...s};try{let p=e(c,t==="config"?o:i);if(p===void 0)throw new Error;return p}catch(l){throw new bo.CredentialsProviderError(l.message||`Cannot load config for profile ${n} in SDK configuration files with getter: ${e}`)}},"fromSharedConfigFiles"),A1=Ao(e=>typeof e=="function","isFunction"),I1=Ao(e=>A1(e)?async()=>await e():(0,bo.fromStatic)(e),"fromStatic"),O1=Ao(({environmentVariableSelector:e,configFileSelector:t,default:r},n={})=>(0,bo.memoize)((0,bo.chain)(R1(e),b1(t,n),I1(r))),"loadConfig")});var Nv=_(Zi=>{"use strict";Object.defineProperty(Zi,"__esModule",{value:!0});Zi.getEndpointUrlConfig=void 0;var Iv=je(),Ov="AWS_ENDPOINT_URL",Tv="endpoint_url",T1=e=>({environmentVariableSelector:t=>{let r=e.split(" ").map(i=>i.toUpperCase()),n=t[[Ov,...r].join("_")];if(n)return n;let o=t[Ov];if(o)return o},configFileSelector:(t,r)=>{if(r&&t.services){let o=r[["services",t.services].join(Iv.CONFIG_PREFIX_SEPARATOR)];if(o){let i=e.split(" ").map(a=>a.toLowerCase()),s=o[[i.join("_"),Tv].join(Iv.CONFIG_PREFIX_SEPARATOR)];if(s)return s}}let n=t[Tv];if(n)return n},default:void 0});Zi.getEndpointUrlConfig=T1});var Dv=_(es=>{"use strict";Object.defineProperty(es,"__esModule",{value:!0});es.getEndpointFromConfig=void 0;var N1=Xe(),D1=Nv(),k1=async e=>(0,N1.loadConfig)((0,D1.getEndpointUrlConfig)(e))();es.getEndpointFromConfig=k1});var Fv=_((Hse,Kv)=>{var ts=Object.defineProperty,M1=Object.getOwnPropertyDescriptor,K1=Object.getOwnPropertyNames,F1=Object.prototype.hasOwnProperty,L1=(e,t)=>ts(e,"name",{value:t,configurable:!0}),U1=(e,t)=>{for(var r in t)ts(e,r,{get:t[r],enumerable:!0})},q1=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of K1(t))!F1.call(e,o)&&o!==r&&ts(e,o,{get:()=>t[o],enumerable:!(n=M1(t,o))||n.enumerable});return e},j1=e=>q1(ts({},"__esModule",{value:!0}),e),kv={};U1(kv,{parseQueryString:()=>Mv});Kv.exports=j1(kv);function Mv(e){let t={};if(e=e.replace(/^\?/,""),e)for(let r of e.split("&")){let[n,o=null]=r.split("=");n=decodeURIComponent(n),o&&(o=decodeURIComponent(o)),n in t?Array.isArray(t[n])?t[n].push(o):t[n]=[t[n],o]:t[n]=o}return t}L1(Mv,"parseQueryString")});var $t=_((Gse,qv)=>{var rs=Object.defineProperty,H1=Object.getOwnPropertyDescriptor,G1=Object.getOwnPropertyNames,$1=Object.prototype.hasOwnProperty,z1=(e,t)=>rs(e,"name",{value:t,configurable:!0}),W1=(e,t)=>{for(var r in t)rs(e,r,{get:t[r],enumerable:!0})},V1=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of G1(t))!$1.call(e,o)&&o!==r&&rs(e,o,{get:()=>t[o],enumerable:!(n=H1(t,o))||n.enumerable});return e},B1=e=>V1(rs({},"__esModule",{value:!0}),e),Lv={};W1(Lv,{parseUrl:()=>Uv});qv.exports=B1(Lv);var X1=Fv(),Uv=z1(e=>{if(typeof e=="string")return Uv(new URL(e));let{hostname:t,pathname:r,port:n,protocol:o,search:i}=e,s;return i&&(s=(0,X1.parseQueryString)(i)),{hostname:t,port:n?parseInt(n):void 0,protocol:o,path:r,query:s}},"parseUrl")});var zt=_(($se,Vv)=>{var ns=Object.defineProperty,J1=Object.getOwnPropertyDescriptor,Y1=Object.getOwnPropertyNames,Q1=Object.prototype.hasOwnProperty,Ed=(e,t)=>ns(e,"name",{value:t,configurable:!0}),Z1=(e,t)=>{for(var r in t)ns(e,r,{get:t[r],enumerable:!0})},eq=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Y1(t))!Q1.call(e,o)&&o!==r&&ns(e,o,{get:()=>t[o],enumerable:!(n=J1(t,o))||n.enumerable});return e},tq=e=>eq(ns({},"__esModule",{value:!0}),e),jv={};Z1(jv,{deserializerMiddleware:()=>Hv,deserializerMiddlewareOption:()=>$v,getSerdePlugin:()=>Wv,serializerMiddleware:()=>Gv,serializerMiddlewareOption:()=>zv});Vv.exports=tq(jv);var Hv=Ed((e,t)=>(r,n)=>async o=>{let{response:i}=await r(o);try{let s=await t(i,e);return{response:i,output:s}}catch(s){if(Object.defineProperty(s,"$response",{value:i}),!("$metadata"in s)){let a="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";s.message+=`
  `+a,typeof s.$responseBodyText<"u"&&s.$response&&(s.$response.body=s.$responseBodyText)}throw s}},"deserializerMiddleware"),Gv=Ed((e,t)=>(r,n)=>async o=>{var i;let s=(i=n.endpointV2)!=null&&i.url&&e.urlParser?async()=>e.urlParser(n.endpointV2.url):e.endpoint;if(!s)throw new Error("No valid endpoint provider available.");let a=await t(o.input,{...e,endpoint:s});return r({...o,request:a})},"serializerMiddleware"),$v={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},zv={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function Wv(e,t,r){return{applyToStack:n=>{n.add(Hv(e,r),$v),n.add(Gv(e,t),zv)}}}Ed(Wv,"getSerdePlugin")});var At=_((zse,e_)=>{var is=Object.defineProperty,rq=Object.getOwnPropertyDescriptor,nq=Object.getOwnPropertyNames,oq=Object.prototype.hasOwnProperty,_t=(e,t)=>is(e,"name",{value:t,configurable:!0}),iq=(e,t)=>{for(var r in t)is(e,r,{get:t[r],enumerable:!0})},sq=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of nq(t))!oq.call(e,o)&&o!==r&&is(e,o,{get:()=>t[o],enumerable:!(n=rq(t,o))||n.enumerable});return e},aq=e=>sq(is({},"__esModule",{value:!0}),e),Xv={};iq(Xv,{endpointMiddleware:()=>Qv,endpointMiddlewareOptions:()=>Zv,getEndpointFromInstructions:()=>Jv,getEndpointPlugin:()=>gq,resolveEndpointConfig:()=>yq,resolveParams:()=>Yv,toEndpointV1:()=>Cd});e_.exports=aq(Xv);var cq=_t(async e=>{let t=e?.Bucket||"";if(typeof e.Bucket=="string"&&(e.Bucket=t.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),mq(t)){if(e.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!pq(t)||t.indexOf(".")!==-1&&!String(e.Endpoint).startsWith("http:")||t.toLowerCase()!==t||t.length<3)&&(e.ForcePathStyle=!0);return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e},"resolveParamsForS3"),dq=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,lq=/(\d+\.){3}\d+/,uq=/\.\./,pq=_t(e=>dq.test(e)&&!lq.test(e)&&!uq.test(e),"isDnsCompatibleBucketName"),mq=_t(e=>{let[t,r,n,,,o]=e.split(":"),i=t==="arn"&&e.split(":").length>=6,s=!!(i&&r&&n&&o);if(i&&!s)throw new Error(`Invalid ARN: ${e} was an invalid ARN.`);return s},"isArnBucketName"),fq=_t((e,t,r)=>{let n=_t(async()=>{let o=r[e]??r[t];return typeof o=="function"?o():o},"configProvider");return e==="credentialScope"||t==="CredentialScope"?async()=>{let o=typeof r.credentials=="function"?await r.credentials():r.credentials;return o?.credentialScope??o?.CredentialScope}:e==="endpoint"||t==="endpoint"?async()=>{let o=await n();if(o&&typeof o=="object"){if("url"in o)return o.url.href;if("hostname"in o){let{protocol:i,hostname:s,port:a,path:c}=o;return`${i}//${s}${a?":"+a:""}${c}`}}return o}:n},"createConfigValueProvider"),vq=Dv(),Bv=$t(),Cd=_t(e=>typeof e=="object"?"url"in e?(0,Bv.parseUrl)(e.url):e:(0,Bv.parseUrl)(e),"toEndpointV1"),Jv=_t(async(e,t,r,n)=>{if(!r.endpoint){let s=await(0,vq.getEndpointFromConfig)(r.serviceId||"");s&&(r.endpoint=()=>Promise.resolve(Cd(s)))}let o=await Yv(e,t,r);if(typeof r.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return r.endpointProvider(o,n)},"getEndpointFromInstructions"),Yv=_t(async(e,t,r)=>{var n;let o={},i=((n=t?.getEndpointParameterInstructions)==null?void 0:n.call(t))||{};for(let[s,a]of Object.entries(i))switch(a.type){case"staticContextParams":o[s]=a.value;break;case"contextParams":o[s]=e[a.name];break;case"clientContextParams":case"builtInParams":o[s]=await fq(a.name,s,r)();break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(a))}return Object.keys(i).length===0&&Object.assign(o,r),String(r.serviceId).toLowerCase()==="s3"&&await cq(o),o},"resolveParams"),os=Ve(),Qv=_t(({config:e,instructions:t})=>(r,n)=>async o=>{var i,s,a;let c=await Jv(o.input,{getEndpointParameterInstructions(){return t}},{...e},n);n.endpointV2=c,n.authSchemes=(i=c.properties)==null?void 0:i.authSchemes;let l=(s=n.authSchemes)==null?void 0:s[0];if(l){n.signing_region=l.signingRegion,n.signing_service=l.signingName;let p=(0,os.getSmithyContext)(n),m=(a=p?.selectedHttpAuthScheme)==null?void 0:a.httpAuthOption;m&&(m.signingProperties=Object.assign(m.signingProperties||{},{signing_region:l.signingRegion,signingRegion:l.signingRegion,signing_service:l.signingName,signingName:l.signingName,signingRegionSet:l.signingRegionSet},l.properties))}return r({...o})},"endpointMiddleware"),_q=zt(),Zv={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:_q.serializerMiddlewareOption.name},gq=_t((e,t)=>({applyToStack:r=>{r.addRelativeTo(Qv({config:e,instructions:t}),Zv)}}),"getEndpointPlugin"),yq=_t(e=>{let t=e.tls??!0,{endpoint:r}=e,n=r!=null?async()=>Cd(await(0,os.normalizeProvider)(r)()):void 0;return{...e,endpoint:n,tls:t,isCustomEndpoint:!!r,useDualstackEndpoint:(0,os.normalizeProvider)(e.useDualstackEndpoint??!1),useFipsEndpoint:(0,os.normalizeProvider)(e.useFipsEndpoint??!1)}},"resolveEndpointConfig")});function Io(){return ss>as.length-16&&(t_.default.randomFillSync(as),ss=0),as.slice(ss,ss+=16)}var t_,as,ss,Pd=_e(()=>{t_=Eo(require("crypto")),as=new Uint8Array(256),ss=as.length});var r_,n_=_e(()=>{r_=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function hq(e){return typeof e=="string"&&r_.test(e)}var pr,Oo=_e(()=>{n_();pr=hq});function Zr(e,t=0){return ge[e[t+0]]+ge[e[t+1]]+ge[e[t+2]]+ge[e[t+3]]+"-"+ge[e[t+4]]+ge[e[t+5]]+"-"+ge[e[t+6]]+ge[e[t+7]]+"-"+ge[e[t+8]]+ge[e[t+9]]+"-"+ge[e[t+10]]+ge[e[t+11]]+ge[e[t+12]]+ge[e[t+13]]+ge[e[t+14]]+ge[e[t+15]]}function Sq(e,t=0){let r=Zr(e,t);if(!pr(r))throw TypeError("Stringified UUID is invalid");return r}var ge,o_,To=_e(()=>{Oo();ge=[];for(let e=0;e<256;++e)ge.push((e+256).toString(16).slice(1));o_=Sq});function Eq(e,t,r){let n=t&&r||0,o=t||new Array(16);e=e||{};let i=e.node||i_,s=e.clockseq!==void 0?e.clockseq:wd;if(i==null||s==null){let f=e.random||(e.rng||Io)();i==null&&(i=i_=[f[0]|1,f[1],f[2],f[3],f[4],f[5]]),s==null&&(s=wd=(f[6]<<8|f[7])&16383)}let a=e.msecs!==void 0?e.msecs:Date.now(),c=e.nsecs!==void 0?e.nsecs:Rd+1,l=a-xd+(c-Rd)/1e4;if(l<0&&e.clockseq===void 0&&(s=s+1&16383),(l<0||a>xd)&&e.nsecs===void 0&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");xd=a,Rd=c,wd=s,a+=122192928e5;let p=((a&268435455)*1e4+c)%4294967296;o[n++]=p>>>24&255,o[n++]=p>>>16&255,o[n++]=p>>>8&255,o[n++]=p&255;let m=a/4294967296*1e4&268435455;o[n++]=m>>>8&255,o[n++]=m&255,o[n++]=m>>>24&15|16,o[n++]=m>>>16&255,o[n++]=s>>>8|128,o[n++]=s&255;for(let f=0;f<6;++f)o[n+f]=i[f];return t||Zr(o)}var i_,wd,xd,Rd,s_,a_=_e(()=>{Pd();To();xd=0,Rd=0;s_=Eq});function Cq(e){if(!pr(e))throw TypeError("Invalid UUID");let t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=t&255,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=t&255,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=t&255,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=t&255,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=t&255,r}var cs,bd=_e(()=>{Oo();cs=Cq});function Pq(e){e=unescape(encodeURIComponent(e));let t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}function No(e,t,r){function n(o,i,s,a){var c;if(typeof o=="string"&&(o=Pq(o)),typeof i=="string"&&(i=cs(i)),((c=i)===null||c===void 0?void 0:c.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let l=new Uint8Array(16+o.length);if(l.set(i),l.set(o,i.length),l=r(l),l[6]=l[6]&15|t,l[8]=l[8]&63|128,s){a=a||0;for(let p=0;p<16;++p)s[a+p]=l[p];return s}return Zr(l)}try{n.name=e}catch{}return n.DNS=wq,n.URL=xq,n}var wq,xq,Ad=_e(()=>{To();bd();wq="6ba7b810-9dad-11d1-80b4-00c04fd430c8",xq="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});function Rq(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),c_.default.createHash("md5").update(e).digest()}var c_,d_,l_=_e(()=>{c_=Eo(require("crypto"));d_=Rq});var bq,u_,p_=_e(()=>{Ad();l_();bq=No("v3",48,d_),u_=bq});var m_,Id,f_=_e(()=>{m_=Eo(require("crypto")),Id={randomUUID:m_.default.randomUUID}});function Aq(e,t,r){if(Id.randomUUID&&!t&&!e)return Id.randomUUID();e=e||{};let n=e.random||(e.rng||Io)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(let o=0;o<16;++o)t[r+o]=n[o];return t}return Zr(n)}var v_,__=_e(()=>{f_();Pd();To();v_=Aq});function Iq(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),g_.default.createHash("sha1").update(e).digest()}var g_,y_,h_=_e(()=>{g_=Eo(require("crypto"));y_=Iq});var Oq,S_,E_=_e(()=>{Ad();h_();Oq=No("v5",80,y_),S_=Oq});var C_,P_=_e(()=>{C_="00000000-0000-0000-0000-000000000000"});function Tq(e){if(!pr(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)}var w_,x_=_e(()=>{Oo();w_=Tq});var R_={};nd(R_,{NIL:()=>C_,parse:()=>cs,stringify:()=>o_,v1:()=>s_,v3:()=>u_,v4:()=>v_,v5:()=>S_,validate:()=>pr,version:()=>w_});var b_=_e(()=>{a_();p_();__();E_();P_();x_();Oo();To();bd()});var Od=_((Tae,T_)=>{var ds=Object.defineProperty,Nq=Object.getOwnPropertyDescriptor,Dq=Object.getOwnPropertyNames,kq=Object.prototype.hasOwnProperty,_n=(e,t)=>ds(e,"name",{value:t,configurable:!0}),Mq=(e,t)=>{for(var r in t)ds(e,r,{get:t[r],enumerable:!0})},Kq=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Dq(t))!kq.call(e,o)&&o!==r&&ds(e,o,{get:()=>t[o],enumerable:!(n=Nq(t,o))||n.enumerable});return e},Fq=e=>Kq(ds({},"__esModule",{value:!0}),e),A_={};Mq(A_,{isClockSkewCorrectedError:()=>I_,isClockSkewError:()=>$q,isRetryableByTrait:()=>Gq,isServerError:()=>Wq,isThrottlingError:()=>zq,isTransientError:()=>O_});T_.exports=Fq(A_);var Lq=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],Uq=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],qq=["TimeoutError","RequestTimeout","RequestTimeoutException"],jq=[500,502,503,504],Hq=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],Gq=_n(e=>e.$retryable!==void 0,"isRetryableByTrait"),$q=_n(e=>Lq.includes(e.name),"isClockSkewError"),I_=_n(e=>{var t;return(t=e.$metadata)==null?void 0:t.clockSkewCorrected},"isClockSkewCorrectedError"),zq=_n(e=>{var t,r;return((t=e.$metadata)==null?void 0:t.httpStatusCode)===429||Uq.includes(e.name)||((r=e.$retryable)==null?void 0:r.throttling)==!0},"isThrottlingError"),O_=_n(e=>{var t;return I_(e)||qq.includes(e.name)||Hq.includes(e?.code||"")||jq.includes(((t=e.$metadata)==null?void 0:t.httpStatusCode)||0)},"isTransientError"),Wq=_n(e=>{var t;if(((t=e.$metadata)==null?void 0:t.httpStatusCode)!==void 0){let r=e.$metadata.httpStatusCode;return 500<=r&&r<=599&&!O_(e)}return!1},"isServerError")});var mr=_((Kae,$_)=>{var ls=Object.defineProperty,Vq=Object.getOwnPropertyDescriptor,Bq=Object.getOwnPropertyNames,Xq=Object.prototype.hasOwnProperty,gt=(e,t)=>ls(e,"name",{value:t,configurable:!0}),Jq=(e,t)=>{for(var r in t)ls(e,r,{get:t[r],enumerable:!0})},Yq=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Bq(t))!Xq.call(e,o)&&o!==r&&ls(e,o,{get:()=>t[o],enumerable:!(n=Vq(t,o))||n.enumerable});return e},Qq=e=>Yq(ls({},"__esModule",{value:!0}),e),D_={};Jq(D_,{AdaptiveRetryStrategy:()=>oj,ConfiguredRetryStrategy:()=>ij,DEFAULT_MAX_ATTEMPTS:()=>Td,DEFAULT_RETRY_DELAY_BASE:()=>Do,DEFAULT_RETRY_MODE:()=>Zq,DefaultRateLimiter:()=>K_,INITIAL_RETRY_TOKENS:()=>Nd,INVOCATION_ID_HEADER:()=>tj,MAXIMUM_RETRY_DELAY:()=>Dd,NO_RETRY_INCREMENT:()=>q_,REQUEST_HEADER:()=>rj,RETRY_COST:()=>L_,RETRY_MODES:()=>k_,StandardRetryStrategy:()=>kd,THROTTLING_RETRY_DELAY_BASE:()=>F_,TIMEOUT_RETRY_COST:()=>U_});$_.exports=Qq(D_);var k_=(e=>(e.STANDARD="standard",e.ADAPTIVE="adaptive",e))(k_||{}),Td=3,Zq="standard",ej=Od(),M_=class{constructor(t){this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=t?.beta??.7,this.minCapacity=t?.minCapacity??1,this.minFillRate=t?.minFillRate??.5,this.scaleConstant=t?.scaleConstant??.4,this.smooth=t?.smooth??.8;let r=this.getCurrentTimeInSeconds();this.lastThrottleTime=r,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(t){if(this.enabled){if(this.refillTokenBucket(),t>this.currentCapacity){let r=(t-this.currentCapacity)/this.fillRate*1e3;await new Promise(n=>setTimeout(n,r))}this.currentCapacity=this.currentCapacity-t}}refillTokenBucket(){let t=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=t;return}let r=(t-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+r),this.lastTimestamp=t}updateClientSendingRate(t){let r;if(this.updateMeasuredRate(),(0,ej.isThrottlingError)(t)){let o=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=o,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),r=this.cubicThrottle(o),this.enableTokenBucket()}else this.calculateTimeWindow(),r=this.cubicSuccess(this.getCurrentTimeInSeconds());let n=Math.min(r,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(t){return this.getPrecise(t*this.beta)}cubicSuccess(t){return this.getPrecise(this.scaleConstant*Math.pow(t-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(t){this.refillTokenBucket(),this.fillRate=Math.max(t,this.minFillRate),this.maxCapacity=Math.max(t,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let t=this.getCurrentTimeInSeconds(),r=Math.floor(t*2)/2;if(this.requestCount++,r>this.lastTxRateBucket){let n=this.requestCount/(r-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=r}}getPrecise(t){return parseFloat(t.toFixed(8))}};gt(M_,"DefaultRateLimiter");var K_=M_,Do=100,Dd=20*1e3,F_=500,Nd=500,L_=5,U_=10,q_=1,tj="amz-sdk-invocation-id",rj="amz-sdk-request",nj=gt(()=>{let e=Do;return{computeNextBackoffDelay:gt(n=>Math.floor(Math.min(Dd,Math.random()*2**n*e)),"computeNextBackoffDelay"),setDelayBase:gt(n=>{e=n},"setDelayBase")}},"getDefaultRetryBackoffStrategy"),N_=gt(({retryDelay:e,retryCount:t,retryCost:r})=>({getRetryCount:gt(()=>t,"getRetryCount"),getRetryDelay:gt(()=>Math.min(Dd,e),"getRetryDelay"),getRetryCost:gt(()=>r,"getRetryCost")}),"createDefaultRetryToken"),j_=class{constructor(t){this.maxAttempts=t,this.mode="standard",this.capacity=Nd,this.retryBackoffStrategy=nj(),this.maxAttemptsProvider=typeof t=="function"?t:async()=>t}async acquireInitialRetryToken(t){return N_({retryDelay:Do,retryCount:0})}async refreshRetryTokenForRetry(t,r){let n=await this.getMaxAttempts();if(this.shouldRetry(t,r,n)){let o=r.errorType;this.retryBackoffStrategy.setDelayBase(o==="THROTTLING"?F_:Do);let i=this.retryBackoffStrategy.computeNextBackoffDelay(t.getRetryCount()),s=r.retryAfterHint?Math.max(r.retryAfterHint.getTime()-Date.now()||0,i):i,a=this.getCapacityCost(o);return this.capacity-=a,N_({retryDelay:s,retryCount:t.getRetryCount()+1,retryCost:a})}throw new Error("No retry token available")}recordSuccess(t){this.capacity=Math.max(Nd,this.capacity+(t.getRetryCost()??q_))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${Td}`),Td}}shouldRetry(t,r,n){return t.getRetryCount()+1<n&&this.capacity>=this.getCapacityCost(r.errorType)&&this.isRetryableError(r.errorType)}getCapacityCost(t){return t==="TRANSIENT"?U_:L_}isRetryableError(t){return t==="THROTTLING"||t==="TRANSIENT"}};gt(j_,"StandardRetryStrategy");var kd=j_,H_=class{constructor(t,r){this.maxAttemptsProvider=t,this.mode="adaptive";let{rateLimiter:n}=r??{};this.rateLimiter=n??new K_,this.standardRetryStrategy=new kd(t)}async acquireInitialRetryToken(t){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(t)}async refreshRetryTokenForRetry(t,r){return this.rateLimiter.updateClientSendingRate(r),this.standardRetryStrategy.refreshRetryTokenForRetry(t,r)}recordSuccess(t){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(t)}};gt(H_,"AdaptiveRetryStrategy");var oj=H_,G_=class extends kd{constructor(t,r=Do){super(typeof t=="function"?t:async()=>t),typeof r=="number"?this.computeNextBackoffDelay=()=>r:this.computeNextBackoffDelay=r}async refreshRetryTokenForRetry(t,r){let n=await super.refreshRetryTokenForRetry(t,r);return n.getRetryDelay=()=>this.computeNextBackoffDelay(n.getRetryCount()),n}};gt(G_,"ConfiguredRetryStrategy");var ij=G_});var X_=_((Fae,B_)=>{var us=Object.defineProperty,sj=Object.getOwnPropertyDescriptor,aj=Object.getOwnPropertyNames,cj=Object.prototype.hasOwnProperty,Je=(e,t)=>us(e,"name",{value:t,configurable:!0}),dj=(e,t)=>{for(var r in t)us(e,r,{get:t[r],enumerable:!0})},lj=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of aj(t))!cj.call(e,o)&&o!==r&&us(e,o,{get:()=>t[o],enumerable:!(n=sj(t,o))||n.enumerable});return e},uj=e=>lj(us({},"__esModule",{value:!0}),e),V_={};dj(V_,{constructStack:()=>Md});B_.exports=uj(V_);var en=Je((e,t)=>{let r=[];if(e&&r.push(e),t)for(let n of t)r.push(n);return r},"getAllAliases"),fr=Je((e,t)=>`${e||"anonymous"}${t&&t.length>0?` (a.k.a. ${t.join(",")})`:""}`,"getMiddlewareNameWithAliases"),Md=Je(()=>{let e=[],t=[],r=!1,n=new Set,o=Je(m=>m.sort((f,v)=>z_[v.step]-z_[f.step]||W_[v.priority||"normal"]-W_[f.priority||"normal"]),"sort"),i=Je(m=>{let f=!1,v=Je(g=>{let S=en(g.name,g.aliases);if(S.includes(m)){f=!0;for(let P of S)n.delete(P);return!1}return!0},"filterCb");return e=e.filter(v),t=t.filter(v),f},"removeByName"),s=Je(m=>{let f=!1,v=Je(g=>{if(g.middleware===m){f=!0;for(let S of en(g.name,g.aliases))n.delete(S);return!1}return!0},"filterCb");return e=e.filter(v),t=t.filter(v),f},"removeByReference"),a=Je(m=>{var f;return e.forEach(v=>{m.add(v.middleware,{...v})}),t.forEach(v=>{m.addRelativeTo(v.middleware,{...v})}),(f=m.identifyOnResolve)==null||f.call(m,p.identifyOnResolve()),m},"cloneTo"),c=Je(m=>{let f=[];return m.before.forEach(v=>{v.before.length===0&&v.after.length===0?f.push(v):f.push(...c(v))}),f.push(m),m.after.reverse().forEach(v=>{v.before.length===0&&v.after.length===0?f.push(v):f.push(...c(v))}),f},"expandRelativeMiddlewareList"),l=Je((m=!1)=>{let f=[],v=[],g={};return e.forEach(P=>{let x={...P,before:[],after:[]};for(let R of en(x.name,x.aliases))g[R]=x;f.push(x)}),t.forEach(P=>{let x={...P,before:[],after:[]};for(let R of en(x.name,x.aliases))g[R]=x;v.push(x)}),v.forEach(P=>{if(P.toMiddleware){let x=g[P.toMiddleware];if(x===void 0){if(m)return;throw new Error(`${P.toMiddleware} is not found when adding ${fr(P.name,P.aliases)} middleware ${P.relation} ${P.toMiddleware}`)}P.relation==="after"&&x.after.push(P),P.relation==="before"&&x.before.push(P)}}),o(f).map(c).reduce((P,x)=>(P.push(...x),P),[])},"getMiddlewareList"),p={add:(m,f={})=>{let{name:v,override:g,aliases:S}=f,P={step:"initialize",priority:"normal",middleware:m,...f},x=en(v,S);if(x.length>0){if(x.some(R=>n.has(R))){if(!g)throw new Error(`Duplicate middleware name '${fr(v,S)}'`);for(let R of x){let de=e.findIndex(We=>{var dr;return We.name===R||((dr=We.aliases)==null?void 0:dr.some(Jr=>Jr===R))});if(de===-1)continue;let H=e[de];if(H.step!==P.step||P.priority!==H.priority)throw new Error(`"${fr(H.name,H.aliases)}" middleware with ${H.priority} priority in ${H.step} step cannot be overridden by "${fr(v,S)}" middleware with ${P.priority} priority in ${P.step} step.`);e.splice(de,1)}}for(let R of x)n.add(R)}e.push(P)},addRelativeTo:(m,f)=>{let{name:v,override:g,aliases:S}=f,P={middleware:m,...f},x=en(v,S);if(x.length>0){if(x.some(R=>n.has(R))){if(!g)throw new Error(`Duplicate middleware name '${fr(v,S)}'`);for(let R of x){let de=t.findIndex(We=>{var dr;return We.name===R||((dr=We.aliases)==null?void 0:dr.some(Jr=>Jr===R))});if(de===-1)continue;let H=t[de];if(H.toMiddleware!==P.toMiddleware||H.relation!==P.relation)throw new Error(`"${fr(H.name,H.aliases)}" middleware ${H.relation} "${H.toMiddleware}" middleware cannot be overridden by "${fr(v,S)}" middleware ${P.relation} "${P.toMiddleware}" middleware.`);t.splice(de,1)}}for(let R of x)n.add(R)}t.push(P)},clone:()=>a(Md()),use:m=>{m.applyToStack(p)},remove:m=>typeof m=="string"?i(m):s(m),removeByTag:m=>{let f=!1,v=Je(g=>{let{tags:S,name:P,aliases:x}=g;if(S&&S.includes(m)){let R=en(P,x);for(let de of R)n.delete(de);return f=!0,!1}return!0},"filterCb");return e=e.filter(v),t=t.filter(v),f},concat:m=>{var f;let v=a(Md());return v.use(m),v.identifyOnResolve(r||v.identifyOnResolve()||(((f=m.identifyOnResolve)==null?void 0:f.call(m))??!1)),v},applyToStack:a,identify:()=>l(!0).map(m=>{let f=m.step??m.relation+" "+m.toMiddleware;return fr(m.name,m.aliases)+" - "+f}),identifyOnResolve(m){return typeof m=="boolean"&&(r=m),r},resolve:(m,f)=>{for(let v of l().map(g=>g.middleware).reverse())m=v(m,f);return r&&console.log(p.identify()),m}};return p},"constructStack"),z_={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},W_={high:3,normal:2,low:1}});var Kd=_((Lae,Y_)=>{var ps=Object.defineProperty,pj=Object.getOwnPropertyDescriptor,mj=Object.getOwnPropertyNames,fj=Object.prototype.hasOwnProperty,vj=(e,t)=>ps(e,"name",{value:t,configurable:!0}),_j=(e,t)=>{for(var r in t)ps(e,r,{get:t[r],enumerable:!0})},gj=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of mj(t))!fj.call(e,o)&&o!==r&&ps(e,o,{get:()=>t[o],enumerable:!(n=pj(t,o))||n.enumerable});return e},yj=e=>gj(ps({},"__esModule",{value:!0}),e),J_={};_j(J_,{isArrayBuffer:()=>hj});Y_.exports=yj(J_);var hj=vj(e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]","isArrayBuffer")});var gn=_((Uae,eg)=>{var ms=Object.defineProperty,Sj=Object.getOwnPropertyDescriptor,Ej=Object.getOwnPropertyNames,Cj=Object.prototype.hasOwnProperty,Q_=(e,t)=>ms(e,"name",{value:t,configurable:!0}),Pj=(e,t)=>{for(var r in t)ms(e,r,{get:t[r],enumerable:!0})},wj=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Ej(t))!Cj.call(e,o)&&o!==r&&ms(e,o,{get:()=>t[o],enumerable:!(n=Sj(t,o))||n.enumerable});return e},xj=e=>wj(ms({},"__esModule",{value:!0}),e),Z_={};Pj(Z_,{fromArrayBuffer:()=>bj,fromString:()=>Aj});eg.exports=xj(Z_);var Rj=Kd(),Fd=require("buffer"),bj=Q_((e,t=0,r=e.byteLength-t)=>{if(!(0,Rj.isArrayBuffer)(e))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof e} (${e})`);return Fd.Buffer.from(e,t,r)},"fromArrayBuffer"),Aj=Q_((e,t)=>{if(typeof e!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof e} (${e})`);return t?Fd.Buffer.from(e,t):Fd.Buffer.from(e)},"fromString")});var tg=_(fs=>{"use strict";Object.defineProperty(fs,"__esModule",{value:!0});fs.fromBase64=void 0;var Ij=gn(),Oj=/^[A-Za-z0-9+/]*={0,2}$/,Tj=e=>{if(e.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!Oj.exec(e))throw new TypeError("Invalid base64 string.");let t=(0,Ij.fromString)(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)};fs.fromBase64=Tj});var Fe=_((jae,ig)=>{var vs=Object.defineProperty,Nj=Object.getOwnPropertyDescriptor,Dj=Object.getOwnPropertyNames,kj=Object.prototype.hasOwnProperty,Ld=(e,t)=>vs(e,"name",{value:t,configurable:!0}),Mj=(e,t)=>{for(var r in t)vs(e,r,{get:t[r],enumerable:!0})},Kj=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Dj(t))!kj.call(e,o)&&o!==r&&vs(e,o,{get:()=>t[o],enumerable:!(n=Nj(t,o))||n.enumerable});return e},Fj=e=>Kj(vs({},"__esModule",{value:!0}),e),rg={};Mj(rg,{fromUtf8:()=>og,toUint8Array:()=>Lj,toUtf8:()=>Uj});ig.exports=Fj(rg);var ng=gn(),og=Ld(e=>{let t=(0,ng.fromString)(e,"utf8");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT)},"fromUtf8"),Lj=Ld(e=>typeof e=="string"?og(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),"toUint8Array"),Uj=Ld(e=>{if(typeof e=="string")return e;if(typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return(0,ng.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength).toString("utf8")},"toUtf8")});var sg=_(_s=>{"use strict";Object.defineProperty(_s,"__esModule",{value:!0});_s.toBase64=void 0;var qj=gn(),jj=Fe(),Hj=e=>{let t;if(typeof e=="string"?t=(0,jj.fromUtf8)(e):t=e,typeof t!="object"||typeof t.byteOffset!="number"||typeof t.byteLength!="number")throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");return(0,qj.fromArrayBuffer)(t.buffer,t.byteOffset,t.byteLength).toString("base64")};_s.toBase64=Hj});var vr=_((Gae,gs)=>{var ag=Object.defineProperty,Gj=Object.getOwnPropertyDescriptor,$j=Object.getOwnPropertyNames,zj=Object.prototype.hasOwnProperty,Ud=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of $j(t))!zj.call(e,o)&&o!==r&&ag(e,o,{get:()=>t[o],enumerable:!(n=Gj(t,o))||n.enumerable});return e},cg=(e,t,r)=>(Ud(e,t,"default"),r&&Ud(r,t,"default")),Wj=e=>Ud(ag({},"__esModule",{value:!0}),e),qd={};gs.exports=Wj(qd);cg(qd,tg(),gs.exports);cg(qd,sg(),gs.exports)});var dg=_(ys=>{"use strict";Object.defineProperty(ys,"__esModule",{value:!0});ys.getAwsChunkedEncodingStream=void 0;var Vj=require("stream"),Bj=(e,t)=>{let{base64Encoder:r,bodyLengthChecker:n,checksumAlgorithmFn:o,checksumLocationName:i,streamHasher:s}=t,a=r!==void 0&&o!==void 0&&i!==void 0&&s!==void 0,c=a?s(o,e):void 0,l=new Vj.Readable({read:()=>{}});return e.on("data",p=>{let m=n(p)||0;l.push(`${m.toString(16)}\r
`),l.push(p),l.push(`\r
`)}),e.on("end",async()=>{if(l.push(`0\r
`),a){let p=r(await c);l.push(`${i}:${p}\r
`),l.push(`\r
`)}l.push(null)}),l};ys.getAwsChunkedEncodingStream=Bj});var Hd=_((zae,pg)=>{var hs=Object.defineProperty,Xj=Object.getOwnPropertyDescriptor,Jj=Object.getOwnPropertyNames,Yj=Object.prototype.hasOwnProperty,jd=(e,t)=>hs(e,"name",{value:t,configurable:!0}),Qj=(e,t)=>{for(var r in t)hs(e,r,{get:t[r],enumerable:!0})},Zj=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Jj(t))!Yj.call(e,o)&&o!==r&&hs(e,o,{get:()=>t[o],enumerable:!(n=Xj(t,o))||n.enumerable});return e},eH=e=>Zj(hs({},"__esModule",{value:!0}),e),lg={};Qj(lg,{escapeUri:()=>ug,escapeUriPath:()=>rH});pg.exports=eH(lg);var ug=jd(e=>encodeURIComponent(e).replace(/[!'()*]/g,tH),"escapeUri"),tH=jd(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`,"hexEncode"),rH=jd(e=>e.split("/").map(ug).join("/"),"escapeUriPath")});var _g=_((Wae,vg)=>{var Ss=Object.defineProperty,nH=Object.getOwnPropertyDescriptor,oH=Object.getOwnPropertyNames,iH=Object.prototype.hasOwnProperty,sH=(e,t)=>Ss(e,"name",{value:t,configurable:!0}),aH=(e,t)=>{for(var r in t)Ss(e,r,{get:t[r],enumerable:!0})},cH=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of oH(t))!iH.call(e,o)&&o!==r&&Ss(e,o,{get:()=>t[o],enumerable:!(n=nH(t,o))||n.enumerable});return e},dH=e=>cH(Ss({},"__esModule",{value:!0}),e),mg={};aH(mg,{buildQueryString:()=>fg});vg.exports=dH(mg);var Gd=Hd();function fg(e){let t=[];for(let r of Object.keys(e).sort()){let n=e[r];if(r=(0,Gd.escapeUri)(r),Array.isArray(n))for(let o=0,i=n.length;o<i;o++)t.push(`${r}=${(0,Gd.escapeUri)(n[o])}`);else{let o=r;(n||typeof n=="string")&&(o+=`=${(0,Gd.escapeUri)(n)}`),t.push(o)}}return t.join("&")}sH(fg,"buildQueryString")});var It=_((Jae,Ng)=>{var lH=Object.create,ko=Object.defineProperty,uH=Object.getOwnPropertyDescriptor,pH=Object.getOwnPropertyNames,mH=Object.getPrototypeOf,fH=Object.prototype.hasOwnProperty,ve=(e,t)=>ko(e,"name",{value:t,configurable:!0}),vH=(e,t)=>{for(var r in t)ko(e,r,{get:t[r],enumerable:!0})},hg=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of pH(t))!fH.call(e,o)&&o!==r&&ko(e,o,{get:()=>t[o],enumerable:!(n=uH(t,o))||n.enumerable});return e},_H=(e,t,r)=>(r=e!=null?lH(mH(e)):{},hg(t||!e||!e.__esModule?ko(r,"default",{value:e,enumerable:!0}):r,e)),gH=e=>hg(ko({},"__esModule",{value:!0}),e),Sg={};vH(Sg,{DEFAULT_REQUEST_TIMEOUT:()=>CH,NodeHttp2Handler:()=>bH,NodeHttpHandler:()=>PH,streamCollector:()=>IH});Ng.exports=gH(Sg);var Eg=ae(),Cg=_g(),$d=require("http"),zd=require("https"),yH=["ECONNRESET","EPIPE","ETIMEDOUT"],Pg=ve(e=>{let t={};for(let r of Object.keys(e)){let n=e[r];t[r]=Array.isArray(n)?n.join(","):n}return t},"getTransformedHeaders"),hH=ve((e,t,r=0)=>{if(!r)return;let n=setTimeout(()=>{e.destroy(),t(Object.assign(new Error(`Socket timed out without establishing a connection within ${r} ms`),{name:"TimeoutError"}))},r);e.on("socket",o=>{o.connecting?o.on("connect",()=>{clearTimeout(n)}):clearTimeout(n)})},"setConnectionTimeout"),SH=ve((e,{keepAlive:t,keepAliveMsecs:r})=>{t===!0&&e.on("socket",n=>{n.setKeepAlive(t,r||0)})},"setSocketKeepAlive"),EH=ve((e,t,r=0)=>{e.setTimeout(r,()=>{e.destroy(),t(Object.assign(new Error(`Connection timed out after ${r} ms`),{name:"TimeoutError"}))})},"setSocketTimeout"),wg=require("stream"),gg=1e3;async function Vd(e,t,r=gg){let n=t.headers??{},o=n.Expect||n.expect,i=-1,s=!1;o==="100-continue"&&await Promise.race([new Promise(a=>{i=Number(setTimeout(a,Math.max(gg,r)))}),new Promise(a=>{e.on("continue",()=>{clearTimeout(i),a()}),e.on("error",()=>{s=!0,clearTimeout(i),a()})})]),s||xg(e,t.body)}ve(Vd,"writeRequestBody");function xg(e,t){if(t instanceof wg.Readable){t.pipe(e);return}if(t){if(Buffer.isBuffer(t)||typeof t=="string"){e.end(t);return}let r=t;if(typeof r=="object"&&r.buffer&&typeof r.byteOffset=="number"&&typeof r.byteLength=="number"){e.end(Buffer.from(r.buffer,r.byteOffset,r.byteLength));return}e.end(Buffer.from(t));return}e.end()}ve(xg,"writeBody");var CH=0,Rg=class Wd{constructor(t){this.socketWarningTimestamp=0,this.metadata={handlerProtocol:"http/1.1"},this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(o=>{r(this.resolveDefaultConfig(o))}).catch(n):r(this.resolveDefaultConfig(t))})}static create(t){return typeof t?.handle=="function"?t:new Wd(t)}static checkSocketUsage(t,r){var n,o;let{sockets:i,requests:s,maxSockets:a}=t;if(typeof a!="number"||a===1/0||Date.now()-15e3<r)return r;if(i&&s)for(let l in i){let p=((n=i[l])==null?void 0:n.length)??0,m=((o=s[l])==null?void 0:o.length)??0;if(p>=a&&m>=2*a)return console.warn("@smithy/node-http-handler:WARN",`socket usage at capacity=${p} and ${m} additional requests are enqueued.`,"See https://docs.aws.amazon.com/sdk-for-javascript/v3/developer-guide/node-configuring-maxsockets.html","or increase socketAcquisitionWarningTimeout=(millis) in the NodeHttpHandler config."),Date.now()}return r}resolveDefaultConfig(t){let{requestTimeout:r,connectionTimeout:n,socketTimeout:o,httpAgent:i,httpsAgent:s}=t||{},a=!0,c=50;return{connectionTimeout:n,requestTimeout:r??o,httpAgent:i instanceof $d.Agent||typeof i?.destroy=="function"?i:new $d.Agent({keepAlive:a,maxSockets:c,...i}),httpsAgent:s instanceof zd.Agent||typeof s?.destroy=="function"?s:new zd.Agent({keepAlive:a,maxSockets:c,...s})}}destroy(){var t,r,n,o;(r=(t=this.config)==null?void 0:t.httpAgent)==null||r.destroy(),(o=(n=this.config)==null?void 0:n.httpsAgent)==null||o.destroy()}async handle(t,{abortSignal:r}={}){this.config||(this.config=await this.configProvider);let n;return new Promise((o,i)=>{let s,a=ve(async R=>{await s,clearTimeout(n),o(R)},"resolve"),c=ve(async R=>{await s,i(R)},"reject");if(!this.config)throw new Error("Node HTTP request handler config is not resolved");if(r?.aborted){let R=new Error("Request aborted");R.name="AbortError",c(R);return}let l=t.protocol==="https:",p=l?this.config.httpsAgent:this.config.httpAgent;n=setTimeout(()=>{this.socketWarningTimestamp=Wd.checkSocketUsage(p,this.socketWarningTimestamp)},this.config.socketAcquisitionWarningTimeout??(this.config.requestTimeout??2e3)+(this.config.connectionTimeout??1e3));let m=(0,Cg.buildQueryString)(t.query||{}),f;if(t.username!=null||t.password!=null){let R=t.username??"",de=t.password??"";f=`${R}:${de}`}let v=t.path;m&&(v+=`?${m}`),t.fragment&&(v+=`#${t.fragment}`);let g={headers:t.headers,host:t.hostname,method:t.method,path:v,port:t.port,agent:p,auth:f},P=(l?zd.request:$d.request)(g,R=>{let de=new Eg.HttpResponse({statusCode:R.statusCode||-1,reason:R.statusMessage,headers:Pg(R.headers),body:R});a({response:de})});P.on("error",R=>{yH.includes(R.code)?c(Object.assign(R,{name:"TimeoutError"})):c(R)}),hH(P,c,this.config.connectionTimeout),EH(P,c,this.config.requestTimeout),r&&(r.onabort=()=>{P.abort();let R=new Error("Request aborted");R.name="AbortError",c(R)});let x=g.agent;typeof x=="object"&&"keepAlive"in x&&SH(P,{keepAlive:x.keepAlive,keepAliveMsecs:x.keepAliveMsecs}),s=Vd(P,t,this.config.requestTimeout).catch(i)})}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[t]:r}))}httpHandlerConfigs(){return this.config??{}}};ve(Rg,"NodeHttpHandler");var PH=Rg,yg=require("http2"),wH=_H(require("http2")),bg=class{constructor(t){this.sessions=[],this.sessions=t??[]}poll(){if(this.sessions.length>0)return this.sessions.shift()}offerLast(t){this.sessions.push(t)}contains(t){return this.sessions.includes(t)}remove(t){this.sessions=this.sessions.filter(r=>r!==t)}[Symbol.iterator](){return this.sessions[Symbol.iterator]()}destroy(t){for(let r of this.sessions)r===t&&(r.destroyed||r.destroy())}};ve(bg,"NodeHttp2ConnectionPool");var xH=bg,Ag=class{constructor(t){if(this.sessionCache=new Map,this.config=t,this.config.maxConcurrency&&this.config.maxConcurrency<=0)throw new RangeError("maxConcurrency must be greater than zero.")}lease(t,r){let n=this.getUrlString(t),o=this.sessionCache.get(n);if(o){let c=o.poll();if(c&&!this.config.disableConcurrency)return c}let i=wH.default.connect(n);this.config.maxConcurrency&&i.settings({maxConcurrentStreams:this.config.maxConcurrency},c=>{if(c)throw new Error("Fail to set maxConcurrentStreams to "+this.config.maxConcurrency+"when creating new session for "+t.destination.toString())}),i.unref();let s=ve(()=>{i.destroy(),this.deleteSession(n,i)},"destroySessionCb");i.on("goaway",s),i.on("error",s),i.on("frameError",s),i.on("close",()=>this.deleteSession(n,i)),r.requestTimeout&&i.setTimeout(r.requestTimeout,s);let a=this.sessionCache.get(n)||new xH;return a.offerLast(i),this.sessionCache.set(n,a),i}deleteSession(t,r){let n=this.sessionCache.get(t);n&&n.contains(r)&&(n.remove(r),this.sessionCache.set(t,n))}release(t,r){var n;let o=this.getUrlString(t);(n=this.sessionCache.get(o))==null||n.offerLast(r)}destroy(){for(let[t,r]of this.sessionCache){for(let n of r)n.destroyed||n.destroy(),r.remove(n);this.sessionCache.delete(t)}}setMaxConcurrentStreams(t){if(this.config.maxConcurrency&&this.config.maxConcurrency<=0)throw new RangeError("maxConcurrentStreams must be greater than zero.");this.config.maxConcurrency=t}setDisableConcurrentStreams(t){this.config.disableConcurrency=t}getUrlString(t){return t.destination.toString()}};ve(Ag,"NodeHttp2ConnectionManager");var RH=Ag,Ig=class Og{constructor(t){this.metadata={handlerProtocol:"h2"},this.connectionManager=new RH({}),this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(o=>{r(o||{})}).catch(n):r(t||{})})}static create(t){return typeof t?.handle=="function"?t:new Og(t)}destroy(){this.connectionManager.destroy()}async handle(t,{abortSignal:r}={}){this.config||(this.config=await this.configProvider,this.connectionManager.setDisableConcurrentStreams(this.config.disableConcurrentStreams||!1),this.config.maxConcurrentStreams&&this.connectionManager.setMaxConcurrentStreams(this.config.maxConcurrentStreams));let{requestTimeout:n,disableConcurrentStreams:o}=this.config;return new Promise((i,s)=>{var a;let c=!1,l,p=ve(async le=>{await l,i(le)},"resolve"),m=ve(async le=>{await l,s(le)},"reject");if(r?.aborted){c=!0;let le=new Error("Request aborted");le.name="AbortError",m(le);return}let{hostname:f,method:v,port:g,protocol:S,query:P}=t,x="";if(t.username!=null||t.password!=null){let le=t.username??"",So=t.password??"";x=`${le}:${So}@`}let R=`${S}//${x}${f}${g?`:${g}`:""}`,de={destination:new URL(R)},H=this.connectionManager.lease(de,{requestTimeout:(a=this.config)==null?void 0:a.sessionTimeout,disableConcurrentStreams:o||!1}),We=ve(le=>{o&&this.destroySession(H),c=!0,m(le)},"rejectWithDestroy"),dr=(0,Cg.buildQueryString)(P||{}),Jr=t.path;dr&&(Jr+=`?${dr}`),t.fragment&&(Jr+=`#${t.fragment}`);let ft=H.request({...t.headers,[yg.constants.HTTP2_HEADER_PATH]:Jr,[yg.constants.HTTP2_HEADER_METHOD]:v});H.ref(),ft.on("response",le=>{let So=new Eg.HttpResponse({statusCode:le[":status"]||-1,headers:Pg(le),body:ft});c=!0,p({response:So}),o&&(H.close(),this.connectionManager.deleteSession(R,H))}),n&&ft.setTimeout(n,()=>{ft.close();let le=new Error(`Stream timed out because of no activity for ${n} ms`);le.name="TimeoutError",We(le)}),r&&(r.onabort=()=>{ft.close();let le=new Error("Request aborted");le.name="AbortError",We(le)}),ft.on("frameError",(le,So,ZK)=>{We(new Error(`Frame type id ${le} in stream id ${ZK} has failed with code ${So}.`))}),ft.on("error",We),ft.on("aborted",()=>{We(new Error(`HTTP/2 stream is abnormally aborted in mid-communication with result code ${ft.rstCode}.`))}),ft.on("close",()=>{H.unref(),o&&H.destroy(),c||We(new Error("Unexpected error: http2 request did not get a response"))}),l=Vd(ft,t,n)})}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[t]:r}))}httpHandlerConfigs(){return this.config??{}}destroySession(t){t.destroyed||t.destroy()}};ve(Ig,"NodeHttp2Handler");var bH=Ig,Tg=class extends wg.Writable{constructor(){super(...arguments),this.bufferedBytes=[]}_write(t,r,n){this.bufferedBytes.push(t),n()}};ve(Tg,"Collector");var AH=Tg,IH=ve(e=>new Promise((t,r)=>{let n=new AH;e.pipe(n),e.on("error",o=>{n.end(),r(o)}),n.on("error",r),n.on("finish",function(){let o=new Uint8Array(Buffer.concat(this.bufferedBytes));t(o)})}),"streamCollector")});var kg=_(Es=>{"use strict";Object.defineProperty(Es,"__esModule",{value:!0});Es.sdkStreamMixin=void 0;var OH=It(),TH=gn(),Bd=require("stream"),NH=require("util"),Dg="The stream has already been transformed.",DH=e=>{var t,r;if(!(e instanceof Bd.Readable)){let i=((r=(t=e?.__proto__)===null||t===void 0?void 0:t.constructor)===null||r===void 0?void 0:r.name)||e;throw new Error(`Unexpected stream implementation, expect Stream.Readable instance, got ${i}`)}let n=!1,o=async()=>{if(n)throw new Error(Dg);return n=!0,await(0,OH.streamCollector)(e)};return Object.assign(e,{transformToByteArray:o,transformToString:async i=>{let s=await o();return i===void 0||Buffer.isEncoding(i)?(0,TH.fromArrayBuffer)(s.buffer,s.byteOffset,s.byteLength).toString(i):new NH.TextDecoder(i).decode(s)},transformToWebStream:()=>{if(n)throw new Error(Dg);if(e.readableFlowing!==null)throw new Error("The stream has been consumed by other callbacks.");if(typeof Bd.Readable.toWeb!="function")throw new Error("Readable.toWeb() is not supported. Please make sure you are using Node.js >= 17.0.0, or polyfill is available.");return n=!0,Bd.Readable.toWeb(e)}})};Es.sdkStreamMixin=DH});var xs=_((Qae,ws)=>{var Cs=Object.defineProperty,kH=Object.getOwnPropertyDescriptor,MH=Object.getOwnPropertyNames,KH=Object.prototype.hasOwnProperty,Yd=(e,t)=>Cs(e,"name",{value:t,configurable:!0}),FH=(e,t)=>{for(var r in t)Cs(e,r,{get:t[r],enumerable:!0})},Xd=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of MH(t))!KH.call(e,o)&&o!==r&&Cs(e,o,{get:()=>t[o],enumerable:!(n=kH(t,o))||n.enumerable});return e},Mg=(e,t,r)=>(Xd(e,t,"default"),r&&Xd(r,t,"default")),LH=e=>Xd(Cs({},"__esModule",{value:!0}),e),Ps={};FH(Ps,{Uint8ArrayBlobAdapter:()=>Jd});ws.exports=LH(Ps);var Kg=vr(),Fg=Fe();function Lg(e,t="utf-8"){return t==="base64"?(0,Kg.toBase64)(e):(0,Fg.toUtf8)(e)}Yd(Lg,"transformToString");function Ug(e,t){return t==="base64"?Jd.mutate((0,Kg.fromBase64)(e)):Jd.mutate((0,Fg.fromUtf8)(e))}Yd(Ug,"transformFromString");var qg=class jg extends Uint8Array{static fromString(t,r="utf-8"){switch(typeof t){case"string":return Ug(t,r);default:throw new Error(`Unsupported conversion from ${typeof t} to Uint8ArrayBlobAdapter.`)}}static mutate(t){return Object.setPrototypeOf(t,jg.prototype),t}transformToString(t="utf-8"){return Lg(this,t)}};Yd(qg,"Uint8ArrayBlobAdapter");var Jd=qg;Mg(Ps,dg(),ws.exports);Mg(Ps,kg(),ws.exports)});var z=_((nce,uy)=>{var Os=Object.defineProperty,UH=Object.getOwnPropertyDescriptor,qH=Object.getOwnPropertyNames,jH=Object.prototype.hasOwnProperty,w=(e,t)=>Os(e,"name",{value:t,configurable:!0}),HH=(e,t)=>{for(var r in t)Os(e,r,{get:t[r],enumerable:!0})},GH=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of qH(t))!jH.call(e,o)&&o!==r&&Os(e,o,{get:()=>t[o],enumerable:!(n=UH(t,o))||n.enumerable});return e},$H=e=>GH(Os({},"__esModule",{value:!0}),e),Gg={};HH(Gg,{Client:()=>WH,Command:()=>Bg,LazyJsonString:()=>HG,NoOpLogger:()=>zH,SENSITIVE_STRING:()=>XH,ServiceException:()=>OG,StringWrapper:()=>Uo,_json:()=>ol,collectBody:()=>VH,convertMap:()=>GG,createAggregatedClient:()=>JH,dateToUtcString:()=>ty,decorateServiceException:()=>oy,emitWarningIfUnsupportedVersion:()=>kG,expectBoolean:()=>QH,expectByte:()=>nl,expectFloat32:()=>bs,expectInt:()=>eG,expectInt32:()=>tl,expectLong:()=>Fo,expectNonNull:()=>rG,expectNumber:()=>Ko,expectObject:()=>Jg,expectShort:()=>rl,expectString:()=>nG,expectUnion:()=>oG,extendedEncodeURIComponent:()=>Is,getArrayIfSingleItem:()=>jG,getDefaultClientConfiguration:()=>UG,getDefaultExtensionConfiguration:()=>sy,getValueFromTextNode:()=>ay,handleFloat:()=>aG,limitedParseDouble:()=>al,limitedParseFloat:()=>cG,limitedParseFloat32:()=>dG,loadConfigsForDefaultMode:()=>DG,logger:()=>Lo,map:()=>dl,parseBoolean:()=>YH,parseEpochTimestamp:()=>EG,parseRfc3339DateTime:()=>fG,parseRfc3339DateTimeWithOffset:()=>_G,parseRfc7231DateTime:()=>SG,resolveDefaultRuntimeConfig:()=>qG,resolvedPath:()=>BG,serializeFloat:()=>XG,splitEvery:()=>ly,strictParseByte:()=>ey,strictParseDouble:()=>sl,strictParseFloat:()=>iG,strictParseFloat32:()=>Yg,strictParseInt:()=>lG,strictParseInt32:()=>uG,strictParseLong:()=>Zg,strictParseShort:()=>yn,take:()=>$G,throwDefaultError:()=>iy,withBaseException:()=>TG});uy.exports=$H(Gg);var $g=class{trace(){}debug(){}info(){}warn(){}error(){}};w($g,"NoOpLogger");var zH=$g,zg=X_(),Wg=class{constructor(t){this.middlewareStack=(0,zg.constructStack)(),this.config=t}send(t,r,n){let o=typeof r!="function"?r:void 0,i=typeof r=="function"?r:n,s=t.resolveMiddleware(this.middlewareStack,this.config,o);if(i)s(t).then(a=>i(null,a.output),a=>i(a)).catch(()=>{});else return s(t).then(a=>a.output)}destroy(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()}};w(Wg,"Client");var WH=Wg,Qd=xs(),VH=w(async(e=new Uint8Array,t)=>{if(e instanceof Uint8Array)return Qd.Uint8ArrayBlobAdapter.mutate(e);if(!e)return Qd.Uint8ArrayBlobAdapter.mutate(new Uint8Array);let r=t.streamCollector(e);return Qd.Uint8ArrayBlobAdapter.mutate(await r)},"collectBody"),el=qe(),Vg=class{constructor(){this.middlewareStack=(0,zg.constructStack)()}static classBuilder(){return new BH}resolveMiddlewareWithContext(t,r,n,{middlewareFn:o,clientName:i,commandName:s,inputFilterSensitiveLog:a,outputFilterSensitiveLog:c,smithyContext:l,additionalContext:p,CommandCtor:m}){for(let P of o.bind(this)(m,t,r,n))this.middlewareStack.use(P);let f=t.concat(this.middlewareStack),{logger:v}=r,g={logger:v,clientName:i,commandName:s,inputFilterSensitiveLog:a,outputFilterSensitiveLog:c,[el.SMITHY_CONTEXT_KEY]:{...l},...p},{requestHandler:S}=r;return f.resolve(P=>S.handle(P.request,n||{}),g)}};w(Vg,"Command");var Bg=Vg,Xg=class{constructor(){this._init=()=>{},this._ep={},this._middlewareFn=()=>[],this._commandName="",this._clientName="",this._additionalContext={},this._smithyContext={},this._inputFilterSensitiveLog=t=>t,this._outputFilterSensitiveLog=t=>t,this._serializer=null,this._deserializer=null}init(t){this._init=t}ep(t){return this._ep=t,this}m(t){return this._middlewareFn=t,this}s(t,r,n={}){return this._smithyContext={service:t,operation:r,...n},this}c(t={}){return this._additionalContext=t,this}n(t,r){return this._clientName=t,this._commandName=r,this}f(t=n=>n,r=n=>n){return this._inputFilterSensitiveLog=t,this._outputFilterSensitiveLog=r,this}ser(t){return this._serializer=t,this}de(t){return this._deserializer=t,this}build(){var t;let r=this,n;return n=(t=class extends Bg{constructor(...[o]){super(),this.serialize=r._serializer,this.deserialize=r._deserializer,this.input=o??{},r._init(this)}static getEndpointParameterInstructions(){return r._ep}resolveMiddleware(o,i,s){return this.resolveMiddlewareWithContext(o,i,s,{CommandCtor:n,middlewareFn:r._middlewareFn,clientName:r._clientName,commandName:r._commandName,inputFilterSensitiveLog:r._inputFilterSensitiveLog,outputFilterSensitiveLog:r._outputFilterSensitiveLog,smithyContext:r._smithyContext,additionalContext:r._additionalContext})}},w(t,"CommandRef"),t)}};w(Xg,"ClassBuilder");var BH=Xg,XH="***SensitiveInformation***",JH=w((e,t)=>{for(let r of Object.keys(e)){let n=e[r],o=w(async function(s,a,c){let l=new n(s);if(typeof a=="function")this.send(l,a);else if(typeof c=="function"){if(typeof a!="object")throw new Error(`Expected http options but got ${typeof a}`);this.send(l,a||{},c)}else return this.send(l,a)},"methodImpl"),i=(r[0].toLowerCase()+r.slice(1)).replace(/Command$/,"");t.prototype[i]=o}},"createAggregatedClient"),YH=w(e=>{switch(e){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${e}"`)}},"parseBoolean"),QH=w(e=>{if(e!=null){if(typeof e=="number"){if((e===0||e===1)&&Lo.warn(As(`Expected boolean, got ${typeof e}: ${e}`)),e===0)return!1;if(e===1)return!0}if(typeof e=="string"){let t=e.toLowerCase();if((t==="false"||t==="true")&&Lo.warn(As(`Expected boolean, got ${typeof e}: ${e}`)),t==="false")return!1;if(t==="true")return!0}if(typeof e=="boolean")return e;throw new TypeError(`Expected boolean, got ${typeof e}: ${e}`)}},"expectBoolean"),Ko=w(e=>{if(e!=null){if(typeof e=="string"){let t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&Lo.warn(As(`Expected number but observed string: ${e}`)),t}if(typeof e=="number")return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}},"expectNumber"),ZH=Math.ceil(2**127*(2-2**-23)),bs=w(e=>{let t=Ko(e);if(t!==void 0&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0&&Math.abs(t)>ZH)throw new TypeError(`Expected 32-bit float, got ${e}`);return t},"expectFloat32"),Fo=w(e=>{if(e!=null){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}},"expectLong"),eG=Fo,tl=w(e=>il(e,32),"expectInt32"),rl=w(e=>il(e,16),"expectShort"),nl=w(e=>il(e,8),"expectByte"),il=w((e,t)=>{let r=Fo(e);if(r!==void 0&&tG(r,t)!==r)throw new TypeError(`Expected ${t}-bit integer, got ${e}`);return r},"expectSizedInt"),tG=w((e,t)=>{switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},"castInt"),rG=w((e,t)=>{if(e==null)throw t?new TypeError(`Expected a non-null value for ${t}`):new TypeError("Expected a non-null value");return e},"expectNonNull"),Jg=w(e=>{if(e==null)return;if(typeof e=="object"&&!Array.isArray(e))return e;let t=Array.isArray(e)?"array":typeof e;throw new TypeError(`Expected object, got ${t}: ${e}`)},"expectObject"),nG=w(e=>{if(e!=null){if(typeof e=="string")return e;if(["boolean","number","bigint"].includes(typeof e))return Lo.warn(As(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}},"expectString"),oG=w(e=>{if(e==null)return;let t=Jg(e),r=Object.entries(t).filter(([,n])=>n!=null).map(([n])=>n);if(r.length===0)throw new TypeError("Unions must have exactly one non-null member. None were found.");if(r.length>1)throw new TypeError(`Unions must have exactly one non-null member. Keys ${r} were not null.`);return t},"expectUnion"),sl=w(e=>Ko(typeof e=="string"?Sn(e):e),"strictParseDouble"),iG=sl,Yg=w(e=>bs(typeof e=="string"?Sn(e):e),"strictParseFloat32"),sG=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,Sn=w(e=>{let t=e.match(sG);if(t===null||t[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)},"parseNumber"),al=w(e=>typeof e=="string"?Qg(e):Ko(e),"limitedParseDouble"),aG=al,cG=al,dG=w(e=>typeof e=="string"?Qg(e):bs(e),"limitedParseFloat32"),Qg=w(e=>{switch(e){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error(`Unable to parse float value: ${e}`)}},"parseFloatString"),Zg=w(e=>Fo(typeof e=="string"?Sn(e):e),"strictParseLong"),lG=Zg,uG=w(e=>tl(typeof e=="string"?Sn(e):e),"strictParseInt32"),yn=w(e=>rl(typeof e=="string"?Sn(e):e),"strictParseShort"),ey=w(e=>nl(typeof e=="string"?Sn(e):e),"strictParseByte"),As=w(e=>String(new TypeError(e).stack||e).split(`
`).slice(0,5).filter(t=>!t.includes("stackTraceWarning")).join(`
`),"stackTraceWarning"),Lo={warn:console.warn},pG=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],cl=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function ty(e){let t=e.getUTCFullYear(),r=e.getUTCMonth(),n=e.getUTCDay(),o=e.getUTCDate(),i=e.getUTCHours(),s=e.getUTCMinutes(),a=e.getUTCSeconds(),c=o<10?`0${o}`:`${o}`,l=i<10?`0${i}`:`${i}`,p=s<10?`0${s}`:`${s}`,m=a<10?`0${a}`:`${a}`;return`${pG[n]}, ${c} ${cl[r]} ${t} ${l}:${p}:${m} GMT`}w(ty,"dateToUtcString");var mG=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/),fG=w(e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=mG.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,o,i,s,a,c,l]=t,p=yn(hn(n)),m=Ot(o,"month",1,12),f=Ot(i,"day",1,31);return Mo(p,m,f,{hours:s,minutes:a,seconds:c,fractionalMilliseconds:l})},"parseRfc3339DateTime"),vG=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),_G=w(e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=vG.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,o,i,s,a,c,l,p]=t,m=yn(hn(n)),f=Ot(o,"month",1,12),v=Ot(i,"day",1,31),g=Mo(m,f,v,{hours:s,minutes:a,seconds:c,fractionalMilliseconds:l});return p.toUpperCase()!="Z"&&g.setTime(g.getTime()-IG(p)),g},"parseRfc3339DateTimeWithOffset"),gG=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),yG=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),hG=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),SG=w(e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let t=gG.exec(e);if(t){let[r,n,o,i,s,a,c,l]=t;return Mo(yn(hn(i)),Zd(o),Ot(n,"day",1,31),{hours:s,minutes:a,seconds:c,fractionalMilliseconds:l})}if(t=yG.exec(e),t){let[r,n,o,i,s,a,c,l]=t;return wG(Mo(CG(i),Zd(o),Ot(n,"day",1,31),{hours:s,minutes:a,seconds:c,fractionalMilliseconds:l}))}if(t=hG.exec(e),t){let[r,n,o,i,s,a,c,l]=t;return Mo(yn(hn(l)),Zd(n),Ot(o.trimLeft(),"day",1,31),{hours:i,minutes:s,seconds:a,fractionalMilliseconds:c})}throw new TypeError("Invalid RFC-7231 date-time value")},"parseRfc7231DateTime"),EG=w(e=>{if(e==null)return;let t;if(typeof e=="number")t=e;else if(typeof e=="string")t=sl(e);else throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");if(Number.isNaN(t)||t===1/0||t===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(t*1e3))},"parseEpochTimestamp"),Mo=w((e,t,r,n)=>{let o=t-1;return RG(e,o,r),new Date(Date.UTC(e,o,r,Ot(n.hours,"hour",0,23),Ot(n.minutes,"minute",0,59),Ot(n.seconds,"seconds",0,60),AG(n.fractionalMilliseconds)))},"buildDate"),CG=w(e=>{let t=new Date().getUTCFullYear(),r=Math.floor(t/100)*100+yn(hn(e));return r<t?r+100:r},"parseTwoDigitYear"),PG=50*365*24*60*60*1e3,wG=w(e=>e.getTime()-new Date().getTime()>PG?new Date(Date.UTC(e.getUTCFullYear()-100,e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())):e,"adjustRfc850Year"),Zd=w(e=>{let t=cl.indexOf(e);if(t<0)throw new TypeError(`Invalid month: ${e}`);return t+1},"parseMonthByShortName"),xG=[31,28,31,30,31,30,31,31,30,31,30,31],RG=w((e,t,r)=>{let n=xG[t];if(t===1&&bG(e)&&(n=29),r>n)throw new TypeError(`Invalid day for ${cl[t]} in ${e}: ${r}`)},"validateDayOfMonth"),bG=w(e=>e%4===0&&(e%100!==0||e%400===0),"isLeapYear"),Ot=w((e,t,r,n)=>{let o=ey(hn(e));if(o<r||o>n)throw new TypeError(`${t} must be between ${r} and ${n}, inclusive`);return o},"parseDateValue"),AG=w(e=>e==null?0:Yg("0."+e)*1e3,"parseMilliseconds"),IG=w(e=>{let t=e[0],r=1;if(t=="+")r=1;else if(t=="-")r=-1;else throw new TypeError(`Offset direction, ${t}, must be "+" or "-"`);let n=Number(e.substring(1,3)),o=Number(e.substring(4,6));return r*(n*60+o)*60*1e3},"parseOffsetToMilliseconds"),hn=w(e=>{let t=0;for(;t<e.length-1&&e.charAt(t)==="0";)t++;return t===0?e:e.slice(t)},"stripLeadingZeroes"),ry=class ny extends Error{constructor(t){super(t.message),Object.setPrototypeOf(this,ny.prototype),this.name=t.name,this.$fault=t.$fault,this.$metadata=t.$metadata}};w(ry,"ServiceException");var OG=ry,oy=w((e,t={})=>{Object.entries(t).filter(([,n])=>n!==void 0).forEach(([n,o])=>{(e[n]==null||e[n]==="")&&(e[n]=o)});let r=e.message||e.Message||"UnknownError";return e.message=r,delete e.Message,e},"decorateServiceException"),iy=w(({output:e,parsedBody:t,exceptionCtor:r,errorCode:n})=>{let o=NG(e),i=o.httpStatusCode?o.httpStatusCode+"":void 0,s=new r({name:t?.code||t?.Code||n||i||"UnknownError",$fault:"client",$metadata:o});throw oy(s,t)},"throwDefaultError"),TG=w(e=>({output:t,parsedBody:r,errorCode:n})=>{iy({output:t,parsedBody:r,exceptionCtor:e,errorCode:n})},"withBaseException"),NG=w(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),DG=w(e=>{switch(e){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},"loadConfigsForDefaultMode"),Hg=!1,kG=w(e=>{e&&!Hg&&parseInt(e.substring(1,e.indexOf(".")))<14&&(Hg=!0)},"emitWarningIfUnsupportedVersion"),MG=w(e=>{let t=[];for(let r in el.AlgorithmId){let n=el.AlgorithmId[r];e[n]!==void 0&&t.push({algorithmId:()=>n,checksumConstructor:()=>e[n]})}return{_checksumAlgorithms:t,addChecksumAlgorithm(r){this._checksumAlgorithms.push(r)},checksumAlgorithms(){return this._checksumAlgorithms}}},"getChecksumConfiguration"),KG=w(e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},"resolveChecksumRuntimeConfig"),FG=w(e=>{let t=e.retryStrategy;return{setRetryStrategy(r){t=r},retryStrategy(){return t}}},"getRetryConfiguration"),LG=w(e=>{let t={};return t.retryStrategy=e.retryStrategy(),t},"resolveRetryRuntimeConfig"),sy=w(e=>({...MG(e),...FG(e)}),"getDefaultExtensionConfiguration"),UG=sy,qG=w(e=>({...KG(e),...LG(e)}),"resolveDefaultRuntimeConfig");function Is(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}w(Is,"extendedEncodeURIComponent");var jG=w(e=>Array.isArray(e)?e:[e],"getArrayIfSingleItem"),ay=w(e=>{let t="#text";for(let r in e)e.hasOwnProperty(r)&&e[r][t]!==void 0?e[r]=e[r][t]:typeof e[r]=="object"&&e[r]!==null&&(e[r]=ay(e[r]));return e},"getValueFromTextNode"),Uo=w(function(){let e=Object.getPrototypeOf(this).constructor,t=Function.bind.apply(String,[null,...arguments]),r=new t;return Object.setPrototypeOf(r,e.prototype),r},"StringWrapper");Uo.prototype=Object.create(String.prototype,{constructor:{value:Uo,enumerable:!1,writable:!0,configurable:!0}});Object.setPrototypeOf(Uo,String);var cy=class Rs extends Uo{deserializeJSON(){return JSON.parse(super.toString())}toJSON(){return super.toString()}static fromObject(t){return t instanceof Rs?t:t instanceof String||typeof t=="string"?new Rs(t):new Rs(JSON.stringify(t))}};w(cy,"LazyJsonString");var HG=cy;function dl(e,t,r){let n,o,i;if(typeof t>"u"&&typeof r>"u")n={},i=e;else{if(n=e,typeof t=="function")return o=t,i=r,zG(n,o,i);i=t}for(let s of Object.keys(i)){if(!Array.isArray(i[s])){n[s]=i[s];continue}dy(n,null,i,s)}return n}w(dl,"map");var GG=w(e=>{let t={};for(let[r,n]of Object.entries(e||{}))t[r]=[,n];return t},"convertMap"),$G=w((e,t)=>{let r={};for(let n in t)dy(r,e,t,n);return r},"take"),zG=w((e,t,r)=>dl(e,Object.entries(r).reduce((n,[o,i])=>(Array.isArray(i)?n[o]=i:typeof i=="function"?n[o]=[t,i()]:n[o]=[t,i],n),{})),"mapWithFilter"),dy=w((e,t,r,n)=>{if(t!==null){let s=r[n];typeof s=="function"&&(s=[,s]);let[a=WG,c=VG,l=n]=s;(typeof a=="function"&&a(t[l])||typeof a!="function"&&a)&&(e[n]=c(t[l]));return}let[o,i]=r[n];if(typeof i=="function"){let s,a=o===void 0&&(s=i())!=null,c=typeof o=="function"&&!!o(void 0)||typeof o!="function"&&!!o;a?e[n]=s:c&&(e[n]=i())}else{let s=o===void 0&&i!=null,a=typeof o=="function"&&!!o(i)||typeof o!="function"&&!!o;(s||a)&&(e[n]=i)}},"applyInstruction"),WG=w(e=>e!=null,"nonNullish"),VG=w(e=>e,"pass"),BG=w((e,t,r,n,o,i)=>{if(t!=null&&t[r]!==void 0){let s=n();if(s.length<=0)throw new Error("Empty value provided for input HTTP label: "+r+".");e=e.replace(o,i?s.split("/").map(a=>Is(a)).join("/"):Is(s))}else throw new Error("No value provided for input HTTP label: "+r+".");return e},"resolvedPath"),XG=w(e=>{if(e!==e)return"NaN";switch(e){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return e}},"serializeFloat"),ol=w(e=>{if(e==null)return{};if(Array.isArray(e))return e.filter(t=>t!=null).map(ol);if(typeof e=="object"){let t={};for(let r of Object.keys(e))e[r]!=null&&(t[r]=ol(e[r]));return t}return e},"_json");function ly(e,t,r){if(r<=0||!Number.isInteger(r))throw new Error("Invalid number of delimiters ("+r+") for splitEvery.");let n=e.split(t);if(r===1)return n;let o=[],i="";for(let s=0;s<n.length;s++)i===""?i=n[s]:i+=t+n[s],(s+1)%r===0&&(o.push(i),i="");return i!==""&&o.push(i),o}w(ly,"splitEvery")});var py=_(Ts=>{"use strict";Object.defineProperty(Ts,"__esModule",{value:!0});Ts.isStreamingPayload=void 0;var JG=require("stream"),YG=e=>e?.body instanceof JG.Readable||typeof ReadableStream<"u"&&e?.body instanceof ReadableStream;Ts.isStreamingPayload=YG});var Le=_((cce,Iy)=>{var Ns=Object.defineProperty,QG=Object.getOwnPropertyDescriptor,ZG=Object.getOwnPropertyNames,e$=Object.prototype.hasOwnProperty,ue=(e,t)=>Ns(e,"name",{value:t,configurable:!0}),t$=(e,t)=>{for(var r in t)Ns(e,r,{get:t[r],enumerable:!0})},r$=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of ZG(t))!e$.call(e,o)&&o!==r&&Ns(e,o,{get:()=>t[o],enumerable:!(n=QG(t,o))||n.enumerable});return e},n$=e=>r$(Ns({},"__esModule",{value:!0}),e),fy={};t$(fy,{AdaptiveRetryStrategy:()=>s$,CONFIG_MAX_ATTEMPTS:()=>ul,CONFIG_RETRY_MODE:()=>Py,ENV_MAX_ATTEMPTS:()=>ll,ENV_RETRY_MODE:()=>Cy,NODE_MAX_ATTEMPT_CONFIG_OPTIONS:()=>a$,NODE_RETRY_MODE_CONFIG_OPTIONS:()=>d$,StandardRetryStrategy:()=>Sy,defaultDelayDecider:()=>_y,defaultRetryDecider:()=>gy,getOmitRetryHeadersPlugin:()=>l$,getRetryAfterHint:()=>Ay,getRetryPlugin:()=>_$,omitRetryHeadersMiddleware:()=>wy,omitRetryHeadersMiddlewareOptions:()=>xy,resolveRetryConfig:()=>c$,retryMiddleware:()=>Ry,retryMiddlewareOptions:()=>by});Iy.exports=n$(fy);var En=ae(),vy=(b_(),bt(R_)),ce=mr(),o$=ue((e,t)=>{let r=e,n=t?.noRetryIncrement??ce.NO_RETRY_INCREMENT,o=t?.retryCost??ce.RETRY_COST,i=t?.timeoutRetryCost??ce.TIMEOUT_RETRY_COST,s=e,a=ue(m=>m.name==="TimeoutError"?i:o,"getCapacityAmount"),c=ue(m=>a(m)<=s,"hasRetryTokens");return Object.freeze({hasRetryTokens:c,retrieveRetryTokens:ue(m=>{if(!c(m))throw new Error("No retry token available");let f=a(m);return s-=f,f},"retrieveRetryTokens"),releaseRetryTokens:ue(m=>{s+=m??n,s=Math.min(s,r)},"releaseRetryTokens")})},"getDefaultRetryQuota"),_y=ue((e,t)=>Math.floor(Math.min(ce.MAXIMUM_RETRY_DELAY,Math.random()*2**t*e)),"defaultDelayDecider"),_r=Od(),gy=ue(e=>e?(0,_r.isRetryableByTrait)(e)||(0,_r.isClockSkewError)(e)||(0,_r.isThrottlingError)(e)||(0,_r.isTransientError)(e):!1,"defaultRetryDecider"),yy=ue(e=>e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):typeof e=="string"?new Error(e):new Error(`AWS SDK error wrapper for ${e}`),"asSdkError"),hy=class{constructor(t,r){this.maxAttemptsProvider=t,this.mode=ce.RETRY_MODES.STANDARD,this.retryDecider=r?.retryDecider??gy,this.delayDecider=r?.delayDecider??_y,this.retryQuota=r?.retryQuota??o$(ce.INITIAL_RETRY_TOKENS)}shouldRetry(t,r,n){return r<n&&this.retryDecider(t)&&this.retryQuota.hasRetryTokens(t)}async getMaxAttempts(){let t;try{t=await this.maxAttemptsProvider()}catch{t=ce.DEFAULT_MAX_ATTEMPTS}return t}async retry(t,r,n){let o,i=0,s=0,a=await this.getMaxAttempts(),{request:c}=r;for(En.HttpRequest.isInstance(c)&&(c.headers[ce.INVOCATION_ID_HEADER]=(0,vy.v4)());;)try{En.HttpRequest.isInstance(c)&&(c.headers[ce.REQUEST_HEADER]=`attempt=${i+1}; max=${a}`),n?.beforeRequest&&await n.beforeRequest();let{response:l,output:p}=await t(r);return n?.afterRequest&&n.afterRequest(l),this.retryQuota.releaseRetryTokens(o),p.$metadata.attempts=i+1,p.$metadata.totalRetryDelay=s,{response:l,output:p}}catch(l){let p=yy(l);if(i++,this.shouldRetry(p,i,a)){o=this.retryQuota.retrieveRetryTokens(p);let m=this.delayDecider((0,_r.isThrottlingError)(p)?ce.THROTTLING_RETRY_DELAY_BASE:ce.DEFAULT_RETRY_DELAY_BASE,i),f=i$(p.$response),v=Math.max(f||0,m);s+=v,await new Promise(g=>setTimeout(g,v));continue}throw p.$metadata||(p.$metadata={}),p.$metadata.attempts=i,p.$metadata.totalRetryDelay=s,p}}};ue(hy,"StandardRetryStrategy");var Sy=hy,i$=ue(e=>{if(!En.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(i=>i.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r).getTime()-Date.now():n*1e3},"getDelayFromRetryAfterHeader"),Ey=class extends Sy{constructor(t,r){let{rateLimiter:n,...o}=r??{};super(t,o),this.rateLimiter=n??new ce.DefaultRateLimiter,this.mode=ce.RETRY_MODES.ADAPTIVE}async retry(t,r){return super.retry(t,r,{beforeRequest:async()=>this.rateLimiter.getSendToken(),afterRequest:n=>{this.rateLimiter.updateClientSendingRate(n)}})}};ue(Ey,"AdaptiveRetryStrategy");var s$=Ey,my=Ve(),ll="AWS_MAX_ATTEMPTS",ul="max_attempts",a$={environmentVariableSelector:e=>{let t=e[ll];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Environment variable ${ll} mast be a number, got "${t}"`);return r},configFileSelector:e=>{let t=e[ul];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Shared config file entry ${ul} mast be a number, got "${t}"`);return r},default:ce.DEFAULT_MAX_ATTEMPTS},c$=ue(e=>{let{retryStrategy:t}=e,r=(0,my.normalizeProvider)(e.maxAttempts??ce.DEFAULT_MAX_ATTEMPTS);return{...e,maxAttempts:r,retryStrategy:async()=>t||(await(0,my.normalizeProvider)(e.retryMode)()===ce.RETRY_MODES.ADAPTIVE?new ce.AdaptiveRetryStrategy(r):new ce.StandardRetryStrategy(r))}},"resolveRetryConfig"),Cy="AWS_RETRY_MODE",Py="retry_mode",d$={environmentVariableSelector:e=>e[Cy],configFileSelector:e=>e[Py],default:ce.DEFAULT_RETRY_MODE},wy=ue(()=>e=>async t=>{let{request:r}=t;return En.HttpRequest.isInstance(r)&&(delete r.headers[ce.INVOCATION_ID_HEADER],delete r.headers[ce.REQUEST_HEADER]),e(t)},"omitRetryHeadersMiddleware"),xy={name:"omitRetryHeadersMiddleware",tags:["RETRY","HEADERS","OMIT_RETRY_HEADERS"],relation:"before",toMiddleware:"awsAuthMiddleware",override:!0},l$=ue(e=>({applyToStack:t=>{t.addRelativeTo(wy(),xy)}}),"getOmitRetryHeadersPlugin"),u$=z(),p$=py(),Ry=ue(e=>(t,r)=>async n=>{var o;let i=await e.retryStrategy(),s=await e.maxAttempts();if(m$(i)){i=i;let a=await i.acquireInitialRetryToken(r.partition_id),c=new Error,l=0,p=0,{request:m}=n,f=En.HttpRequest.isInstance(m);for(f&&(m.headers[ce.INVOCATION_ID_HEADER]=(0,vy.v4)());;)try{f&&(m.headers[ce.REQUEST_HEADER]=`attempt=${l+1}; max=${s}`);let{response:v,output:g}=await t(n);return i.recordSuccess(a),g.$metadata.attempts=l+1,g.$metadata.totalRetryDelay=p,{response:v,output:g}}catch(v){let g=f$(v);if(c=yy(v),f&&(0,p$.isStreamingPayload)(m))throw(o=r.logger instanceof u$.NoOpLogger?console:r.logger)==null||o.warn("An error was encountered in a non-retryable streaming request."),c;try{a=await i.refreshRetryTokenForRetry(a,g)}catch{throw c.$metadata||(c.$metadata={}),c.$metadata.attempts=l+1,c.$metadata.totalRetryDelay=p,c}l=a.getRetryCount();let S=a.getRetryDelay();p+=S,await new Promise(P=>setTimeout(P,S))}}else return i=i,i?.mode&&(r.userAgent=[...r.userAgent||[],["cfg/retry-mode",i.mode]]),i.retry(t,n)},"retryMiddleware"),m$=ue(e=>typeof e.acquireInitialRetryToken<"u"&&typeof e.refreshRetryTokenForRetry<"u"&&typeof e.recordSuccess<"u","isRetryStrategyV2"),f$=ue(e=>{let t={error:e,errorType:v$(e)},r=Ay(e.$response);return r&&(t.retryAfterHint=r),t},"getRetryErrorInfo"),v$=ue(e=>(0,_r.isThrottlingError)(e)?"THROTTLING":(0,_r.isTransientError)(e)?"TRANSIENT":(0,_r.isServerError)(e)?"SERVER_ERROR":"CLIENT_ERROR","getRetryErrorType"),by={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},_$=ue(e=>({applyToStack:t=>{t.add(Ry(e),by)}}),"getRetryPlugin"),Ay=ue(e=>{if(!En.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(i=>i.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r):new Date(n*1e3)},"getRetryAfterHint")});var Pe=_((fce,Xy)=>{var ks=Object.defineProperty,g$=Object.getOwnPropertyDescriptor,y$=Object.getOwnPropertyNames,h$=Object.prototype.hasOwnProperty,re=(e,t)=>ks(e,"name",{value:t,configurable:!0}),S$=(e,t)=>{for(var r in t)ks(e,r,{get:t[r],enumerable:!0})},E$=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of y$(t))!h$.call(e,o)&&o!==r&&ks(e,o,{get:()=>t[o],enumerable:!(n=g$(t,o))||n.enumerable});return e},C$=e=>E$(ks({},"__esModule",{value:!0}),e),Oy={};S$(Oy,{DefaultIdentityProviderConfig:()=>T$,EXPIRATION_MS:()=>Gy,HttpApiKeyAuthSigner:()=>N$,HttpBearerAuthSigner:()=>D$,NoAuthSigner:()=>k$,RequestBuilder:()=>Vy,createIsIdentityExpiredFunction:()=>Hy,createPaginator:()=>By,doesIdentityRequireRefresh:()=>$y,getHttpAuthSchemeEndpointRuleSetPlugin:()=>w$,getHttpAuthSchemePlugin:()=>R$,getHttpSigningPlugin:()=>O$,getSmithyContext:()=>F$,httpAuthSchemeEndpointRuleSetMiddlewareOptions:()=>Dy,httpAuthSchemeMiddleware:()=>pl,httpAuthSchemeMiddlewareOptions:()=>ky,httpSigningMiddleware:()=>Ky,httpSigningMiddlewareOptions:()=>Fy,isIdentityExpired:()=>M$,memoizeIdentityProvider:()=>K$,normalizeProvider:()=>L$,requestBuilder:()=>zy});Xy.exports=C$(Oy);var Ty=Ve();function Ny(e){let t=new Map;for(let r of e)t.set(r.schemeId,r);return t}re(Ny,"convertHttpAuthSchemesToMap");var pl=re((e,t)=>(r,n)=>async o=>{var i;let s=e.httpAuthSchemeProvider(await t.httpAuthSchemeParametersProvider(e,n,o.input)),a=Ny(e.httpAuthSchemes),c=(0,Ty.getSmithyContext)(n),l=[];for(let p of s){let m=a.get(p.schemeId);if(!m){l.push(`HttpAuthScheme \`${p.schemeId}\` was not enabled for this service.`);continue}let f=m.identityProvider(await t.identityProviderConfigProvider(e));if(!f){l.push(`HttpAuthScheme \`${p.schemeId}\` did not have an IdentityProvider configured.`);continue}let{identityProperties:v={},signingProperties:g={}}=((i=p.propertiesExtractor)==null?void 0:i.call(p,e,n))||{};p.identityProperties=Object.assign(p.identityProperties||{},v),p.signingProperties=Object.assign(p.signingProperties||{},g),c.selectedHttpAuthScheme={httpAuthOption:p,identity:await f(p.identityProperties),signer:m.signer};break}if(!c.selectedHttpAuthScheme)throw new Error(l.join(`
`));return r(o)},"httpAuthSchemeMiddleware"),P$=At(),Dy={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:P$.endpointMiddlewareOptions.name},w$=re((e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(pl(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),Dy)}}),"getHttpAuthSchemeEndpointRuleSetPlugin"),x$=zt(),ky={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:x$.serializerMiddlewareOption.name},R$=re((e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(pl(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),ky)}}),"getHttpAuthSchemePlugin"),My=ae(),b$=re(e=>t=>{throw t},"defaultErrorHandler"),A$=re((e,t)=>{},"defaultSuccessHandler"),Ky=re(e=>(t,r)=>async n=>{if(!My.HttpRequest.isInstance(n.request))return t(n);let i=(0,Ty.getSmithyContext)(r).selectedHttpAuthScheme;if(!i)throw new Error("No HttpAuthScheme was selected: unable to sign request");let{httpAuthOption:{signingProperties:s={}},identity:a,signer:c}=i,l=await t({...n,request:await c.sign(n.request,a,s)}).catch((c.errorHandler||b$)(s));return(c.successHandler||A$)(l.response,s),l},"httpSigningMiddleware"),I$=Le(),Fy={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:I$.retryMiddlewareOptions.name},O$=re(e=>({applyToStack:t=>{t.addRelativeTo(Ky(e),Fy)}}),"getHttpSigningPlugin"),Ly=class{constructor(t){this.authSchemes=new Map;for(let[r,n]of Object.entries(t))n!==void 0&&this.authSchemes.set(r,n)}getIdentityProvider(t){return this.authSchemes.get(t)}};re(Ly,"DefaultIdentityProviderConfig");var T$=Ly,Ds=qe(),Uy=class{async sign(t,r,n){if(!n)throw new Error("request could not be signed with `apiKey` since the `name` and `in` signer properties are missing");if(!n.name)throw new Error("request could not be signed with `apiKey` since the `name` signer property is missing");if(!n.in)throw new Error("request could not be signed with `apiKey` since the `in` signer property is missing");if(!r.apiKey)throw new Error("request could not be signed with `apiKey` since the `apiKey` is not defined");let o=t.clone();if(n.in===Ds.HttpApiKeyAuthLocation.QUERY)o.query[n.name]=r.apiKey;else if(n.in===Ds.HttpApiKeyAuthLocation.HEADER)o.headers[n.name]=n.scheme?`${n.scheme} ${r.apiKey}`:r.apiKey;else throw new Error("request can only be signed with `apiKey` locations `query` or `header`, but found: `"+n.in+"`");return o}};re(Uy,"HttpApiKeyAuthSigner");var N$=Uy,qy=class{async sign(t,r,n){let o=t.clone();if(!r.token)throw new Error("request could not be signed with `token` since the `token` is not defined");return o.headers.Authorization=`Bearer ${r.token}`,o}};re(qy,"HttpBearerAuthSigner");var D$=qy,jy=class{async sign(t,r,n){return t}};re(jy,"NoAuthSigner");var k$=jy,Hy=re(e=>t=>$y(t)&&t.expiration.getTime()-Date.now()<e,"createIsIdentityExpiredFunction"),Gy=3e5,M$=Hy(Gy),$y=re(e=>e.expiration!==void 0,"doesIdentityRequireRefresh"),K$=re((e,t,r)=>{if(e===void 0)return;let n=typeof e!="function"?async()=>Promise.resolve(e):e,o,i,s,a=!1,c=re(async l=>{i||(i=n(l));try{o=await i,s=!0,a=!1}finally{i=void 0}return o},"coalesceProvider");return t===void 0?async l=>((!s||l?.forceRefresh)&&(o=await c(l)),o):async l=>((!s||l?.forceRefresh)&&(o=await c(l)),a?o:r(o)?(t(o)&&await c(l),o):(a=!0,o))},"memoizeIdentityProvider"),F$=re(e=>e[Ds.SMITHY_CONTEXT_KEY]||(e[Ds.SMITHY_CONTEXT_KEY]={}),"getSmithyContext"),L$=re(e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t},"normalizeProvider"),U$=z();function zy(e,t){return new Vy(e,t)}re(zy,"requestBuilder");var Wy=class{constructor(t,r){this.input=t,this.context=r,this.query={},this.method="",this.headers={},this.path="",this.body=null,this.hostname="",this.resolvePathStack=[]}async build(){let{hostname:t,protocol:r="https",port:n,path:o}=await this.context.endpoint();this.path=o;for(let i of this.resolvePathStack)i(this.path);return new My.HttpRequest({protocol:r,hostname:this.hostname||t,port:n,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers})}hn(t){return this.hostname=t,this}bp(t){return this.resolvePathStack.push(r=>{this.path=`${r?.endsWith("/")?r.slice(0,-1):r||""}`+t}),this}p(t,r,n,o){return this.resolvePathStack.push(i=>{this.path=(0,U$.resolvedPath)(i,this.input,t,r,n,o)}),this}h(t){return this.headers=t,this}q(t){return this.query=t,this}b(t){return this.body=t,this}m(t){return this.method=t,this}};re(Wy,"RequestBuilder");var Vy=Wy,q$=re(async(e,t,r,...n)=>await t.send(new e(r),...n),"makePagedClientRequest");function By(e,t,r,n,o){return re(async function*(s,a,...c){let l=s.startingToken||void 0,p=!0,m;for(;p;){if(a[r]=l,o&&(a[o]=a[o]??s.pageSize),s.client instanceof e)m=await q$(t,s.client,a,...c);else throw new Error(`Invalid client, expected instance of ${e.name}`);yield m;let f=l;l=j$(m,n),p=!!(l&&(!s.stopOnSameToken||l!==f))}return void 0},"paginateOperation")}re(By,"createPaginator");var j$=re((e,t)=>{let r=e,n=t.split(".");for(let o of n){if(!r||typeof r!="object")return;r=r[o]}return r},"get")});var tn=_((vce,eh)=>{var Ms=Object.defineProperty,H$=Object.getOwnPropertyDescriptor,G$=Object.getOwnPropertyNames,$$=Object.prototype.hasOwnProperty,Yy=(e,t)=>Ms(e,"name",{value:t,configurable:!0}),z$=(e,t)=>{for(var r in t)Ms(e,r,{get:t[r],enumerable:!0})},W$=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of G$(t))!$$.call(e,o)&&o!==r&&Ms(e,o,{get:()=>t[o],enumerable:!(n=H$(t,o))||n.enumerable});return e},V$=e=>W$(Ms({},"__esModule",{value:!0}),e),Qy={};z$(Qy,{contentLengthMiddleware:()=>ml,contentLengthMiddlewareOptions:()=>Zy,getContentLengthPlugin:()=>X$});eh.exports=V$(Qy);var B$=ae(),Jy="content-length";function ml(e){return t=>async r=>{let n=r.request;if(B$.HttpRequest.isInstance(n)){let{body:o,headers:i}=n;if(o&&Object.keys(i).map(s=>s.toLowerCase()).indexOf(Jy)===-1)try{let s=e(o);n.headers={...n.headers,[Jy]:String(s)}}catch{}}return t({...r,request:n})}}Yy(ml,"contentLengthMiddleware");var Zy={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},X$=Yy(e=>({applyToStack:t=>{t.add(ml(e.bodyLengthChecker),Zy)}}),"getContentLengthPlugin")});var ah=_((_ce,sh)=>{var Ks=Object.defineProperty,J$=Object.getOwnPropertyDescriptor,Y$=Object.getOwnPropertyNames,Q$=Object.prototype.hasOwnProperty,th=(e,t)=>Ks(e,"name",{value:t,configurable:!0}),Z$=(e,t)=>{for(var r in t)Ks(e,r,{get:t[r],enumerable:!0})},e2=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Y$(t))!Q$.call(e,o)&&o!==r&&Ks(e,o,{get:()=>t[o],enumerable:!(n=J$(t,o))||n.enumerable});return e},t2=e=>e2(Ks({},"__esModule",{value:!0}),e),rh={};Z$(rh,{fromHex:()=>oh,toHex:()=>ih});sh.exports=t2(rh);var nh={},fl={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();t.length===1&&(t=`0${t}`),nh[e]=t,fl[t]=e}function oh(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");let t=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2){let n=e.slice(r,r+2).toLowerCase();if(n in fl)t[r/2]=fl[n];else throw new Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`)}return t}th(oh,"fromHex");function ih(e){let t="";for(let r=0;r<e.byteLength;r++)t+=nh[e[r]];return t}th(ih,"toHex")});var El=_((hce,bh)=>{var js=Object.defineProperty,r2=Object.getOwnPropertyDescriptor,n2=Object.getOwnPropertyNames,o2=Object.prototype.hasOwnProperty,pe=(e,t)=>js(e,"name",{value:t,configurable:!0}),i2=(e,t)=>{for(var r in t)js(e,r,{get:t[r],enumerable:!0})},s2=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of n2(t))!o2.call(e,o)&&o!==r&&js(e,o,{get:()=>t[o],enumerable:!(n=r2(t,o))||n.enumerable});return e},a2=e=>s2(js({},"__esModule",{value:!0}),e),ph={};i2(ph,{SignatureV4:()=>k2,clearCredentialCache:()=>w2,createScope:()=>Us,getCanonicalHeaders:()=>yl,getCanonicalQuery:()=>Sh,getPayloadHash:()=>qs,getSigningKey:()=>hh,moveHeadersToQuery:()=>xh,prepareRequest:()=>Sl});bh.exports=a2(ph);var ch=Ve(),vl=Fe(),c2="X-Amz-Algorithm",d2="X-Amz-Credential",mh="X-Amz-Date",l2="X-Amz-SignedHeaders",u2="X-Amz-Expires",fh="X-Amz-Signature",vh="X-Amz-Security-Token",_h="authorization",gh=mh.toLowerCase(),p2="date",m2=[_h,gh,p2],f2=fh.toLowerCase(),gl="x-amz-content-sha256",v2=vh.toLowerCase(),_2={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},g2=/^proxy-/,y2=/^sec-/,_l="AWS4-HMAC-SHA256",h2="AWS4-HMAC-SHA256-PAYLOAD",S2="UNSIGNED-PAYLOAD",E2=50,yh="aws4_request",C2=60*60*24*7,gr=ah(),P2=Fe(),Cn={},Ls=[],Us=pe((e,t,r)=>`${e}/${t}/${r}/${yh}`,"createScope"),hh=pe(async(e,t,r,n,o)=>{let i=await dh(e,t.secretAccessKey,t.accessKeyId),s=`${r}:${n}:${o}:${(0,gr.toHex)(i)}:${t.sessionToken}`;if(s in Cn)return Cn[s];for(Ls.push(s);Ls.length>E2;)delete Cn[Ls.shift()];let a=`AWS4${t.secretAccessKey}`;for(let c of[r,n,o,yh])a=await dh(e,a,c);return Cn[s]=a},"getSigningKey"),w2=pe(()=>{Ls.length=0,Object.keys(Cn).forEach(e=>{delete Cn[e]})},"clearCredentialCache"),dh=pe((e,t,r)=>{let n=new e(t);return n.update((0,P2.toUint8Array)(r)),n.digest()},"hmac"),yl=pe(({headers:e},t,r)=>{let n={};for(let o of Object.keys(e).sort()){if(e[o]==null)continue;let i=o.toLowerCase();(i in _2||t?.has(i)||g2.test(i)||y2.test(i))&&(!r||r&&!r.has(i))||(n[i]=e[o].trim().replace(/\s+/g," "))}return n},"getCanonicalHeaders"),qo=Hd(),Sh=pe(({query:e={}})=>{let t=[],r={};for(let n of Object.keys(e).sort()){if(n.toLowerCase()===f2)continue;t.push(n);let o=e[n];typeof o=="string"?r[n]=`${(0,qo.escapeUri)(n)}=${(0,qo.escapeUri)(o)}`:Array.isArray(o)&&(r[n]=o.slice(0).reduce((i,s)=>i.concat([`${(0,qo.escapeUri)(n)}=${(0,qo.escapeUri)(s)}`]),[]).sort().join("&"))}return t.map(n=>r[n]).filter(n=>n).join("&")},"getCanonicalQuery"),x2=Kd(),R2=Fe(),qs=pe(async({headers:e,body:t},r)=>{for(let n of Object.keys(e))if(n.toLowerCase()===gl)return e[n];if(t==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof t=="string"||ArrayBuffer.isView(t)||(0,x2.isArrayBuffer)(t)){let n=new r;return n.update((0,R2.toUint8Array)(t)),(0,gr.toHex)(await n.digest())}return S2},"getPayloadHash"),lh=Fe(),Eh=class{format(t){let r=[];for(let i of Object.keys(t)){let s=(0,lh.fromUtf8)(i);r.push(Uint8Array.from([s.byteLength]),s,this.formatHeaderValue(t[i]))}let n=new Uint8Array(r.reduce((i,s)=>i+s.byteLength,0)),o=0;for(let i of r)n.set(i,o),o+=i.byteLength;return n}formatHeaderValue(t){switch(t.type){case"boolean":return Uint8Array.from([t.value?0:1]);case"byte":return Uint8Array.from([2,t.value]);case"short":let r=new DataView(new ArrayBuffer(3));return r.setUint8(0,3),r.setInt16(1,t.value,!1),new Uint8Array(r.buffer);case"integer":let n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,t.value,!1),new Uint8Array(n.buffer);case"long":let o=new Uint8Array(9);return o[0]=5,o.set(t.value.bytes,1),o;case"binary":let i=new DataView(new ArrayBuffer(3+t.value.byteLength));i.setUint8(0,6),i.setUint16(1,t.value.byteLength,!1);let s=new Uint8Array(i.buffer);return s.set(t.value,3),s;case"string":let a=(0,lh.fromUtf8)(t.value),c=new DataView(new ArrayBuffer(3+a.byteLength));c.setUint8(0,7),c.setUint16(1,a.byteLength,!1);let l=new Uint8Array(c.buffer);return l.set(a,3),l;case"timestamp":let p=new Uint8Array(9);return p[0]=8,p.set(I2.fromNumber(t.value.valueOf()).bytes,1),p;case"uuid":if(!A2.test(t.value))throw new Error(`Invalid UUID received: ${t.value}`);let m=new Uint8Array(17);return m[0]=9,m.set((0,gr.fromHex)(t.value.replace(/\-/g,"")),1),m}}};pe(Eh,"HeaderFormatter");var b2=Eh,A2=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,Ch=class Ph{constructor(t){if(this.bytes=t,t.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(t){if(t>9223372036854776e3||t<-9223372036854776e3)throw new Error(`${t} is too large (or, if negative, too small) to represent as an Int64`);let r=new Uint8Array(8);for(let n=7,o=Math.abs(Math.round(t));n>-1&&o>0;n--,o/=256)r[n]=o;return t<0&&hl(r),new Ph(r)}valueOf(){let t=this.bytes.slice(0),r=t[0]&128;return r&&hl(t),parseInt((0,gr.toHex)(t),16)*(r?-1:1)}toString(){return String(this.valueOf())}};pe(Ch,"Int64");var I2=Ch;function hl(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,e[t]===0);t--);}pe(hl,"negate");var O2=pe((e,t)=>{e=e.toLowerCase();for(let r of Object.keys(t))if(e===r.toLowerCase())return!0;return!1},"hasHeader"),wh=pe(({headers:e,query:t,...r})=>({...r,headers:{...e},query:t?T2(t):void 0}),"cloneRequest"),T2=pe(e=>Object.keys(e).reduce((t,r)=>{let n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{}),"cloneQuery"),xh=pe((e,t={})=>{var r;let{headers:n,query:o={}}=typeof e.clone=="function"?e.clone():wh(e);for(let i of Object.keys(n)){let s=i.toLowerCase();s.slice(0,6)==="x-amz-"&&!((r=t.unhoistableHeaders)!=null&&r.has(s))&&(o[i]=n[i],delete n[i])}return{...e,headers:n,query:o}},"moveHeadersToQuery"),Sl=pe(e=>{e=typeof e.clone=="function"?e.clone():wh(e);for(let t of Object.keys(e.headers))m2.indexOf(t.toLowerCase())>-1&&delete e.headers[t];return e},"prepareRequest"),N2=pe(e=>D2(e).toISOString().replace(/\.\d{3}Z$/,"Z"),"iso8601"),D2=pe(e=>typeof e=="number"?new Date(e*1e3):typeof e=="string"?Number(e)?new Date(Number(e)*1e3):new Date(e):e,"toDate"),Rh=class{constructor({applyChecksum:t,credentials:r,region:n,service:o,sha256:i,uriEscapePath:s=!0}){this.headerFormatter=new b2,this.service=o,this.sha256=i,this.uriEscapePath=s,this.applyChecksum=typeof t=="boolean"?t:!0,this.regionProvider=(0,ch.normalizeProvider)(n),this.credentialProvider=(0,ch.normalizeProvider)(r)}async presign(t,r={}){let{signingDate:n=new Date,expiresIn:o=3600,unsignableHeaders:i,unhoistableHeaders:s,signableHeaders:a,signingRegion:c,signingService:l}=r,p=await this.credentialProvider();this.validateResolvedCredentials(p);let m=c??await this.regionProvider(),{longDate:f,shortDate:v}=Fs(n);if(o>C2)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let g=Us(v,m,l??this.service),S=xh(Sl(t),{unhoistableHeaders:s});p.sessionToken&&(S.query[vh]=p.sessionToken),S.query[c2]=_l,S.query[d2]=`${p.accessKeyId}/${g}`,S.query[mh]=f,S.query[u2]=o.toString(10);let P=yl(S,i,a);return S.query[l2]=uh(P),S.query[fh]=await this.getSignature(f,g,this.getSigningKey(p,m,v,l),this.createCanonicalRequest(S,P,await qs(t,this.sha256))),S}async sign(t,r){return typeof t=="string"?this.signString(t,r):t.headers&&t.payload?this.signEvent(t,r):t.message?this.signMessage(t,r):this.signRequest(t,r)}async signEvent({headers:t,payload:r},{signingDate:n=new Date,priorSignature:o,signingRegion:i,signingService:s}){let a=i??await this.regionProvider(),{shortDate:c,longDate:l}=Fs(n),p=Us(c,a,s??this.service),m=await qs({headers:{},body:r},this.sha256),f=new this.sha256;f.update(t);let v=(0,gr.toHex)(await f.digest()),g=[h2,l,p,o,v,m].join(`
`);return this.signString(g,{signingDate:n,signingRegion:a,signingService:s})}async signMessage(t,{signingDate:r=new Date,signingRegion:n,signingService:o}){return this.signEvent({headers:this.headerFormatter.format(t.message.headers),payload:t.message.body},{signingDate:r,signingRegion:n,signingService:o,priorSignature:t.priorSignature}).then(s=>({message:t.message,signature:s}))}async signString(t,{signingDate:r=new Date,signingRegion:n,signingService:o}={}){let i=await this.credentialProvider();this.validateResolvedCredentials(i);let s=n??await this.regionProvider(),{shortDate:a}=Fs(r),c=new this.sha256(await this.getSigningKey(i,s,a,o));return c.update((0,vl.toUint8Array)(t)),(0,gr.toHex)(await c.digest())}async signRequest(t,{signingDate:r=new Date,signableHeaders:n,unsignableHeaders:o,signingRegion:i,signingService:s}={}){let a=await this.credentialProvider();this.validateResolvedCredentials(a);let c=i??await this.regionProvider(),l=Sl(t),{longDate:p,shortDate:m}=Fs(r),f=Us(m,c,s??this.service);l.headers[gh]=p,a.sessionToken&&(l.headers[v2]=a.sessionToken);let v=await qs(l,this.sha256);!O2(gl,l.headers)&&this.applyChecksum&&(l.headers[gl]=v);let g=yl(l,o,n),S=await this.getSignature(p,f,this.getSigningKey(a,c,m,s),this.createCanonicalRequest(l,g,v));return l.headers[_h]=`${_l} Credential=${a.accessKeyId}/${f}, SignedHeaders=${uh(g)}, Signature=${S}`,l}createCanonicalRequest(t,r,n){let o=Object.keys(r).sort();return`${t.method}
${this.getCanonicalPath(t)}
${Sh(t)}
${o.map(i=>`${i}:${r[i]}`).join(`
`)}

${o.join(";")}
${n}`}async createStringToSign(t,r,n){let o=new this.sha256;o.update((0,vl.toUint8Array)(n));let i=await o.digest();return`${_l}
${t}
${r}
${(0,gr.toHex)(i)}`}getCanonicalPath({path:t}){if(this.uriEscapePath){let r=[];for(let i of t.split("/"))i?.length!==0&&i!=="."&&(i===".."?r.pop():r.push(i));let n=`${t?.startsWith("/")?"/":""}${r.join("/")}${r.length>0&&t?.endsWith("/")?"/":""}`;return(0,qo.escapeUri)(n).replace(/%2F/g,"/")}return t}async getSignature(t,r,n,o){let i=await this.createStringToSign(t,r,o),s=new this.sha256(await n);return s.update((0,vl.toUint8Array)(i)),(0,gr.toHex)(await s.digest())}getSigningKey(t,r,n,o){return hh(this.sha256,t,n,r,o||this.service)}validateResolvedCredentials(t){if(typeof t!="object"||typeof t.accessKeyId!="string"||typeof t.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}};pe(Rh,"SignatureV4");var k2=Rh,Fs=pe(e=>{let t=N2(e).replace(/[\-:]/g,"");return{longDate:t,shortDate:t.slice(0,8)}},"formatDate"),uh=pe(e=>Object.keys(e).sort().join(";"),"getCanonicalHeaderList")});var Hs=_(Wt=>{"use strict";var Ah=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",M2=Ah+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",Ih="["+Ah+"]["+M2+"]*",K2=new RegExp("^"+Ih+"$"),F2=function(e,t){let r=[],n=t.exec(e);for(;n;){let o=[];o.startIndex=t.lastIndex-n[0].length;let i=n.length;for(let s=0;s<i;s++)o.push(n[s]);r.push(o),n=t.exec(e)}return r},L2=function(e){let t=K2.exec(e);return!(t===null||typeof t>"u")};Wt.isExist=function(e){return typeof e<"u"};Wt.isEmptyObject=function(e){return Object.keys(e).length===0};Wt.merge=function(e,t,r){if(t){let n=Object.keys(t),o=n.length;for(let i=0;i<o;i++)r==="strict"?e[n[i]]=[t[n[i]]]:e[n[i]]=t[n[i]]}};Wt.getValue=function(e){return Wt.isExist(e)?e:""};Wt.isName=L2;Wt.getAllMatches=F2;Wt.nameRegexp=Ih});var Pl=_(kh=>{"use strict";var Cl=Hs(),U2={allowBooleanAttributes:!1,unpairedTags:[]};kh.validate=function(e,t){t=Object.assign({},U2,t);let r=[],n=!1,o=!1;e[0]==="\uFEFF"&&(e=e.substr(1));for(let i=0;i<e.length;i++)if(e[i]==="<"&&e[i+1]==="?"){if(i+=2,i=Th(e,i),i.err)return i}else if(e[i]==="<"){let s=i;if(i++,e[i]==="!"){i=Nh(e,i);continue}else{let a=!1;e[i]==="/"&&(a=!0,i++);let c="";for(;i<e.length&&e[i]!==">"&&e[i]!==" "&&e[i]!=="	"&&e[i]!==`
`&&e[i]!=="\r";i++)c+=e[i];if(c=c.trim(),c[c.length-1]==="/"&&(c=c.substring(0,c.length-1),i--),!V2(c)){let m;return c.trim().length===0?m="Invalid space after '<'.":m="Tag '"+c+"' is an invalid name.",me("InvalidTag",m,Ue(e,i))}let l=H2(e,i);if(l===!1)return me("InvalidAttr","Attributes for '"+c+"' have open quote.",Ue(e,i));let p=l.value;if(i=l.index,p[p.length-1]==="/"){let m=i-p.length;p=p.substring(0,p.length-1);let f=Dh(p,t);if(f===!0)n=!0;else return me(f.err.code,f.err.msg,Ue(e,m+f.err.line))}else if(a)if(l.tagClosed){if(p.trim().length>0)return me("InvalidTag","Closing tag '"+c+"' can't have attributes or invalid starting.",Ue(e,s));{let m=r.pop();if(c!==m.tagName){let f=Ue(e,m.tagStartPos);return me("InvalidTag","Expected closing tag '"+m.tagName+"' (opened in line "+f.line+", col "+f.col+") instead of closing tag '"+c+"'.",Ue(e,s))}r.length==0&&(o=!0)}}else return me("InvalidTag","Closing tag '"+c+"' doesn't have proper closing.",Ue(e,i));else{let m=Dh(p,t);if(m!==!0)return me(m.err.code,m.err.msg,Ue(e,i-p.length+m.err.line));if(o===!0)return me("InvalidXml","Multiple possible root nodes found.",Ue(e,i));t.unpairedTags.indexOf(c)!==-1||r.push({tagName:c,tagStartPos:s}),n=!0}for(i++;i<e.length;i++)if(e[i]==="<")if(e[i+1]==="!"){i++,i=Nh(e,i);continue}else if(e[i+1]==="?"){if(i=Th(e,++i),i.err)return i}else break;else if(e[i]==="&"){let m=z2(e,i);if(m==-1)return me("InvalidChar","char '&' is not expected.",Ue(e,i));i=m}else if(o===!0&&!Oh(e[i]))return me("InvalidXml","Extra text at the end",Ue(e,i));e[i]==="<"&&i--}}else{if(Oh(e[i]))continue;return me("InvalidChar","char '"+e[i]+"' is not expected.",Ue(e,i))}if(n){if(r.length==1)return me("InvalidTag","Unclosed tag '"+r[0].tagName+"'.",Ue(e,r[0].tagStartPos));if(r.length>0)return me("InvalidXml","Invalid '"+JSON.stringify(r.map(i=>i.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return me("InvalidXml","Start tag expected.",1);return!0};function Oh(e){return e===" "||e==="	"||e===`
`||e==="\r"}function Th(e,t){let r=t;for(;t<e.length;t++)if(e[t]=="?"||e[t]==" "){let n=e.substr(r,t-r);if(t>5&&n==="xml")return me("InvalidXml","XML declaration allowed only at the start of the document.",Ue(e,t));if(e[t]=="?"&&e[t+1]==">"){t++;break}else continue}return t}function Nh(e,t){if(e.length>t+5&&e[t+1]==="-"&&e[t+2]==="-"){for(t+=3;t<e.length;t++)if(e[t]==="-"&&e[t+1]==="-"&&e[t+2]===">"){t+=2;break}}else if(e.length>t+8&&e[t+1]==="D"&&e[t+2]==="O"&&e[t+3]==="C"&&e[t+4]==="T"&&e[t+5]==="Y"&&e[t+6]==="P"&&e[t+7]==="E"){let r=1;for(t+=8;t<e.length;t++)if(e[t]==="<")r++;else if(e[t]===">"&&(r--,r===0))break}else if(e.length>t+9&&e[t+1]==="["&&e[t+2]==="C"&&e[t+3]==="D"&&e[t+4]==="A"&&e[t+5]==="T"&&e[t+6]==="A"&&e[t+7]==="["){for(t+=8;t<e.length;t++)if(e[t]==="]"&&e[t+1]==="]"&&e[t+2]===">"){t+=2;break}}return t}var q2='"',j2="'";function H2(e,t){let r="",n="",o=!1;for(;t<e.length;t++){if(e[t]===q2||e[t]===j2)n===""?n=e[t]:n!==e[t]||(n="");else if(e[t]===">"&&n===""){o=!0;break}r+=e[t]}return n!==""?!1:{value:r,index:t,tagClosed:o}}var G2=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function Dh(e,t){let r=Cl.getAllMatches(e,G2),n={};for(let o=0;o<r.length;o++){if(r[o][1].length===0)return me("InvalidAttr","Attribute '"+r[o][2]+"' has no space in starting.",jo(r[o]));if(r[o][3]!==void 0&&r[o][4]===void 0)return me("InvalidAttr","Attribute '"+r[o][2]+"' is without value.",jo(r[o]));if(r[o][3]===void 0&&!t.allowBooleanAttributes)return me("InvalidAttr","boolean attribute '"+r[o][2]+"' is not allowed.",jo(r[o]));let i=r[o][2];if(!W2(i))return me("InvalidAttr","Attribute '"+i+"' is an invalid name.",jo(r[o]));if(!n.hasOwnProperty(i))n[i]=1;else return me("InvalidAttr","Attribute '"+i+"' is repeated.",jo(r[o]))}return!0}function $2(e,t){let r=/\d/;for(e[t]==="x"&&(t++,r=/[\da-fA-F]/);t<e.length;t++){if(e[t]===";")return t;if(!e[t].match(r))break}return-1}function z2(e,t){if(t++,e[t]===";")return-1;if(e[t]==="#")return t++,$2(e,t);let r=0;for(;t<e.length;t++,r++)if(!(e[t].match(/\w/)&&r<20)){if(e[t]===";")break;return-1}return t}function me(e,t,r){return{err:{code:e,msg:t,line:r.line||r,col:r.col}}}function W2(e){return Cl.isName(e)}function V2(e){return Cl.isName(e)}function Ue(e,t){let r=e.substring(0,t).split(/\r?\n/);return{line:r.length,col:r[r.length-1].length+1}}function jo(e){return e.startIndex+e[1].length}});var Kh=_(wl=>{var Mh={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(e,t,r){return e}},B2=function(e){return Object.assign({},Mh,e)};wl.buildOptions=B2;wl.defaultOptions=Mh});var Lh=_((Pce,Fh)=>{"use strict";var xl=class{constructor(t){this.tagname=t,this.child=[],this[":@"]={}}add(t,r){t==="__proto__"&&(t="#__proto__"),this.child.push({[t]:r})}addChild(t){t.tagname==="__proto__"&&(t.tagname="#__proto__"),t[":@"]&&Object.keys(t[":@"]).length>0?this.child.push({[t.tagname]:t.child,":@":t[":@"]}):this.child.push({[t.tagname]:t.child})}};Fh.exports=xl});var qh=_((wce,Uh)=>{var X2=Hs();function J2(e,t){let r={};if(e[t+3]==="O"&&e[t+4]==="C"&&e[t+5]==="T"&&e[t+6]==="Y"&&e[t+7]==="P"&&e[t+8]==="E"){t=t+9;let n=1,o=!1,i=!1,s="";for(;t<e.length;t++)if(e[t]==="<"&&!i){if(o&&Z2(e,t))t+=7,[entityName,val,t]=Y2(e,t+1),val.indexOf("&")===-1&&(r[nz(entityName)]={regx:RegExp(`&${entityName};`,"g"),val});else if(o&&ez(e,t))t+=8;else if(o&&tz(e,t))t+=8;else if(o&&rz(e,t))t+=9;else if(Q2)i=!0;else throw new Error("Invalid DOCTYPE");n++,s=""}else if(e[t]===">"){if(i?e[t-1]==="-"&&e[t-2]==="-"&&(i=!1,n--):n--,n===0)break}else e[t]==="["?o=!0:s+=e[t];if(n!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:r,i:t}}function Y2(e,t){let r="";for(;t<e.length&&e[t]!=="'"&&e[t]!=='"';t++)r+=e[t];if(r=r.trim(),r.indexOf(" ")!==-1)throw new Error("External entites are not supported");let n=e[t++],o="";for(;t<e.length&&e[t]!==n;t++)o+=e[t];return[r,o,t]}function Q2(e,t){return e[t+1]==="!"&&e[t+2]==="-"&&e[t+3]==="-"}function Z2(e,t){return e[t+1]==="!"&&e[t+2]==="E"&&e[t+3]==="N"&&e[t+4]==="T"&&e[t+5]==="I"&&e[t+6]==="T"&&e[t+7]==="Y"}function ez(e,t){return e[t+1]==="!"&&e[t+2]==="E"&&e[t+3]==="L"&&e[t+4]==="E"&&e[t+5]==="M"&&e[t+6]==="E"&&e[t+7]==="N"&&e[t+8]==="T"}function tz(e,t){return e[t+1]==="!"&&e[t+2]==="A"&&e[t+3]==="T"&&e[t+4]==="T"&&e[t+5]==="L"&&e[t+6]==="I"&&e[t+7]==="S"&&e[t+8]==="T"}function rz(e,t){return e[t+1]==="!"&&e[t+2]==="N"&&e[t+3]==="O"&&e[t+4]==="T"&&e[t+5]==="A"&&e[t+6]==="T"&&e[t+7]==="I"&&e[t+8]==="O"&&e[t+9]==="N"}function nz(e){if(X2.isName(e))return e;throw new Error(`Invalid entity name ${e}`)}Uh.exports=J2});var Hh=_((xce,jh)=>{var oz=/^[-+]?0x[a-fA-F0-9]+$/,iz=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt);!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);var sz={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function az(e,t={}){if(t=Object.assign({},sz,t),!e||typeof e!="string")return e;let r=e.trim();if(t.skipLike!==void 0&&t.skipLike.test(r))return e;if(t.hex&&oz.test(r))return Number.parseInt(r,16);{let n=iz.exec(r);if(n){let o=n[1],i=n[2],s=cz(n[3]),a=n[4]||n[6];if(!t.leadingZeros&&i.length>0&&o&&r[2]!==".")return e;if(!t.leadingZeros&&i.length>0&&!o&&r[1]!==".")return e;{let c=Number(r),l=""+c;return l.search(/[eE]/)!==-1||a?t.eNotation?c:e:r.indexOf(".")!==-1?l==="0"&&s===""||l===s||o&&l==="-"+s?c:e:i?s===l||o+s===l?c:e:r===l||r===o+l?c:e}}else return e}}function cz(e){return e&&e.indexOf(".")!==-1&&(e=e.replace(/0+$/,""),e==="."?e="0":e[0]==="."?e="0"+e:e[e.length-1]==="."&&(e=e.substr(0,e.length-1))),e}jh.exports=az});var $h=_((bce,Gh)=>{"use strict";var Il=Hs(),Ho=Lh(),dz=qh(),lz=Hh(),Rce="<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,Il.nameRegexp),Rl=class{constructor(t){this.options=t,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xA2"},pound:{regex:/&(pound|#163);/g,val:"\xA3"},yen:{regex:/&(yen|#165);/g,val:"\xA5"},euro:{regex:/&(euro|#8364);/g,val:"\u20AC"},copyright:{regex:/&(copy|#169);/g,val:"\xA9"},reg:{regex:/&(reg|#174);/g,val:"\xAE"},inr:{regex:/&(inr|#8377);/g,val:"\u20B9"}},this.addExternalEntities=uz,this.parseXml=_z,this.parseTextData=pz,this.resolveNameSpace=mz,this.buildAttributesMap=vz,this.isItStopNode=Sz,this.replaceEntitiesValue=yz,this.readStopNodeData=Cz,this.saveTextToParentTag=hz,this.addChild=gz}};function uz(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];this.lastEntities[n]={regex:new RegExp("&"+n+";","g"),val:e[n]}}}function pz(e,t,r,n,o,i,s){if(e!==void 0&&(this.options.trimValues&&!n&&(e=e.trim()),e.length>0)){s||(e=this.replaceEntitiesValue(e));let a=this.options.tagValueProcessor(t,e,r,o,i);return a==null?e:typeof a!=typeof e||a!==e?a:this.options.trimValues?Al(e,this.options.parseTagValue,this.options.numberParseOptions):e.trim()===e?Al(e,this.options.parseTagValue,this.options.numberParseOptions):e}}function mz(e){if(this.options.removeNSPrefix){let t=e.split(":"),r=e.charAt(0)==="/"?"/":"";if(t[0]==="xmlns")return"";t.length===2&&(e=r+t[1])}return e}var fz=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function vz(e,t,r){if(!this.options.ignoreAttributes&&typeof e=="string"){let n=Il.getAllMatches(e,fz),o=n.length,i={};for(let s=0;s<o;s++){let a=this.resolveNameSpace(n[s][1]),c=n[s][4],l=this.options.attributeNamePrefix+a;if(a.length)if(this.options.transformAttributeName&&(l=this.options.transformAttributeName(l)),l==="__proto__"&&(l="#__proto__"),c!==void 0){this.options.trimValues&&(c=c.trim()),c=this.replaceEntitiesValue(c);let p=this.options.attributeValueProcessor(a,c,t);p==null?i[l]=c:typeof p!=typeof c||p!==c?i[l]=p:i[l]=Al(c,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(i[l]=!0)}if(!Object.keys(i).length)return;if(this.options.attributesGroupName){let s={};return s[this.options.attributesGroupName]=i,s}return i}}var _z=function(e){e=e.replace(/\r\n?/g,`
`);let t=new Ho("!xml"),r=t,n="",o="";for(let i=0;i<e.length;i++)if(e[i]==="<")if(e[i+1]==="/"){let a=rn(e,">",i,"Closing Tag is not closed."),c=e.substring(i+2,a).trim();if(this.options.removeNSPrefix){let m=c.indexOf(":");m!==-1&&(c=c.substr(m+1))}this.options.transformTagName&&(c=this.options.transformTagName(c)),r&&(n=this.saveTextToParentTag(n,r,o));let l=o.substring(o.lastIndexOf(".")+1);if(c&&this.options.unpairedTags.indexOf(c)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${c}>`);let p=0;l&&this.options.unpairedTags.indexOf(l)!==-1?(p=o.lastIndexOf(".",o.lastIndexOf(".")-1),this.tagsNodeStack.pop()):p=o.lastIndexOf("."),o=o.substring(0,p),r=this.tagsNodeStack.pop(),n="",i=a}else if(e[i+1]==="?"){let a=bl(e,i,!1,"?>");if(!a)throw new Error("Pi Tag is not closed.");if(n=this.saveTextToParentTag(n,r,o),!(this.options.ignoreDeclaration&&a.tagName==="?xml"||this.options.ignorePiTags)){let c=new Ho(a.tagName);c.add(this.options.textNodeName,""),a.tagName!==a.tagExp&&a.attrExpPresent&&(c[":@"]=this.buildAttributesMap(a.tagExp,o,a.tagName)),this.addChild(r,c,o)}i=a.closeIndex+1}else if(e.substr(i+1,3)==="!--"){let a=rn(e,"-->",i+4,"Comment is not closed.");if(this.options.commentPropName){let c=e.substring(i+4,a-2);n=this.saveTextToParentTag(n,r,o),r.add(this.options.commentPropName,[{[this.options.textNodeName]:c}])}i=a}else if(e.substr(i+1,2)==="!D"){let a=dz(e,i);this.docTypeEntities=a.entities,i=a.i}else if(e.substr(i+1,2)==="!["){let a=rn(e,"]]>",i,"CDATA is not closed.")-2,c=e.substring(i+9,a);if(n=this.saveTextToParentTag(n,r,o),this.options.cdataPropName)r.add(this.options.cdataPropName,[{[this.options.textNodeName]:c}]);else{let l=this.parseTextData(c,r.tagname,o,!0,!1,!0);l==null&&(l=""),r.add(this.options.textNodeName,l)}i=a+2}else{let a=bl(e,i,this.options.removeNSPrefix),c=a.tagName,l=a.tagExp,p=a.attrExpPresent,m=a.closeIndex;this.options.transformTagName&&(c=this.options.transformTagName(c)),r&&n&&r.tagname!=="!xml"&&(n=this.saveTextToParentTag(n,r,o,!1));let f=r;if(f&&this.options.unpairedTags.indexOf(f.tagname)!==-1&&(r=this.tagsNodeStack.pop(),o=o.substring(0,o.lastIndexOf("."))),c!==t.tagname&&(o+=o?"."+c:c),this.isItStopNode(this.options.stopNodes,o,c)){let v="";if(l.length>0&&l.lastIndexOf("/")===l.length-1)i=a.closeIndex;else if(this.options.unpairedTags.indexOf(c)!==-1)i=a.closeIndex;else{let S=this.readStopNodeData(e,c,m+1);if(!S)throw new Error(`Unexpected end of ${c}`);i=S.i,v=S.tagContent}let g=new Ho(c);c!==l&&p&&(g[":@"]=this.buildAttributesMap(l,o,c)),v&&(v=this.parseTextData(v,c,o,!0,p,!0,!0)),o=o.substr(0,o.lastIndexOf(".")),g.add(this.options.textNodeName,v),this.addChild(r,g,o)}else{if(l.length>0&&l.lastIndexOf("/")===l.length-1){c[c.length-1]==="/"?(c=c.substr(0,c.length-1),l=c):l=l.substr(0,l.length-1),this.options.transformTagName&&(c=this.options.transformTagName(c));let v=new Ho(c);c!==l&&p&&(v[":@"]=this.buildAttributesMap(l,o,c)),this.addChild(r,v,o),o=o.substr(0,o.lastIndexOf("."))}else{let v=new Ho(c);this.tagsNodeStack.push(r),c!==l&&p&&(v[":@"]=this.buildAttributesMap(l,o,c)),this.addChild(r,v,o),r=v}n="",i=m}}else n+=e[i];return t.child};function gz(e,t,r){let n=this.options.updateTag(t.tagname,r,t[":@"]);n===!1||(typeof n=="string"&&(t.tagname=n),e.addChild(t))}var yz=function(e){if(this.options.processEntities){for(let t in this.docTypeEntities){let r=this.docTypeEntities[t];e=e.replace(r.regx,r.val)}for(let t in this.lastEntities){let r=this.lastEntities[t];e=e.replace(r.regex,r.val)}if(this.options.htmlEntities)for(let t in this.htmlEntities){let r=this.htmlEntities[t];e=e.replace(r.regex,r.val)}e=e.replace(this.ampEntity.regex,this.ampEntity.val)}return e};function hz(e,t,r,n){return e&&(n===void 0&&(n=Object.keys(t.child).length===0),e=this.parseTextData(e,t.tagname,r,!1,t[":@"]?Object.keys(t[":@"]).length!==0:!1,n),e!==void 0&&e!==""&&t.add(this.options.textNodeName,e),e=""),e}function Sz(e,t,r){let n="*."+r;for(let o in e){let i=e[o];if(n===i||t===i)return!0}return!1}function Ez(e,t,r=">"){let n,o="";for(let i=t;i<e.length;i++){let s=e[i];if(n)s===n&&(n="");else if(s==='"'||s==="'")n=s;else if(s===r[0])if(r[1]){if(e[i+1]===r[1])return{data:o,index:i}}else return{data:o,index:i};else s==="	"&&(s=" ");o+=s}}function rn(e,t,r,n){let o=e.indexOf(t,r);if(o===-1)throw new Error(n);return o+t.length-1}function bl(e,t,r,n=">"){let o=Ez(e,t+1,n);if(!o)return;let i=o.data,s=o.index,a=i.search(/\s/),c=i,l=!0;if(a!==-1&&(c=i.substr(0,a).replace(/\s\s*$/,""),i=i.substr(a+1)),r){let p=c.indexOf(":");p!==-1&&(c=c.substr(p+1),l=c!==o.data.substr(p+1))}return{tagName:c,tagExp:i,closeIndex:s,attrExpPresent:l}}function Cz(e,t,r){let n=r,o=1;for(;r<e.length;r++)if(e[r]==="<")if(e[r+1]==="/"){let i=rn(e,">",r,`${t} is not closed`);if(e.substring(r+2,i).trim()===t&&(o--,o===0))return{tagContent:e.substring(n,r),i};r=i}else if(e[r+1]==="?")r=rn(e,"?>",r+1,"StopNode is not closed.");else if(e.substr(r+1,3)==="!--")r=rn(e,"-->",r+3,"StopNode is not closed.");else if(e.substr(r+1,2)==="![")r=rn(e,"]]>",r,"StopNode is not closed.")-2;else{let i=bl(e,r,">");i&&((i&&i.tagName)===t&&i.tagExp[i.tagExp.length-1]!=="/"&&o++,r=i.closeIndex)}}function Al(e,t,r){if(t&&typeof e=="string"){let n=e.trim();return n==="true"?!0:n==="false"?!1:lz(e,r)}else return Il.isExist(e)?e:""}Gh.exports=Rl});var Vh=_(Wh=>{"use strict";function Pz(e,t){return zh(e,t)}function zh(e,t,r){let n,o={};for(let i=0;i<e.length;i++){let s=e[i],a=wz(s),c="";if(r===void 0?c=a:c=r+"."+a,a===t.textNodeName)n===void 0?n=s[a]:n+=""+s[a];else{if(a===void 0)continue;if(s[a]){let l=zh(s[a],t,c),p=Rz(l,t);s[":@"]?xz(l,s[":@"],c,t):Object.keys(l).length===1&&l[t.textNodeName]!==void 0&&!t.alwaysCreateTextNode?l=l[t.textNodeName]:Object.keys(l).length===0&&(t.alwaysCreateTextNode?l[t.textNodeName]="":l=""),o[a]!==void 0&&o.hasOwnProperty(a)?(Array.isArray(o[a])||(o[a]=[o[a]]),o[a].push(l)):t.isArray(a,c,p)?o[a]=[l]:o[a]=l}}}return typeof n=="string"?n.length>0&&(o[t.textNodeName]=n):n!==void 0&&(o[t.textNodeName]=n),o}function wz(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];if(n!==":@")return n}}function xz(e,t,r,n){if(t){let o=Object.keys(t),i=o.length;for(let s=0;s<i;s++){let a=o[s];n.isArray(a,r+"."+a,!0,!0)?e[a]=[t[a]]:e[a]=t[a]}}}function Rz(e,t){let{textNodeName:r}=t,n=Object.keys(e).length;return!!(n===0||n===1&&(e[r]||typeof e[r]=="boolean"||e[r]===0))}Wh.prettify=Pz});var Xh=_((Ice,Bh)=>{var{buildOptions:bz}=Kh(),Az=$h(),{prettify:Iz}=Vh(),Oz=Pl(),Ol=class{constructor(t){this.externalEntities={},this.options=bz(t)}parse(t,r){if(typeof t!="string")if(t.toString)t=t.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(r){r===!0&&(r={});let i=Oz.validate(t,r);if(i!==!0)throw Error(`${i.err.msg}:${i.err.line}:${i.err.col}`)}let n=new Az(this.options);n.addExternalEntities(this.externalEntities);let o=n.parseXml(t);return this.options.preserveOrder||o===void 0?o:Iz(o,this.options)}addEntity(t,r){if(r.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(t.indexOf("&")!==-1||t.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(r==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[t]=r}};Bh.exports=Ol});var eS=_((Oce,Zh)=>{var Tz=`
`;function Nz(e,t){let r="";return t.format&&t.indentBy.length>0&&(r=Tz),Yh(e,t,"",r)}function Yh(e,t,r,n){let o="",i=!1;for(let s=0;s<e.length;s++){let a=e[s],c=Dz(a),l="";if(r.length===0?l=c:l=`${r}.${c}`,c===t.textNodeName){let g=a[c];kz(l,t)||(g=t.tagValueProcessor(c,g),g=Qh(g,t)),i&&(o+=n),o+=g,i=!1;continue}else if(c===t.cdataPropName){i&&(o+=n),o+=`<![CDATA[${a[c][0][t.textNodeName]}]]>`,i=!1;continue}else if(c===t.commentPropName){o+=n+`<!--${a[c][0][t.textNodeName]}-->`,i=!0;continue}else if(c[0]==="?"){let g=Jh(a[":@"],t),S=c==="?xml"?"":n,P=a[c][0][t.textNodeName];P=P.length!==0?" "+P:"",o+=S+`<${c}${P}${g}?>`,i=!0;continue}let p=n;p!==""&&(p+=t.indentBy);let m=Jh(a[":@"],t),f=n+`<${c}${m}`,v=Yh(a[c],t,l,p);t.unpairedTags.indexOf(c)!==-1?t.suppressUnpairedNode?o+=f+">":o+=f+"/>":(!v||v.length===0)&&t.suppressEmptyNode?o+=f+"/>":v&&v.endsWith(">")?o+=f+`>${v}${n}</${c}>`:(o+=f+">",v&&n!==""&&(v.includes("/>")||v.includes("</"))?o+=n+t.indentBy+v+n:o+=v,o+=`</${c}>`),i=!0}return o}function Dz(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];if(n!==":@")return n}}function Jh(e,t){let r="";if(e&&!t.ignoreAttributes)for(let n in e){let o=t.attributeValueProcessor(n,e[n]);o=Qh(o,t),o===!0&&t.suppressBooleanAttributes?r+=` ${n.substr(t.attributeNamePrefix.length)}`:r+=` ${n.substr(t.attributeNamePrefix.length)}="${o}"`}return r}function kz(e,t){e=e.substr(0,e.length-t.textNodeName.length-1);let r=e.substr(e.lastIndexOf(".")+1);for(let n in t.stopNodes)if(t.stopNodes[n]===e||t.stopNodes[n]==="*."+r)return!0;return!1}function Qh(e,t){if(e&&e.length>0&&t.processEntities)for(let r=0;r<t.entities.length;r++){let n=t.entities[r];e=e.replace(n.regex,n.val)}return e}Zh.exports=Nz});var rS=_((Tce,tS)=>{"use strict";var Mz=eS(),Kz={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function yr(e){this.options=Object.assign({},Kz,e),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=Uz),this.processTextOrObjNode=Fz,this.options.format?(this.indentate=Lz,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}yr.prototype.build=function(e){return this.options.preserveOrder?Mz(e,this.options):(Array.isArray(e)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(e={[this.options.arrayNodeName]:e}),this.j2x(e,0).val)};yr.prototype.j2x=function(e,t){let r="",n="";for(let o in e)if(!(typeof e[o]>"u"))if(e[o]===null)o[0]==="?"?n+=this.indentate(t)+"<"+o+"?"+this.tagEndChar:n+=this.indentate(t)+"<"+o+"/"+this.tagEndChar;else if(e[o]instanceof Date)n+=this.buildTextValNode(e[o],o,"",t);else if(typeof e[o]!="object"){let i=this.isAttribute(o);if(i)r+=this.buildAttrPairStr(i,""+e[o]);else if(o===this.options.textNodeName){let s=this.options.tagValueProcessor(o,""+e[o]);n+=this.replaceEntitiesValue(s)}else n+=this.buildTextValNode(e[o],o,"",t)}else if(Array.isArray(e[o])){let i=e[o].length,s="";for(let a=0;a<i;a++){let c=e[o][a];typeof c>"u"||(c===null?o[0]==="?"?n+=this.indentate(t)+"<"+o+"?"+this.tagEndChar:n+=this.indentate(t)+"<"+o+"/"+this.tagEndChar:typeof c=="object"?this.options.oneListGroup?s+=this.j2x(c,t+1).val:s+=this.processTextOrObjNode(c,o,t):s+=this.buildTextValNode(c,o,"",t))}this.options.oneListGroup&&(s=this.buildObjectNode(s,o,"",t)),n+=s}else if(this.options.attributesGroupName&&o===this.options.attributesGroupName){let i=Object.keys(e[o]),s=i.length;for(let a=0;a<s;a++)r+=this.buildAttrPairStr(i[a],""+e[o][i[a]])}else n+=this.processTextOrObjNode(e[o],o,t);return{attrStr:r,val:n}};yr.prototype.buildAttrPairStr=function(e,t){return t=this.options.attributeValueProcessor(e,""+t),t=this.replaceEntitiesValue(t),this.options.suppressBooleanAttributes&&t==="true"?" "+e:" "+e+'="'+t+'"'};function Fz(e,t,r){let n=this.j2x(e,r+1);return e[this.options.textNodeName]!==void 0&&Object.keys(e).length===1?this.buildTextValNode(e[this.options.textNodeName],t,n.attrStr,r):this.buildObjectNode(n.val,t,n.attrStr,r)}yr.prototype.buildObjectNode=function(e,t,r,n){if(e==="")return t[0]==="?"?this.indentate(n)+"<"+t+r+"?"+this.tagEndChar:this.indentate(n)+"<"+t+r+this.closeTag(t)+this.tagEndChar;{let o="</"+t+this.tagEndChar,i="";return t[0]==="?"&&(i="?",o=""),r&&e.indexOf("<")===-1?this.indentate(n)+"<"+t+r+i+">"+e+o:this.options.commentPropName!==!1&&t===this.options.commentPropName&&i.length===0?this.indentate(n)+`<!--${e}-->`+this.newLine:this.indentate(n)+"<"+t+r+i+this.tagEndChar+e+this.indentate(n)+o}};yr.prototype.closeTag=function(e){let t="";return this.options.unpairedTags.indexOf(e)!==-1?this.options.suppressUnpairedNode||(t="/"):this.options.suppressEmptyNode?t="/":t=`></${e}`,t};yr.prototype.buildTextValNode=function(e,t,r,n){if(this.options.cdataPropName!==!1&&t===this.options.cdataPropName)return this.indentate(n)+`<![CDATA[${e}]]>`+this.newLine;if(this.options.commentPropName!==!1&&t===this.options.commentPropName)return this.indentate(n)+`<!--${e}-->`+this.newLine;if(t[0]==="?")return this.indentate(n)+"<"+t+r+"?"+this.tagEndChar;{let o=this.options.tagValueProcessor(t,e);return o=this.replaceEntitiesValue(o),o===""?this.indentate(n)+"<"+t+r+this.closeTag(t)+this.tagEndChar:this.indentate(n)+"<"+t+r+">"+o+"</"+t+this.tagEndChar}};yr.prototype.replaceEntitiesValue=function(e){if(e&&e.length>0&&this.options.processEntities)for(let t=0;t<this.options.entities.length;t++){let r=this.options.entities[t];e=e.replace(r.regex,r.val)}return e};function Lz(e){return this.options.indentBy.repeat(e)}function Uz(e){return e.startsWith(this.options.attributeNamePrefix)?e.substr(this.attrPrefixLen):!1}tS.exports=yr});var Tl=_((Nce,nS)=>{"use strict";var qz=Pl(),jz=Xh(),Hz=rS();nS.exports={XMLParser:jz,XMLValidator:qz,XMLBuilder:Hz}});var He=_((kce,gS)=>{"use strict";var Gs=Object.defineProperty,Gz=Object.getOwnPropertyDescriptor,$z=Object.getOwnPropertyNames,zz=Object.prototype.hasOwnProperty,Z=(e,t)=>Gs(e,"name",{value:t,configurable:!0}),Wz=(e,t)=>{for(var r in t)Gs(e,r,{get:t[r],enumerable:!0})},Vz=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of $z(t))!zz.call(e,o)&&o!==r&&Gs(e,o,{get:()=>t[o],enumerable:!(n=Gz(t,o))||n.enumerable});return e},Bz=e=>Vz(Gs({},"__esModule",{value:!0}),e),cS={};Wz(cS,{AWSSDKSigV4Signer:()=>Qz,AwsSdkSigV4Signer:()=>pS,_toBool:()=>tW,_toNum:()=>rW,_toStr:()=>eW,awsExpectUnion:()=>nW,emitWarningIfUnsupportedVersion:()=>Xz,loadRestJsonErrorCode:()=>iW,loadRestXmlErrorCode:()=>cW,parseJsonBody:()=>vS,parseJsonErrorBody:()=>oW,parseXmlBody:()=>_S,parseXmlErrorBody:()=>aW,resolveAWSSDKSigV4Config:()=>Zz,resolveAwsSdkSigV4Config:()=>mS});gS.exports=Bz(cS);var oS=!1,Xz=Z(e=>{e&&!oS&&parseInt(e.substring(1,e.indexOf(".")))<16&&(oS=!0)},"emitWarningIfUnsupportedVersion"),dS=ae(),iS=Z(e=>{var t,r;return dS.HttpResponse.isInstance(e)?((t=e.headers)==null?void 0:t.date)??((r=e.headers)==null?void 0:r.Date):void 0},"getDateHeader"),lS=Z(e=>new Date(Date.now()+e),"getSkewCorrectedDate"),Jz=Z((e,t)=>Math.abs(lS(t).getTime()-e)>=3e5,"isClockSkewed"),sS=Z((e,t)=>{let r=Date.parse(e);return Jz(r,t)?r-Date.now():t},"getUpdatedSystemClockOffset"),Go=Z((e,t)=>{if(!t)throw new Error(`Property \`${e}\` is not resolved for AWS SDK SigV4Auth`);return t},"throwSigningPropertyError"),Yz=Z(async e=>{var t,r,n;let o=Go("context",e.context),i=Go("config",e.config),s=(n=(r=(t=o.endpointV2)==null?void 0:t.properties)==null?void 0:r.authSchemes)==null?void 0:n[0],c=await Go("signer",i.signer)(s),l=e?.signingRegion,p=e?.signingName;return{config:i,signer:c,signingRegion:l,signingName:p}},"validateSigningProperties"),uS=class{async sign(t,r,n){if(!dS.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let{config:o,signer:i,signingRegion:s,signingName:a}=await Yz(n);return await i.sign(t,{signingDate:lS(o.systemClockOffset),signingRegion:s,signingService:a})}errorHandler(t){return r=>{let n=r.ServerTime??iS(r.$response);if(n){let o=Go("config",t.config),i=o.systemClockOffset;o.systemClockOffset=sS(n,o.systemClockOffset),o.systemClockOffset!==i&&r.$metadata&&(r.$metadata.clockSkewCorrected=!0)}throw r}}successHandler(t,r){let n=iS(t);if(n){let o=Go("config",r.config);o.systemClockOffset=sS(n,o.systemClockOffset)}}};Z(uS,"AwsSdkSigV4Signer");var pS=uS,Qz=pS,nn=Pe(),aS=El(),mS=Z(e=>{let t;e.credentials&&(t=(0,nn.memoizeIdentityProvider)(e.credentials,nn.isIdentityExpired,nn.doesIdentityRequireRefresh)),t||(e.credentialDefaultProvider?t=(0,nn.normalizeProvider)(e.credentialDefaultProvider(Object.assign({},e,{parentClientConfig:e}))):t=Z(async()=>{throw new Error("`credentials` is missing")},"normalizedCreds"));let{signingEscapePath:r=!0,systemClockOffset:n=e.systemClockOffset||0,sha256:o}=e,i;return e.signer?i=(0,nn.normalizeProvider)(e.signer):e.regionInfoProvider?i=Z(()=>(0,nn.normalizeProvider)(e.region)().then(async s=>[await e.regionInfoProvider(s,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},s]).then(([s,a])=>{let{signingRegion:c,signingService:l}=s;e.signingRegion=e.signingRegion||c||a,e.signingName=e.signingName||l||e.serviceId;let p={...e,credentials:t,region:e.signingRegion,service:e.signingName,sha256:o,uriEscapePath:r},m=e.signerConstructor||aS.SignatureV4;return new m(p)}),"signer"):i=Z(async s=>{s=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await(0,nn.normalizeProvider)(e.region)(),properties:{}},s);let a=s.signingRegion,c=s.signingName;e.signingRegion=e.signingRegion||a,e.signingName=e.signingName||c||e.serviceId;let l={...e,credentials:t,region:e.signingRegion,service:e.signingName,sha256:o,uriEscapePath:r},p=e.signerConstructor||aS.SignatureV4;return new p(l)},"signer"),{...e,systemClockOffset:n,signingEscapePath:r,credentials:t,signer:i}},"resolveAwsSdkSigV4Config"),Zz=mS,eW=Z(e=>{if(e==null)return e;if(typeof e=="number"||typeof e=="bigint"){let t=new Error(`Received number ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}if(typeof e=="boolean"){let t=new Error(`Received boolean ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}return e},"_toStr"),tW=Z(e=>{if(e==null)return e;if(typeof e=="string"){let t=e.toLowerCase();if(e!==""&&t!=="false"&&t!=="true"){let r=new Error(`Received string "${e}" where a boolean was expected.`);r.name="Warning",console.warn(r)}return e!==""&&t!=="false"}return e},"_toBool"),rW=Z(e=>{if(e==null)return e;if(typeof e=="string"){let t=Number(e);if(t.toString()!==e){let r=new Error(`Received string "${e}" where a number was expected.`);return r.name="Warning",console.warn(r),e}return t}return e},"_toNum"),Nl=z(),nW=Z(e=>{if(e!=null)return typeof e=="object"&&"__type"in e&&delete e.__type,(0,Nl.expectUnion)(e)},"awsExpectUnion"),fS=Z((e,t)=>(0,Nl.collectBody)(e,t).then(r=>t.utf8Encoder(r)),"collectBodyString"),vS=Z((e,t)=>fS(e,t).then(r=>{if(r.length)try{return JSON.parse(r)}catch(n){throw n?.name==="SyntaxError"&&Object.defineProperty(n,"$responseBodyText",{value:r}),n}return{}}),"parseJsonBody"),oW=Z(async(e,t)=>{let r=await vS(e,t);return r.message=r.message??r.Message,r},"parseJsonErrorBody"),iW=Z((e,t)=>{let r=Z((i,s)=>Object.keys(i).find(a=>a.toLowerCase()===s.toLowerCase()),"findKey"),n=Z(i=>{let s=i;return typeof s=="number"&&(s=s.toString()),s.indexOf(",")>=0&&(s=s.split(",")[0]),s.indexOf(":")>=0&&(s=s.split(":")[0]),s.indexOf("#")>=0&&(s=s.split("#")[1]),s},"sanitizeErrorCode"),o=r(e.headers,"x-amzn-errortype");if(o!==void 0)return n(e.headers[o]);if(t.code!==void 0)return n(t.code);if(t.__type!==void 0)return n(t.__type)},"loadRestJsonErrorCode"),sW=Tl(),_S=Z((e,t)=>fS(e,t).then(r=>{if(r.length){let n=new sW.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(c,l)=>l.trim()===""&&l.includes(`
`)?"":void 0});n.addEntity("#xD","\r"),n.addEntity("#10",`
`);let o;try{o=n.parse(r,!0)}catch(c){throw c&&typeof c=="object"&&Object.defineProperty(c,"$responseBodyText",{value:r}),c}let i="#text",s=Object.keys(o)[0],a=o[s];return a[i]&&(a[s]=a[i],delete a[i]),(0,Nl.getValueFromTextNode)(a)}return{}}),"parseXmlBody"),aW=Z(async(e,t)=>{let r=await _S(e,t);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},"parseXmlErrorBody"),cW=Z((e,t)=>{var r;if(((r=t?.Error)==null?void 0:r.Code)!==void 0)return t.Error.Code;if(t?.Code!==void 0)return t.Code;if(e.statusCode==404)return"NotFound"},"loadRestXmlErrorCode")});var Dl=_(hr=>{"use strict";Object.defineProperty(hr,"__esModule",{value:!0});hr.resolveHttpAuthSchemeConfig=hr.defaultKMSHttpAuthSchemeProvider=hr.defaultKMSHttpAuthSchemeParametersProvider=void 0;var dW=He(),yS=Ve(),lW=async(e,t,r)=>({operation:(0,yS.getSmithyContext)(t).operation,region:await(0,yS.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});hr.defaultKMSHttpAuthSchemeParametersProvider=lW;function uW(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"kms",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}var pW=e=>{let t=[];switch(e.operation){default:t.push(uW(e))}return t};hr.defaultKMSHttpAuthSchemeProvider=pW;var mW=e=>({...(0,dW.resolveAwsSdkSigV4Config)(e)});hr.resolveHttpAuthSchemeConfig=mW});var Vt={};nd(Vt,{__addDisposableResource:()=>US,__assign:()=>$s,__asyncDelegator:()=>TS,__asyncGenerator:()=>OS,__asyncValues:()=>NS,__await:()=>Pn,__awaiter:()=>wS,__classPrivateFieldGet:()=>KS,__classPrivateFieldIn:()=>LS,__classPrivateFieldSet:()=>FS,__createBinding:()=>Ws,__decorate:()=>ES,__disposeResources:()=>qS,__esDecorate:()=>fW,__exportStar:()=>RS,__extends:()=>hS,__generator:()=>xS,__importDefault:()=>MS,__importStar:()=>kS,__makeTemplateObject:()=>DS,__metadata:()=>PS,__param:()=>CS,__propKey:()=>_W,__read:()=>Ml,__rest:()=>SS,__runInitializers:()=>vW,__setFunctionName:()=>gW,__spread:()=>bS,__spreadArray:()=>IS,__spreadArrays:()=>AS,__values:()=>zs,default:()=>SW});function hS(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");kl(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function SS(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r}function ES(e,t,r,n){var o=arguments.length,i=o<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(i=(o<3?s(i):o>3?s(t,r,i):s(t,r))||i);return o>3&&i&&Object.defineProperty(t,r,i),i}function CS(e,t){return function(r,n){t(r,n,e)}}function fW(e,t,r,n,o,i){function s(x){if(x!==void 0&&typeof x!="function")throw new TypeError("Function expected");return x}for(var a=n.kind,c=a==="getter"?"get":a==="setter"?"set":"value",l=!t&&e?n.static?e:e.prototype:null,p=t||(l?Object.getOwnPropertyDescriptor(l,n.name):{}),m,f=!1,v=r.length-1;v>=0;v--){var g={};for(var S in n)g[S]=S==="access"?{}:n[S];for(var S in n.access)g.access[S]=n.access[S];g.addInitializer=function(x){if(f)throw new TypeError("Cannot add initializers after decoration has completed");i.push(s(x||null))};var P=(0,r[v])(a==="accessor"?{get:p.get,set:p.set}:p[c],g);if(a==="accessor"){if(P===void 0)continue;if(P===null||typeof P!="object")throw new TypeError("Object expected");(m=s(P.get))&&(p.get=m),(m=s(P.set))&&(p.set=m),(m=s(P.init))&&o.unshift(m)}else(m=s(P))&&(a==="field"?o.unshift(m):p[c]=m)}l&&Object.defineProperty(l,n.name,p),f=!0}function vW(e,t,r){for(var n=arguments.length>2,o=0;o<t.length;o++)r=n?t[o].call(e,r):t[o].call(e);return n?r:void 0}function _W(e){return typeof e=="symbol"?e:"".concat(e)}function gW(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function PS(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function wS(e,t,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(p){try{l(n.next(p))}catch(m){s(m)}}function c(p){try{l(n.throw(p))}catch(m){s(m)}}function l(p){p.done?i(p.value):o(p.value).then(a,c)}l((n=n.apply(e,t||[])).next())})}function xS(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(p){return c([l,p])}}function c(l){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,l[0]&&(r=0)),r;)try{if(n=1,o&&(i=l[0]&2?o.return:l[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,l[1])).done)return i;switch(o=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,o=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){r.label=l[1];break}if(l[0]===6&&r.label<i[1]){r.label=i[1],i=l;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(l);break}i[2]&&r.ops.pop(),r.trys.pop();continue}l=t.call(e,r)}catch(p){l=[6,p],o=0}finally{n=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function RS(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Ws(t,e,r)}function zs(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ml(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,i=[],s;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(a){s={error:a}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return i}function bS(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Ml(arguments[t]));return e}function AS(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),o=0,t=0;t<r;t++)for(var i=arguments[t],s=0,a=i.length;s<a;s++,o++)n[o]=i[s];return n}function IS(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,i;n<o;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function Pn(e){return this instanceof Pn?(this.v=e,this):new Pn(e)}function OS(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),o,i=[];return o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o;function s(f){n[f]&&(o[f]=function(v){return new Promise(function(g,S){i.push([f,v,g,S])>1||a(f,v)})})}function a(f,v){try{c(n[f](v))}catch(g){m(i[0][3],g)}}function c(f){f.value instanceof Pn?Promise.resolve(f.value.v).then(l,p):m(i[0][2],f)}function l(f){a("next",f)}function p(f){a("throw",f)}function m(f,v){f(v),i.shift(),i.length&&a(i[0][0],i[0][1])}}function TS(e){var t,r;return t={},n("next"),n("throw",function(o){throw o}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(o,i){t[o]=e[o]?function(s){return(r=!r)?{value:Pn(e[o](s)),done:!1}:i?i(s):s}:i}}function NS(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof zs=="function"?zs(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(s){return new Promise(function(a,c){s=e[i](s),o(a,c,s.done,s.value)})}}function o(i,s,a,c){Promise.resolve(c).then(function(l){i({value:l,done:a})},s)}}function DS(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function kS(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Ws(t,e,r);return yW(t,e),t}function MS(e){return e&&e.__esModule?e:{default:e}}function KS(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function FS(e,t,r,n,o){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?o.call(e,r):o?o.value=r:t.set(e,r),r}function LS(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function US(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose]}if(typeof n!="function")throw new TypeError("Object not disposable.");e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}function qS(e){function t(n){e.error=e.hasError?new hW(n,e.error,"An error was suppressed during disposal."):n,e.hasError=!0}function r(){for(;e.stack.length;){var n=e.stack.pop();try{var o=n.dispose&&n.dispose.call(n.value);if(n.async)return Promise.resolve(o).then(r,function(i){return t(i),r()})}catch(i){t(i)}}if(e.hasError)throw e.error}return r()}var kl,$s,Ws,yW,hW,SW,Bt=_e(()=>{kl=function(e,t){return kl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])},kl(e,t)};$s=function(){return $s=Object.assign||function(t){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},$s.apply(this,arguments)};Ws=Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};yW=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};hW=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};SW={__extends:hS,__assign:$s,__rest:SS,__decorate:ES,__param:CS,__metadata:PS,__awaiter:wS,__generator:xS,__createBinding:Ws,__exportStar:RS,__values:zs,__read:Ml,__spread:bS,__spreadArrays:AS,__spreadArray:IS,__await:Pn,__asyncGenerator:OS,__asyncDelegator:TS,__asyncValues:NS,__makeTemplateObject:DS,__importStar:kS,__importDefault:MS,__classPrivateFieldGet:KS,__classPrivateFieldSet:FS,__classPrivateFieldIn:LS,__addDisposableResource:US,__disposeResources:qS}});var jS=_((Kce,EW)=>{EW.exports={name:"@aws-sdk/client-kms",description:"AWS SDK for JavaScript Kms Client for Node.js, Browser and React Native",version:"3.572.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-kms","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo kms"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/client-sso-oidc":"3.572.0","@aws-sdk/client-sts":"3.572.0","@aws-sdk/core":"3.572.0","@aws-sdk/credential-provider-node":"3.572.0","@aws-sdk/middleware-host-header":"3.567.0","@aws-sdk/middleware-logger":"3.568.0","@aws-sdk/middleware-recursion-detection":"3.567.0","@aws-sdk/middleware-user-agent":"3.572.0","@aws-sdk/region-config-resolver":"3.572.0","@aws-sdk/types":"3.567.0","@aws-sdk/util-endpoints":"3.572.0","@aws-sdk/util-user-agent-browser":"3.567.0","@aws-sdk/util-user-agent-node":"3.568.0","@smithy/config-resolver":"^2.2.0","@smithy/core":"^1.4.2","@smithy/fetch-http-handler":"^2.5.0","@smithy/hash-node":"^2.2.0","@smithy/invalid-dependency":"^2.2.0","@smithy/middleware-content-length":"^2.2.0","@smithy/middleware-endpoint":"^2.5.1","@smithy/middleware-retry":"^2.3.1","@smithy/middleware-serde":"^2.3.0","@smithy/middleware-stack":"^2.2.0","@smithy/node-config-provider":"^2.3.0","@smithy/node-http-handler":"^2.5.0","@smithy/protocol-http":"^3.3.0","@smithy/smithy-client":"^2.5.1","@smithy/types":"^2.12.0","@smithy/url-parser":"^2.2.0","@smithy/util-base64":"^2.3.0","@smithy/util-body-length-browser":"^2.2.0","@smithy/util-body-length-node":"^2.3.0","@smithy/util-defaults-mode-browser":"^2.2.1","@smithy/util-defaults-mode-node":"^2.3.1","@smithy/util-endpoints":"^1.2.0","@smithy/util-middleware":"^2.2.0","@smithy/util-retry":"^2.2.0","@smithy/util-utf8":"^2.3.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node16":"16.1.3","@types/node":"^16.18.96",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~4.9.5"},engines:{node:">=16.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-kms",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-kms"}}});var Kl=_((Fce,BS)=>{var Vs=Object.defineProperty,CW=Object.getOwnPropertyDescriptor,PW=Object.getOwnPropertyNames,wW=Object.prototype.hasOwnProperty,xW=(e,t)=>Vs(e,"name",{value:t,configurable:!0}),RW=(e,t)=>{for(var r in t)Vs(e,r,{get:t[r],enumerable:!0})},bW=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of PW(t))!wW.call(e,o)&&o!==r&&Vs(e,o,{get:()=>t[o],enumerable:!(n=CW(t,o))||n.enumerable});return e},AW=e=>bW(Vs({},"__esModule",{value:!0}),e),HS={};RW(HS,{ENV_CREDENTIAL_SCOPE:()=>VS,ENV_EXPIRATION:()=>WS,ENV_KEY:()=>GS,ENV_SECRET:()=>$S,ENV_SESSION:()=>zS,fromEnv:()=>OW});BS.exports=AW(HS);var IW=te(),GS="AWS_ACCESS_KEY_ID",$S="AWS_SECRET_ACCESS_KEY",zS="AWS_SESSION_TOKEN",WS="AWS_CREDENTIAL_EXPIRATION",VS="AWS_CREDENTIAL_SCOPE",OW=xW(e=>async()=>{var t;(t=e?.logger)==null||t.debug("@aws-sdk/credential-provider-env","fromEnv");let r=process.env[GS],n=process.env[$S],o=process.env[zS],i=process.env[WS],s=process.env[VS];if(r&&n)return{accessKeyId:r,secretAccessKey:n,...o&&{sessionToken:o},...i&&{expiration:new Date(i)},...s&&{credentialScope:s}};throw new IW.CredentialsProviderError("Unable to find environment variable credentials.")},"fromEnv")});var Sr=_((Lce,dE)=>{var Js=Object.defineProperty,TW=Object.getOwnPropertyDescriptor,NW=Object.getOwnPropertyNames,DW=Object.prototype.hasOwnProperty,fe=(e,t)=>Js(e,"name",{value:t,configurable:!0}),kW=(e,t)=>{for(var r in t)Js(e,r,{get:t[r],enumerable:!0})},MW=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of NW(t))!DW.call(e,o)&&o!==r&&Js(e,o,{get:()=>t[o],enumerable:!(n=TW(t,o))||n.enumerable});return e},KW=e=>MW(Js({},"__esModule",{value:!0}),e),QS={};kW(QS,{DEFAULT_MAX_RETRIES:()=>rE,DEFAULT_TIMEOUT:()=>tE,ENV_CMDS_AUTH_TOKEN:()=>Ul,ENV_CMDS_FULL_URI:()=>Bs,ENV_CMDS_RELATIVE_URI:()=>Xs,Endpoint:()=>iE,fromContainerMetadata:()=>qW,fromInstanceMetadata:()=>aV,getInstanceMetadataEndpoint:()=>aE,httpRequest:()=>wn,providerConfigFromInit:()=>ql});dE.exports=KW(QS);var FW=require("url"),Tt=te(),LW=require("buffer"),UW=require("http");function wn(e){return new Promise((t,r)=>{var n;let o=(0,UW.request)({method:"GET",...e,hostname:(n=e.hostname)==null?void 0:n.replace(/^\[(.+)\]$/,"$1")});o.on("error",i=>{r(Object.assign(new Tt.ProviderError("Unable to connect to instance metadata service"),i)),o.destroy()}),o.on("timeout",()=>{r(new Tt.ProviderError("TimeoutError from instance metadata service")),o.destroy()}),o.on("response",i=>{let{statusCode:s=400}=i;(s<200||300<=s)&&(r(Object.assign(new Tt.ProviderError("Error response received from instance metadata service"),{statusCode:s})),o.destroy());let a=[];i.on("data",c=>{a.push(c)}),i.on("end",()=>{t(LW.Buffer.concat(a)),o.destroy()})}),o.end()})}fe(wn,"httpRequest");var ZS=fe(e=>!!e&&typeof e=="object"&&typeof e.AccessKeyId=="string"&&typeof e.SecretAccessKey=="string"&&typeof e.Token=="string"&&typeof e.Expiration=="string","isImdsCredentials"),eE=fe(e=>({accessKeyId:e.AccessKeyId,secretAccessKey:e.SecretAccessKey,sessionToken:e.Token,expiration:new Date(e.Expiration)}),"fromImdsCredentials"),tE=1e3,rE=0,ql=fe(({maxRetries:e=rE,timeout:t=tE})=>({maxRetries:e,timeout:t}),"providerConfigFromInit"),Ll=fe((e,t)=>{let r=e();for(let n=0;n<t;n++)r=r.catch(e);return r},"retry"),Bs="AWS_CONTAINER_CREDENTIALS_FULL_URI",Xs="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",Ul="AWS_CONTAINER_AUTHORIZATION_TOKEN",qW=fe((e={})=>{let{timeout:t,maxRetries:r}=ql(e);return()=>Ll(async()=>{let n=await zW(),o=JSON.parse(await jW(t,n));if(!ZS(o))throw new Tt.CredentialsProviderError("Invalid response received from instance metadata service.");return eE(o)},r)},"fromContainerMetadata"),jW=fe(async(e,t)=>(process.env[Ul]&&(t.headers={...t.headers,Authorization:process.env[Ul]}),(await wn({...t,timeout:e})).toString()),"requestFromEcsImds"),HW="169.254.170.2",GW={localhost:!0,"127.0.0.1":!0},$W={"http:":!0,"https:":!0},zW=fe(async()=>{if(process.env[Xs])return{hostname:HW,path:process.env[Xs]};if(process.env[Bs]){let e=(0,FW.parse)(process.env[Bs]);if(!e.hostname||!(e.hostname in GW))throw new Tt.CredentialsProviderError(`${e.hostname} is not a valid container metadata service hostname`,!1);if(!e.protocol||!(e.protocol in $W))throw new Tt.CredentialsProviderError(`${e.protocol} is not a valid container metadata service protocol`,!1);return{...e,port:e.port?parseInt(e.port,10):void 0}}throw new Tt.CredentialsProviderError(`The container metadata credential provider cannot be used unless the ${Xs} or ${Bs} environment variable is set`,!1)},"getCmdsUri"),nE=class oE extends Tt.CredentialsProviderError{constructor(t,r=!0){super(t,r),this.tryNextLink=r,this.name="InstanceMetadataV1FallbackError",Object.setPrototypeOf(this,oE.prototype)}};fe(nE,"InstanceMetadataV1FallbackError");var WW=nE,jl=Xe(),VW=$t(),iE=(e=>(e.IPv4="http://169.254.169.254",e.IPv6="http://[fd00:ec2::254]",e))(iE||{}),BW="AWS_EC2_METADATA_SERVICE_ENDPOINT",XW="ec2_metadata_service_endpoint",JW={environmentVariableSelector:e=>e[BW],configFileSelector:e=>e[XW],default:void 0},sE=(e=>(e.IPv4="IPv4",e.IPv6="IPv6",e))(sE||{}),YW="AWS_EC2_METADATA_SERVICE_ENDPOINT_MODE",QW="ec2_metadata_service_endpoint_mode",ZW={environmentVariableSelector:e=>e[YW],configFileSelector:e=>e[QW],default:"IPv4"},aE=fe(async()=>(0,VW.parseUrl)(await eV()||await tV()),"getInstanceMetadataEndpoint"),eV=fe(async()=>(0,jl.loadConfig)(JW)(),"getFromEndpointConfig"),tV=fe(async()=>{let e=await(0,jl.loadConfig)(ZW)();switch(e){case"IPv4":return"http://169.254.169.254";case"IPv6":return"http://[fd00:ec2::254]";default:throw new Error(`Unsupported endpoint mode: ${e}. Select from ${Object.values(sE)}`)}},"getFromEndpointModeConfig"),rV=5*60,nV=5*60,oV="https://docs.aws.amazon.com/sdkref/latest/guide/feature-static-credentials.html",XS=fe((e,t)=>{let r=rV+Math.floor(Math.random()*nV),n=new Date(Date.now()+r*1e3);t.warn(`Attempting credential expiration extension due to a credential service availability issue. A refresh of these credentials will be attempted after ${new Date(n)}.
For more information, please visit: `+oV);let o=e.originalExpiration??e.expiration;return{...e,...o?{originalExpiration:o}:{},expiration:n}},"getExtendedInstanceMetadataCredentials"),iV=fe((e,t={})=>{let r=t?.logger||console,n;return async()=>{let o;try{o=await e(),o.expiration&&o.expiration.getTime()<Date.now()&&(o=XS(o,r))}catch(i){if(n)r.warn("Credential renew failed: ",i),o=XS(n,r);else throw i}return n=o,o}},"staticStabilityProvider"),cE="/latest/meta-data/iam/security-credentials/",sV="/latest/api/token",Fl="AWS_EC2_METADATA_V1_DISABLED",JS="ec2_metadata_v1_disabled",YS="x-aws-ec2-metadata-token",aV=fe((e={})=>iV(cV(e),{logger:e.logger}),"fromInstanceMetadata"),cV=fe(e=>{let t=!1,{logger:r,profile:n}=e,{timeout:o,maxRetries:i}=ql(e),s=fe(async(a,c)=>{var l;if(t||((l=c.headers)==null?void 0:l[YS])==null){let f=!1,v=!1,g=await(0,jl.loadConfig)({environmentVariableSelector:S=>{let P=S[Fl];if(v=!!P&&P!=="false",P===void 0)throw new Tt.CredentialsProviderError(`${Fl} not set in env, checking config file next.`);return v},configFileSelector:S=>{let P=S[JS];return f=!!P&&P!=="false",f},default:!1},{profile:n})();if(e.ec2MetadataV1Disabled||g){let S=[];throw e.ec2MetadataV1Disabled&&S.push("credential provider initialization (runtime option ec2MetadataV1Disabled)"),f&&S.push(`config file profile (${JS})`),v&&S.push(`process environment variable (${Fl})`),new WW(`AWS EC2 Metadata v1 fallback has been blocked by AWS SDK configuration in the following: [${S.join(", ")}].`)}}let m=(await Ll(async()=>{let f;try{f=await lV(c)}catch(v){throw v.statusCode===401&&(t=!1),v}return f},a)).trim();return Ll(async()=>{let f;try{f=await uV(m,c)}catch(v){throw v.statusCode===401&&(t=!1),v}return f},a)},"getCredentials");return async()=>{let a=await aE();if(t)return r?.debug("AWS SDK Instance Metadata","using v1 fallback (no token fetch)"),s(i,{...a,timeout:o});{let c;try{c=(await dV({...a,timeout:o})).toString()}catch(l){if(l?.statusCode===400)throw Object.assign(l,{message:"EC2 Metadata token request returned error"});return(l.message==="TimeoutError"||[403,404,405].includes(l.statusCode))&&(t=!0),r?.debug("AWS SDK Instance Metadata","using v1 fallback (initial)"),s(i,{...a,timeout:o})}return s(i,{...a,headers:{[YS]:c},timeout:o})}}},"getInstanceImdsProvider"),dV=fe(async e=>wn({...e,path:sV,method:"PUT",headers:{"x-aws-ec2-metadata-token-ttl-seconds":"21600"}}),"getMetadataToken"),lV=fe(async e=>(await wn({...e,path:cE})).toString(),"getProfile"),uV=fe(async(e,t)=>{let r=JSON.parse((await wn({...t,path:cE+e})).toString());if(!ZS(r))throw new Tt.CredentialsProviderError("Invalid response received from instance metadata service.");return eE(r)},"getCredentialsFromProfile")});var lE=_(Ys=>{"use strict";Object.defineProperty(Ys,"__esModule",{value:!0});Ys.checkUrl=void 0;var pV=te(),mV="169.254.170.2",fV="169.254.170.23",vV="[fd00:ec2::23]",_V=e=>{if(e.protocol!=="https:"&&!(e.hostname===mV||e.hostname===fV||e.hostname===vV)){if(e.hostname.includes("[")){if(e.hostname==="[::1]"||e.hostname==="[0000:0000:0000:0000:0000:0000:0000:0001]")return}else{if(e.hostname==="localhost")return;let t=e.hostname.split("."),r=n=>{let o=parseInt(n,10);return 0<=o&&o<=255};if(t[0]==="127"&&r(t[1])&&r(t[2])&&r(t[3])&&t.length===4)return}throw new pV.CredentialsProviderError(`URL not accepted. It must either be HTTPS or match one of the following:
  - loopback CIDR 127.0.0.0/8 or [::1/128]
  - ECS container host 169.254.170.2
  - EKS container host 169.254.170.23 or [fd00:ec2::23]`)}};Ys.checkUrl=_V});var uE=_(xn=>{"use strict";Object.defineProperty(xn,"__esModule",{value:!0});xn.getCredentials=xn.createGetRequest=void 0;var Hl=te(),gV=ae(),yV=z(),hV=xs();function SV(e){return new gV.HttpRequest({protocol:e.protocol,hostname:e.hostname,port:Number(e.port),path:e.pathname,query:Array.from(e.searchParams.entries()).reduce((t,[r,n])=>(t[r]=n,t),{}),fragment:e.hash})}xn.createGetRequest=SV;async function EV(e){var t,r;let n=(r=(t=e?.headers["content-type"])!==null&&t!==void 0?t:e?.headers["Content-Type"])!==null&&r!==void 0?r:"";n.includes("json")||console.warn("HTTP credential provider response header content-type was not application/json. Observed: "+n+".");let i=await(0,hV.sdkStreamMixin)(e.body).transformToString();if(e.statusCode===200){let s=JSON.parse(i);if(typeof s.AccessKeyId!="string"||typeof s.SecretAccessKey!="string"||typeof s.Token!="string"||typeof s.Expiration!="string")throw new Hl.CredentialsProviderError("HTTP credential provider response not of the required format, an object matching: { AccessKeyId: string, SecretAccessKey: string, Token: string, Expiration: string(rfc3339) }");return{accessKeyId:s.AccessKeyId,secretAccessKey:s.SecretAccessKey,sessionToken:s.Token,expiration:(0,yV.parseRfc3339DateTime)(s.Expiration)}}if(e.statusCode>=400&&e.statusCode<500){let s={};try{s=JSON.parse(i)}catch{}throw Object.assign(new Hl.CredentialsProviderError(`Server responded with status: ${e.statusCode}`),{Code:s.Code,Message:s.Message})}throw new Hl.CredentialsProviderError(`Server responded with status: ${e.statusCode}`)}xn.getCredentials=EV});var pE=_(Qs=>{"use strict";Object.defineProperty(Qs,"__esModule",{value:!0});Qs.retryWrapper=void 0;var CV=(e,t,r)=>async()=>{for(let n=0;n<t;++n)try{return await e()}catch{await new Promise(i=>setTimeout(i,r))}return await e()};Qs.retryWrapper=CV});var vE=_(Zs=>{"use strict";Object.defineProperty(Zs,"__esModule",{value:!0});Zs.fromHttp=void 0;var PV=(Bt(),bt(Vt)),wV=It(),mE=te(),xV=PV.__importDefault(require("fs/promises")),RV=lE(),fE=uE(),bV=pE(),AV="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",IV="http://169.254.170.2",OV="AWS_CONTAINER_CREDENTIALS_FULL_URI",TV="AWS_CONTAINER_AUTHORIZATION_TOKEN_FILE",NV="AWS_CONTAINER_AUTHORIZATION_TOKEN",DV=e=>{var t,r,n,o,i,s,a,c,l;(t=e.logger)===null||t===void 0||t.debug("@aws-sdk/credential-provider-http","fromHttp");let p,m=(r=e.awsContainerCredentialsRelativeUri)!==null&&r!==void 0?r:process.env[AV],f=(n=e.awsContainerCredentialsFullUri)!==null&&n!==void 0?n:process.env[OV],v=(o=e.awsContainerAuthorizationToken)!==null&&o!==void 0?o:process.env[NV],g=(i=e.awsContainerAuthorizationTokenFile)!==null&&i!==void 0?i:process.env[TV];if(m&&f&&(console.warn("AWS SDK HTTP credentials provider:","you have set both awsContainerCredentialsRelativeUri and awsContainerCredentialsFullUri."),console.warn("awsContainerCredentialsFullUri will take precedence.")),v&&g&&(console.warn("AWS SDK HTTP credentials provider:","you have set both awsContainerAuthorizationToken and awsContainerAuthorizationTokenFile."),console.warn("awsContainerAuthorizationToken will take precedence.")),f)p=f;else if(m)p=`${IV}${m}`;else throw new mE.CredentialsProviderError(`No HTTP credential provider host provided.
Set AWS_CONTAINER_CREDENTIALS_FULL_URI or AWS_CONTAINER_CREDENTIALS_RELATIVE_URI.`);let S=new URL(p);(0,RV.checkUrl)(S);let P=new wV.NodeHttpHandler({requestTimeout:(s=e.timeout)!==null&&s!==void 0?s:1e3,connectionTimeout:(a=e.timeout)!==null&&a!==void 0?a:1e3});return(0,bV.retryWrapper)(async()=>{let x=(0,fE.createGetRequest)(S);v?x.headers.Authorization=v:g&&(x.headers.Authorization=(await xV.default.readFile(g)).toString());try{let R=await P.handle(x);return(0,fE.getCredentials)(R.response)}catch(R){throw new mE.CredentialsProviderError(String(R))}},(c=e.maxRetries)!==null&&c!==void 0?c:3,(l=e.timeout)!==null&&l!==void 0?l:1e3)};Zs.fromHttp=DV});var _E=_(ea=>{"use strict";Object.defineProperty(ea,"__esModule",{value:!0});ea.fromHttp=void 0;var kV=vE();Object.defineProperty(ea,"fromHttp",{enumerable:!0,get:function(){return kV.fromHttp}})});var Gl=_(Er=>{"use strict";Object.defineProperty(Er,"__esModule",{value:!0});Er.resolveHttpAuthSchemeConfig=Er.defaultSSOHttpAuthSchemeProvider=Er.defaultSSOHttpAuthSchemeParametersProvider=void 0;var MV=He(),gE=Ve(),KV=async(e,t,r)=>({operation:(0,gE.getSmithyContext)(t).operation,region:await(0,gE.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});Er.defaultSSOHttpAuthSchemeParametersProvider=KV;function FV(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"awsssoportal",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function ta(e){return{schemeId:"smithy.api#noAuth"}}var LV=e=>{let t=[];switch(e.operation){case"GetRoleCredentials":{t.push(ta(e));break}case"ListAccountRoles":{t.push(ta(e));break}case"ListAccounts":{t.push(ta(e));break}case"Logout":{t.push(ta(e));break}default:t.push(FV(e))}return t};Er.defaultSSOHttpAuthSchemeProvider=LV;var UV=e=>({...(0,MV.resolveAwsSdkSigV4Config)(e)});Er.resolveHttpAuthSchemeConfig=UV});var yE=_((zce,qV)=>{qV.exports={name:"@aws-sdk/client-sso",description:"AWS SDK for JavaScript Sso Client for Node.js, Browser and React Native",version:"3.572.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-sso","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sso"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/core":"3.572.0","@aws-sdk/middleware-host-header":"3.567.0","@aws-sdk/middleware-logger":"3.568.0","@aws-sdk/middleware-recursion-detection":"3.567.0","@aws-sdk/middleware-user-agent":"3.572.0","@aws-sdk/region-config-resolver":"3.572.0","@aws-sdk/types":"3.567.0","@aws-sdk/util-endpoints":"3.572.0","@aws-sdk/util-user-agent-browser":"3.567.0","@aws-sdk/util-user-agent-node":"3.568.0","@smithy/config-resolver":"^2.2.0","@smithy/core":"^1.4.2","@smithy/fetch-http-handler":"^2.5.0","@smithy/hash-node":"^2.2.0","@smithy/invalid-dependency":"^2.2.0","@smithy/middleware-content-length":"^2.2.0","@smithy/middleware-endpoint":"^2.5.1","@smithy/middleware-retry":"^2.3.1","@smithy/middleware-serde":"^2.3.0","@smithy/middleware-stack":"^2.2.0","@smithy/node-config-provider":"^2.3.0","@smithy/node-http-handler":"^2.5.0","@smithy/protocol-http":"^3.3.0","@smithy/smithy-client":"^2.5.1","@smithy/types":"^2.12.0","@smithy/url-parser":"^2.2.0","@smithy/util-base64":"^2.3.0","@smithy/util-body-length-browser":"^2.2.0","@smithy/util-body-length-node":"^2.3.0","@smithy/util-defaults-mode-browser":"^2.2.1","@smithy/util-defaults-mode-node":"^2.3.1","@smithy/util-endpoints":"^1.2.0","@smithy/util-middleware":"^2.2.0","@smithy/util-retry":"^2.2.0","@smithy/util-utf8":"^2.3.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node16":"16.1.3","@types/node":"^16.18.96",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~4.9.5"},engines:{node:">=16.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso"}}});var na=_((Wce,xE)=>{var ra=Object.defineProperty,jV=Object.getOwnPropertyDescriptor,HV=Object.getOwnPropertyNames,GV=Object.prototype.hasOwnProperty,SE=(e,t)=>ra(e,"name",{value:t,configurable:!0}),$V=(e,t)=>{for(var r in t)ra(e,r,{get:t[r],enumerable:!0})},zV=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of HV(t))!GV.call(e,o)&&o!==r&&ra(e,o,{get:()=>t[o],enumerable:!(n=jV(t,o))||n.enumerable});return e},WV=e=>zV(ra({},"__esModule",{value:!0}),e),EE={};$V(EE,{UA_APP_ID_ENV_NAME:()=>PE,UA_APP_ID_INI_NAME:()=>wE,crtAvailability:()=>CE,defaultUserAgent:()=>XV});xE.exports=WV(EE);var VV=Xe(),hE=require("os"),$l=require("process"),CE={isCrtAvailable:!1},BV=SE(()=>CE.isCrtAvailable?["md/crt-avail"]:null,"isCrtAvailable"),PE="AWS_SDK_UA_APP_ID",wE="sdk-ua-app-id",XV=SE(({serviceId:e,clientVersion:t})=>{let r=[["aws-sdk-js",t],["ua","2.0"],[`os/${(0,hE.platform)()}`,(0,hE.release)()],["lang/js"],["md/nodejs",`${$l.versions.node}`]],n=BV();n&&r.push(n),e&&r.push([`api/${e}`,t]),$l.env.AWS_EXECUTION_ENV&&r.push([`exec-env/${$l.env.AWS_EXECUTION_ENV}`]);let o=(0,VV.loadConfig)({environmentVariableSelector:s=>s[PE],configFileSelector:s=>s[wE],default:void 0})(),i;return async()=>{if(!i){let s=await o;i=s?[...r,[`app/${s}`]]:[...r]}return i}},"defaultUserAgent")});var on=_((Bce,OE)=>{var oa=Object.defineProperty,JV=Object.getOwnPropertyDescriptor,YV=Object.getOwnPropertyNames,QV=Object.prototype.hasOwnProperty,bE=(e,t)=>oa(e,"name",{value:t,configurable:!0}),ZV=(e,t)=>{for(var r in t)oa(e,r,{get:t[r],enumerable:!0})},eB=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of YV(t))!QV.call(e,o)&&o!==r&&oa(e,o,{get:()=>t[o],enumerable:!(n=JV(t,o))||n.enumerable});return e},tB=e=>eB(oa({},"__esModule",{value:!0}),e),AE={};ZV(AE,{Hash:()=>oB});OE.exports=tB(AE);var zl=gn(),rB=Fe(),nB=require("buffer"),RE=require("crypto"),IE=class{constructor(t,r){this.algorithmIdentifier=t,this.secret=r,this.reset()}update(t,r){this.hash.update((0,rB.toUint8Array)(Wl(t,r)))}digest(){return Promise.resolve(this.hash.digest())}reset(){this.hash=this.secret?(0,RE.createHmac)(this.algorithmIdentifier,Wl(this.secret)):(0,RE.createHash)(this.algorithmIdentifier)}};bE(IE,"Hash");var oB=IE;function Wl(e,t){return nB.Buffer.isBuffer(e)?e:typeof e=="string"?(0,zl.fromString)(e,t):ArrayBuffer.isView(e)?(0,zl.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength):(0,zl.fromArrayBuffer)(e)}bE(Wl,"castSourceData")});var sn=_((Xce,DE)=>{var ia=Object.defineProperty,iB=Object.getOwnPropertyDescriptor,sB=Object.getOwnPropertyNames,aB=Object.prototype.hasOwnProperty,cB=(e,t)=>ia(e,"name",{value:t,configurable:!0}),dB=(e,t)=>{for(var r in t)ia(e,r,{get:t[r],enumerable:!0})},lB=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of sB(t))!aB.call(e,o)&&o!==r&&ia(e,o,{get:()=>t[o],enumerable:!(n=iB(t,o))||n.enumerable});return e},uB=e=>lB(ia({},"__esModule",{value:!0}),e),NE={};dB(NE,{calculateBodyLength:()=>pB});DE.exports=uB(NE);var TE=require("fs"),pB=cB(e=>{if(!e)return 0;if(typeof e=="string")return Buffer.byteLength(e);if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size;if(typeof e.start=="number"&&typeof e.end=="number")return e.end+1-e.start;if(typeof e.path=="string"||Buffer.isBuffer(e.path))return(0,TE.lstatSync)(e.path).size;if(typeof e.fd=="number")return(0,TE.fstatSync)(e.fd).size;throw new Error(`Body Length computation failed for ${e}`)},"calculateBodyLength")});var BE=_(sa=>{"use strict";Object.defineProperty(sa,"__esModule",{value:!0});sa.ruleSet=void 0;var $E="required",Qe="fn",Ze="argv",An="ref",kE=!0,ME="isSet",$o="booleanEquals",Rn="error",bn="endpoint",Xt="tree",Vl="PartitionResult",Bl="getAttr",KE={[$E]:!1,type:"String"},FE={[$E]:!0,default:!1,type:"Boolean"},LE={[An]:"Endpoint"},zE={[Qe]:$o,[Ze]:[{[An]:"UseFIPS"},!0]},WE={[Qe]:$o,[Ze]:[{[An]:"UseDualStack"},!0]},Ye={},UE={[Qe]:Bl,[Ze]:[{[An]:Vl},"supportsFIPS"]},VE={[An]:Vl},qE={[Qe]:$o,[Ze]:[!0,{[Qe]:Bl,[Ze]:[VE,"supportsDualStack"]}]},jE=[zE],HE=[WE],GE=[{[An]:"Region"}],mB={version:"1.0",parameters:{Region:KE,UseDualStack:FE,UseFIPS:FE,Endpoint:KE},rules:[{conditions:[{[Qe]:ME,[Ze]:[LE]}],rules:[{conditions:jE,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Rn},{conditions:HE,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Rn},{endpoint:{url:LE,properties:Ye,headers:Ye},type:bn}],type:Xt},{conditions:[{[Qe]:ME,[Ze]:GE}],rules:[{conditions:[{[Qe]:"aws.partition",[Ze]:GE,assign:Vl}],rules:[{conditions:[zE,WE],rules:[{conditions:[{[Qe]:$o,[Ze]:[kE,UE]},qE],rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Ye,headers:Ye},type:bn}],type:Xt},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Rn}],type:Xt},{conditions:jE,rules:[{conditions:[{[Qe]:$o,[Ze]:[UE,kE]}],rules:[{conditions:[{[Qe]:"stringEquals",[Ze]:[{[Qe]:Bl,[Ze]:[VE,"name"]},"aws-us-gov"]}],endpoint:{url:"https://portal.sso.{Region}.amazonaws.com",properties:Ye,headers:Ye},type:bn},{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Ye,headers:Ye},type:bn}],type:Xt},{error:"FIPS is enabled but this partition does not support FIPS",type:Rn}],type:Xt},{conditions:HE,rules:[{conditions:[qE],rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Ye,headers:Ye},type:bn}],type:Xt},{error:"DualStack is enabled but this partition does not support DualStack",type:Rn}],type:Xt},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:Ye,headers:Ye},type:bn}],type:Xt}],type:Xt},{error:"Invalid Configuration: Missing Region",type:Rn}]};sa.ruleSet=mB});var JE=_(aa=>{"use strict";Object.defineProperty(aa,"__esModule",{value:!0});aa.defaultEndpointResolver=void 0;var fB=Po(),XE=Gt(),vB=BE(),_B=(e,t={})=>(0,XE.resolveEndpoint)(vB.ruleSet,{endpointParams:e,logger:t.logger});aa.defaultEndpointResolver=_B;XE.customEndpointFunctions.aws=fB.awsEndpointFunctions});var ZE=_(ca=>{"use strict";Object.defineProperty(ca,"__esModule",{value:!0});ca.getRuntimeConfig=void 0;var gB=He(),yB=Pe(),hB=z(),SB=$t(),YE=vr(),QE=Fe(),EB=Gl(),CB=JE(),PB=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??YE.fromBase64,base64Encoder:e?.base64Encoder??YE.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??CB.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??EB.defaultSSOHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new gB.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new yB.NoAuthSigner}],logger:e?.logger??new hB.NoOpLogger,serviceId:e?.serviceId??"SSO",urlParser:e?.urlParser??SB.parseUrl,utf8Decoder:e?.utf8Decoder??QE.fromUtf8,utf8Encoder:e?.utf8Encoder??QE.toUtf8});ca.getRuntimeConfig=PB});var an=_((Zce,iC)=>{var wB=Object.create,zo=Object.defineProperty,xB=Object.getOwnPropertyDescriptor,RB=Object.getOwnPropertyNames,bB=Object.getPrototypeOf,AB=Object.prototype.hasOwnProperty,Xl=(e,t)=>zo(e,"name",{value:t,configurable:!0}),IB=(e,t)=>{for(var r in t)zo(e,r,{get:t[r],enumerable:!0})},nC=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of RB(t))!AB.call(e,o)&&o!==r&&zo(e,o,{get:()=>t[o],enumerable:!(n=xB(t,o))||n.enumerable});return e},OB=(e,t,r)=>(r=e!=null?wB(bB(e)):{},nC(t||!e||!e.__esModule?zo(r,"default",{value:e,enumerable:!0}):r,e)),TB=e=>nC(zo({},"__esModule",{value:!0}),e),oC={};IB(oC,{resolveDefaultsModeConfig:()=>jB});iC.exports=TB(oC);var NB=Ke(),eC=Xe(),DB=te(),kB="AWS_EXECUTION_ENV",tC="AWS_REGION",rC="AWS_DEFAULT_REGION",MB="AWS_EC2_METADATA_DISABLED",KB=["in-region","cross-region","mobile","standard","legacy"],FB="/latest/meta-data/placement/region",LB="AWS_DEFAULTS_MODE",UB="defaults_mode",qB={environmentVariableSelector:e=>e[LB],configFileSelector:e=>e[UB],default:"legacy"},jB=Xl(({region:e=(0,eC.loadConfig)(NB.NODE_REGION_CONFIG_OPTIONS),defaultsMode:t=(0,eC.loadConfig)(qB)}={})=>(0,DB.memoize)(async()=>{let r=typeof t=="function"?await t():t;switch(r?.toLowerCase()){case"auto":return HB(e);case"in-region":case"cross-region":case"mobile":case"standard":case"legacy":return Promise.resolve(r?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${KB.join(", ")}, got ${r}`)}}),"resolveDefaultsModeConfig"),HB=Xl(async e=>{if(e){let t=typeof e=="function"?await e():e,r=await GB();return r?t===r?"in-region":"cross-region":"standard"}return"standard"},"resolveNodeDefaultsModeAuto"),GB=Xl(async()=>{if(process.env[kB]&&(process.env[tC]||process.env[rC]))return process.env[tC]??process.env[rC];if(!process.env[MB])try{let{getInstanceMetadataEndpoint:e,httpRequest:t}=await Promise.resolve().then(()=>OB(Sr())),r=await e();return(await t({...r,path:FB})).toString()}catch{}},"inferPhysicalRegion")});var cC=_(la=>{"use strict";Object.defineProperty(la,"__esModule",{value:!0});la.getRuntimeConfig=void 0;var $B=(Bt(),bt(Vt)),zB=$B.__importDefault(yE()),WB=He(),VB=na(),da=Ke(),BB=on(),sC=Le(),Wo=Xe(),aC=It(),XB=sn(),JB=mr(),YB=ZE(),QB=z(),ZB=an(),e3=z(),t3=e=>{(0,e3.emitWarningIfUnsupportedVersion)(process.version);let t=(0,ZB.resolveDefaultsModeConfig)(e),r=()=>t().then(QB.loadConfigsForDefaultMode),n=(0,YB.getRuntimeConfig)(e);return(0,WB.emitWarningIfUnsupportedVersion)(process.version),{...n,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??XB.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,VB.defaultUserAgent)({serviceId:n.serviceId,clientVersion:zB.default.version}),maxAttempts:e?.maxAttempts??(0,Wo.loadConfig)(sC.NODE_MAX_ATTEMPT_CONFIG_OPTIONS),region:e?.region??(0,Wo.loadConfig)(da.NODE_REGION_CONFIG_OPTIONS,da.NODE_REGION_CONFIG_FILE_OPTIONS),requestHandler:aC.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,Wo.loadConfig)({...sC.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||JB.DEFAULT_RETRY_MODE}),sha256:e?.sha256??BB.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??aC.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,Wo.loadConfig)(da.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS),useFipsEndpoint:e?.useFipsEndpoint??(0,Wo.loadConfig)(da.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS)}};la.getRuntimeConfig=t3});var pa=_((tde,fC)=>{"use strict";var ua=Object.defineProperty,r3=Object.getOwnPropertyDescriptor,n3=Object.getOwnPropertyNames,o3=Object.prototype.hasOwnProperty,In=(e,t)=>ua(e,"name",{value:t,configurable:!0}),i3=(e,t)=>{for(var r in t)ua(e,r,{get:t[r],enumerable:!0})},s3=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of n3(t))!o3.call(e,o)&&o!==r&&ua(e,o,{get:()=>t[o],enumerable:!(n=r3(t,o))||n.enumerable});return e},a3=e=>s3(ua({},"__esModule",{value:!0}),e),lC={};i3(lC,{NODE_REGION_CONFIG_FILE_OPTIONS:()=>u3,NODE_REGION_CONFIG_OPTIONS:()=>l3,REGION_ENV_NAME:()=>uC,REGION_INI_NAME:()=>pC,getAwsRegionExtensionConfiguration:()=>c3,resolveAwsRegionExtensionConfiguration:()=>d3,resolveRegionConfig:()=>p3});fC.exports=a3(lC);var c3=In(e=>{let t=In(async()=>{if(e.region===void 0)throw new Error("Region is missing from runtimeConfig");let r=e.region;return typeof r=="string"?r:r()},"runtimeConfigRegion");return{setRegion(r){t=r},region(){return t}}},"getAwsRegionExtensionConfiguration"),d3=In(e=>({region:e.region()}),"resolveAwsRegionExtensionConfiguration"),uC="AWS_REGION",pC="region",l3={environmentVariableSelector:e=>e[uC],configFileSelector:e=>e[pC],default:()=>{throw new Error("Region is missing")}},u3={preferredFile:"credentials"},mC=In(e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),"isFipsRegion"),dC=In(e=>mC(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,"getRealRegion"),p3=In(e=>{let{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return{...e,region:async()=>{if(typeof t=="string")return dC(t);let n=await t();return dC(n)},useFipsEndpoint:async()=>{let n=typeof t=="string"?t:await t();return mC(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()}}},"resolveRegionConfig")});var oP=_((dde,nP)=>{"use strict";var fa=Object.defineProperty,m3=Object.getOwnPropertyDescriptor,f3=Object.getOwnPropertyNames,v3=Object.prototype.hasOwnProperty,G=(e,t)=>fa(e,"name",{value:t,configurable:!0}),_3=(e,t)=>{for(var r in t)fa(e,r,{get:t[r],enumerable:!0})},g3=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of f3(t))!v3.call(e,o)&&o!==r&&fa(e,o,{get:()=>t[o],enumerable:!(n=m3(t,o))||n.enumerable});return e},y3=e=>g3(fa({},"__esModule",{value:!0}),e),EC={};_3(EC,{GetRoleCredentialsCommand:()=>JC,GetRoleCredentialsRequestFilterSensitiveLog:()=>FC,GetRoleCredentialsResponseFilterSensitiveLog:()=>UC,InvalidRequestException:()=>bC,ListAccountRolesCommand:()=>Jl,ListAccountRolesRequestFilterSensitiveLog:()=>qC,ListAccountsCommand:()=>Yl,ListAccountsRequestFilterSensitiveLog:()=>jC,LogoutCommand:()=>eP,LogoutRequestFilterSensitiveLog:()=>HC,ResourceNotFoundException:()=>OC,RoleCredentialsFilterSensitiveLog:()=>LC,SSO:()=>rP,SSOClient:()=>_a,SSOServiceException:()=>On,TooManyRequestsException:()=>DC,UnauthorizedException:()=>KC,__Client:()=>b.Client,paginateListAccountRoles:()=>$3,paginateListAccounts:()=>z3});nP.exports=y3(EC);var vC=Ii(),h3=Ti(),S3=Di(),_C=Ui(),E3=Ke(),Jt=Pe(),C3=tn(),Bo=At(),gC=Le(),yC=Gl(),P3=G(e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"}),"resolveClientEndpointParameters"),va={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},w3=cC(),hC=pa(),SC=ae(),b=z(),x3=G(e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(o){let i=t.findIndex(s=>s.schemeId===o.schemeId);i===-1?t.push(o):t.splice(i,1,o)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}},"getHttpAuthExtensionConfiguration"),R3=G(e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),"resolveHttpAuthRuntimeConfig"),ma=G(e=>e,"asPartial"),b3=G((e,t)=>{let r={...ma((0,hC.getAwsRegionExtensionConfiguration)(e)),...ma((0,b.getDefaultExtensionConfiguration)(e)),...ma((0,SC.getHttpHandlerExtensionConfiguration)(e)),...ma(x3(e))};return t.forEach(n=>n.configure(r)),{...e,...(0,hC.resolveAwsRegionExtensionConfiguration)(r),...(0,b.resolveDefaultRuntimeConfig)(r),...(0,SC.resolveHttpHandlerRuntimeConfig)(r),...R3(r)}},"resolveRuntimeExtensions"),CC=class extends b.Client{constructor(...[t]){let r=(0,w3.getRuntimeConfig)(t||{}),n=P3(r),o=(0,E3.resolveRegionConfig)(n),i=(0,Bo.resolveEndpointConfig)(o),s=(0,gC.resolveRetryConfig)(i),a=(0,vC.resolveHostHeaderConfig)(s),c=(0,_C.resolveUserAgentConfig)(a),l=(0,yC.resolveHttpAuthSchemeConfig)(c),p=b3(l,t?.extensions||[]);super(p),this.config=p,this.middlewareStack.use((0,gC.getRetryPlugin)(this.config)),this.middlewareStack.use((0,C3.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,vC.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,h3.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,S3.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,_C.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,Jt.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:this.getDefaultHttpAuthSchemeParametersProvider(),identityProviderConfigProvider:this.getIdentityProviderConfigProvider()})),this.middlewareStack.use((0,Jt.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}getDefaultHttpAuthSchemeParametersProvider(){return yC.defaultSSOHttpAuthSchemeParametersProvider}getIdentityProviderConfigProvider(){return async t=>new Jt.DefaultIdentityProviderConfig({"aws.auth#sigv4":t.credentials})}};G(CC,"SSOClient");var _a=CC,ga=zt(),nde=qe(),PC=class wC extends b.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,wC.prototype)}};G(PC,"SSOServiceException");var On=PC,xC=class RC extends On{constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),this.name="InvalidRequestException",this.$fault="client",Object.setPrototypeOf(this,RC.prototype)}};G(xC,"InvalidRequestException");var bC=xC,AC=class IC extends On{constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),this.name="ResourceNotFoundException",this.$fault="client",Object.setPrototypeOf(this,IC.prototype)}};G(AC,"ResourceNotFoundException");var OC=AC,TC=class NC extends On{constructor(t){super({name:"TooManyRequestsException",$fault:"client",...t}),this.name="TooManyRequestsException",this.$fault="client",Object.setPrototypeOf(this,NC.prototype)}};G(TC,"TooManyRequestsException");var DC=TC,kC=class MC extends On{constructor(t){super({name:"UnauthorizedException",$fault:"client",...t}),this.name="UnauthorizedException",this.$fault="client",Object.setPrototypeOf(this,MC.prototype)}};G(kC,"UnauthorizedException");var KC=kC,FC=G(e=>({...e,...e.accessToken&&{accessToken:b.SENSITIVE_STRING}}),"GetRoleCredentialsRequestFilterSensitiveLog"),LC=G(e=>({...e,...e.secretAccessKey&&{secretAccessKey:b.SENSITIVE_STRING},...e.sessionToken&&{sessionToken:b.SENSITIVE_STRING}}),"RoleCredentialsFilterSensitiveLog"),UC=G(e=>({...e,...e.roleCredentials&&{roleCredentials:LC(e.roleCredentials)}}),"GetRoleCredentialsResponseFilterSensitiveLog"),qC=G(e=>({...e,...e.accessToken&&{accessToken:b.SENSITIVE_STRING}}),"ListAccountRolesRequestFilterSensitiveLog"),jC=G(e=>({...e,...e.accessToken&&{accessToken:b.SENSITIVE_STRING}}),"ListAccountsRequestFilterSensitiveLog"),HC=G(e=>({...e,...e.accessToken&&{accessToken:b.SENSITIVE_STRING}}),"LogoutRequestFilterSensitiveLog"),Vo=He(),A3=G(async(e,t)=>{let r=(0,Jt.requestBuilder)(e,t),n=(0,b.map)({},ha,{[Ea]:e[Sa]});r.bp("/federation/credentials");let o=(0,b.map)({[H3]:[,(0,b.expectNonNull)(e[j3],"roleName")],[$C]:[,(0,b.expectNonNull)(e[GC],"accountId")]});return r.m("GET").h(n).q(o).b(void 0),r.build()},"se_GetRoleCredentialsCommand"),I3=G(async(e,t)=>{let r=(0,Jt.requestBuilder)(e,t),n=(0,b.map)({},ha,{[Ea]:e[Sa]});r.bp("/assignment/roles");let o=(0,b.map)({[BC]:[,e[VC]],[WC]:[()=>e.maxResults!==void 0,()=>e[zC].toString()],[$C]:[,(0,b.expectNonNull)(e[GC],"accountId")]});return r.m("GET").h(n).q(o).b(void 0),r.build()},"se_ListAccountRolesCommand"),O3=G(async(e,t)=>{let r=(0,Jt.requestBuilder)(e,t),n=(0,b.map)({},ha,{[Ea]:e[Sa]});r.bp("/assignment/accounts");let o=(0,b.map)({[BC]:[,e[VC]],[WC]:[()=>e.maxResults!==void 0,()=>e[zC].toString()]});return r.m("GET").h(n).q(o).b(void 0),r.build()},"se_ListAccountsCommand"),T3=G(async(e,t)=>{let r=(0,Jt.requestBuilder)(e,t),n=(0,b.map)({},ha,{[Ea]:e[Sa]});return r.bp("/logout"),r.m("POST").h(n).b(void 0),r.build()},"se_LogoutCommand"),N3=G(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ya(e,t);let r=(0,b.map)({$metadata:Cr(e)}),n=(0,b.expectNonNull)((0,b.expectObject)(await(0,Vo.parseJsonBody)(e.body,t)),"body"),o=(0,b.take)(n,{roleCredentials:b._json});return Object.assign(r,o),r},"de_GetRoleCredentialsCommand"),D3=G(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ya(e,t);let r=(0,b.map)({$metadata:Cr(e)}),n=(0,b.expectNonNull)((0,b.expectObject)(await(0,Vo.parseJsonBody)(e.body,t)),"body"),o=(0,b.take)(n,{nextToken:b.expectString,roleList:b._json});return Object.assign(r,o),r},"de_ListAccountRolesCommand"),k3=G(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ya(e,t);let r=(0,b.map)({$metadata:Cr(e)}),n=(0,b.expectNonNull)((0,b.expectObject)(await(0,Vo.parseJsonBody)(e.body,t)),"body"),o=(0,b.take)(n,{accountList:b._json,nextToken:b.expectString});return Object.assign(r,o),r},"de_ListAccountsCommand"),M3=G(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ya(e,t);let r=(0,b.map)({$metadata:Cr(e)});return await(0,b.collectBody)(e.body,t),r},"de_LogoutCommand"),ya=G(async(e,t)=>{let r={...e,body:await(0,Vo.parseJsonErrorBody)(e.body,t)},n=(0,Vo.loadRestJsonErrorCode)(e,r.body);switch(n){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await F3(r,t);case"ResourceNotFoundException":case"com.amazonaws.sso#ResourceNotFoundException":throw await L3(r,t);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await U3(r,t);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await q3(r,t);default:let o=r.body;return K3({output:e,parsedBody:o,errorCode:n})}},"de_CommandError"),K3=(0,b.withBaseException)(On),F3=G(async(e,t)=>{let r=(0,b.map)({}),n=e.body,o=(0,b.take)(n,{message:b.expectString});Object.assign(r,o);let i=new bC({$metadata:Cr(e),...r});return(0,b.decorateServiceException)(i,e.body)},"de_InvalidRequestExceptionRes"),L3=G(async(e,t)=>{let r=(0,b.map)({}),n=e.body,o=(0,b.take)(n,{message:b.expectString});Object.assign(r,o);let i=new OC({$metadata:Cr(e),...r});return(0,b.decorateServiceException)(i,e.body)},"de_ResourceNotFoundExceptionRes"),U3=G(async(e,t)=>{let r=(0,b.map)({}),n=e.body,o=(0,b.take)(n,{message:b.expectString});Object.assign(r,o);let i=new DC({$metadata:Cr(e),...r});return(0,b.decorateServiceException)(i,e.body)},"de_TooManyRequestsExceptionRes"),q3=G(async(e,t)=>{let r=(0,b.map)({}),n=e.body,o=(0,b.take)(n,{message:b.expectString});Object.assign(r,o);let i=new KC({$metadata:Cr(e),...r});return(0,b.decorateServiceException)(i,e.body)},"de_UnauthorizedExceptionRes"),Cr=G(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),ha=G(e=>e!=null&&e!==""&&(!Object.getOwnPropertyNames(e).includes("length")||e.length!=0)&&(!Object.getOwnPropertyNames(e).includes("size")||e.size!=0),"isSerializableHeaderValue"),GC="accountId",Sa="accessToken",$C="account_id",zC="maxResults",WC="max_result",VC="nextToken",BC="next_token",j3="roleName",H3="role_name",Ea="x-amz-sso_bearer_token",XC=class extends b.Command.classBuilder().ep({...va}).m(function(t,r,n,o){return[(0,ga.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Bo.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SWBPortalService","GetRoleCredentials",{}).n("SSOClient","GetRoleCredentialsCommand").f(FC,UC).ser(A3).de(N3).build(){};G(XC,"GetRoleCredentialsCommand");var JC=XC,YC=class extends b.Command.classBuilder().ep({...va}).m(function(t,r,n,o){return[(0,ga.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Bo.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccountRoles",{}).n("SSOClient","ListAccountRolesCommand").f(qC,void 0).ser(I3).de(D3).build(){};G(YC,"ListAccountRolesCommand");var Jl=YC,QC=class extends b.Command.classBuilder().ep({...va}).m(function(t,r,n,o){return[(0,ga.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Bo.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccounts",{}).n("SSOClient","ListAccountsCommand").f(jC,void 0).ser(O3).de(k3).build(){};G(QC,"ListAccountsCommand");var Yl=QC,ZC=class extends b.Command.classBuilder().ep({...va}).m(function(t,r,n,o){return[(0,ga.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Bo.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SWBPortalService","Logout",{}).n("SSOClient","LogoutCommand").f(HC,void 0).ser(T3).de(M3).build(){};G(ZC,"LogoutCommand");var eP=ZC,G3={GetRoleCredentialsCommand:JC,ListAccountRolesCommand:Jl,ListAccountsCommand:Yl,LogoutCommand:eP},tP=class extends _a{};G(tP,"SSO");var rP=tP;(0,b.createAggregatedClient)(G3,rP);var $3=(0,Jt.createPaginator)(_a,Jl,"nextToken","nextToken","maxResults"),z3=(0,Jt.createPaginator)(_a,Yl,"nextToken","nextToken","maxResults")});var Pa=_((lde,dP)=>{var Ca=Object.defineProperty,W3=Object.getOwnPropertyDescriptor,V3=Object.getOwnPropertyNames,B3=Object.prototype.hasOwnProperty,Ql=(e,t)=>Ca(e,"name",{value:t,configurable:!0}),X3=(e,t)=>{for(var r in t)Ca(e,r,{get:t[r],enumerable:!0})},J3=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of V3(t))!B3.call(e,o)&&o!==r&&Ca(e,o,{get:()=>t[o],enumerable:!(n=W3(t,o))||n.enumerable});return e},Y3=e=>J3(Ca({},"__esModule",{value:!0}),e),iP={};X3(iP,{getHostHeaderPlugin:()=>Z3,hostHeaderMiddleware:()=>aP,hostHeaderMiddlewareOptions:()=>cP,resolveHostHeaderConfig:()=>sP});dP.exports=Y3(iP);var Q3=ae();function sP(e){return e}Ql(sP,"resolveHostHeaderConfig");var aP=Ql(e=>t=>async r=>{if(!Q3.HttpRequest.isInstance(r.request))return t(r);let{request:n}=r,{handlerProtocol:o=""}=e.requestHandler.metadata||{};if(o.indexOf("h2")>=0&&!n.headers[":authority"])delete n.headers.host,n.headers[":authority"]=n.hostname+(n.port?":"+n.port:"");else if(!n.headers.host){let i=n.hostname;n.port!=null&&(i+=`:${n.port}`),n.headers.host=i}return t(r)},"hostHeaderMiddleware"),cP={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},Z3=Ql(e=>({applyToStack:t=>{t.add(aP(e),cP)}}),"getHostHeaderPlugin")});var xa=_((ude,fP)=>{var wa=Object.defineProperty,e6=Object.getOwnPropertyDescriptor,t6=Object.getOwnPropertyNames,r6=Object.prototype.hasOwnProperty,lP=(e,t)=>wa(e,"name",{value:t,configurable:!0}),n6=(e,t)=>{for(var r in t)wa(e,r,{get:t[r],enumerable:!0})},o6=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of t6(t))!r6.call(e,o)&&o!==r&&wa(e,o,{get:()=>t[o],enumerable:!(n=e6(t,o))||n.enumerable});return e},i6=e=>o6(wa({},"__esModule",{value:!0}),e),uP={};n6(uP,{getLoggerPlugin:()=>s6,loggerMiddleware:()=>pP,loggerMiddlewareOptions:()=>mP});fP.exports=i6(uP);var pP=lP(()=>(e,t)=>async r=>{var n,o;try{let i=await e(r),{clientName:s,commandName:a,logger:c,dynamoDbDocumentClientOptions:l={}}=t,{overrideInputFilterSensitiveLog:p,overrideOutputFilterSensitiveLog:m}=l,f=p??t.inputFilterSensitiveLog,v=m??t.outputFilterSensitiveLog,{$metadata:g,...S}=i.output;return(n=c?.info)==null||n.call(c,{clientName:s,commandName:a,input:f(r.input),output:v(S),metadata:g}),i}catch(i){let{clientName:s,commandName:a,logger:c,dynamoDbDocumentClientOptions:l={}}=t,{overrideInputFilterSensitiveLog:p}=l,m=p??t.inputFilterSensitiveLog;throw(o=c?.error)==null||o.call(c,{clientName:s,commandName:a,input:m(r.input),error:i,metadata:i.$metadata}),i}},"loggerMiddleware"),mP={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},s6=lP(e=>({applyToStack:t=>{t.add(pP(),mP)}}),"getLoggerPlugin")});var ba=_((pde,hP)=>{var Ra=Object.defineProperty,a6=Object.getOwnPropertyDescriptor,c6=Object.getOwnPropertyNames,d6=Object.prototype.hasOwnProperty,Zl=(e,t)=>Ra(e,"name",{value:t,configurable:!0}),l6=(e,t)=>{for(var r in t)Ra(e,r,{get:t[r],enumerable:!0})},u6=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of c6(t))!d6.call(e,o)&&o!==r&&Ra(e,o,{get:()=>t[o],enumerable:!(n=a6(t,o))||n.enumerable});return e},p6=e=>u6(Ra({},"__esModule",{value:!0}),e),_P={};l6(_P,{addRecursionDetectionMiddlewareOptions:()=>yP,getRecursionDetectionPlugin:()=>_6,recursionDetectionMiddleware:()=>gP});hP.exports=p6(_P);var m6=ae(),vP="X-Amzn-Trace-Id",f6="AWS_LAMBDA_FUNCTION_NAME",v6="_X_AMZN_TRACE_ID",gP=Zl(e=>t=>async r=>{let{request:n}=r;if(!m6.HttpRequest.isInstance(n)||e.runtime!=="node"||n.headers.hasOwnProperty(vP))return t(r);let o=process.env[f6],i=process.env[v6],s=Zl(a=>typeof a=="string"&&a.length>0,"nonEmptyString");return s(o)&&s(i)&&(n.headers[vP]=i),t({...r,request:n})},"recursionDetectionMiddleware"),yP={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},_6=Zl(e=>({applyToStack:t=>{t.add(gP(e),yP)}}),"getRecursionDetectionPlugin")});var Xo=_((mde,AP)=>{"use strict";var Aa=Object.defineProperty,g6=Object.getOwnPropertyDescriptor,y6=Object.getOwnPropertyNames,h6=Object.prototype.hasOwnProperty,Tn=(e,t)=>Aa(e,"name",{value:t,configurable:!0}),S6=(e,t)=>{for(var r in t)Aa(e,r,{get:t[r],enumerable:!0})},E6=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of y6(t))!h6.call(e,o)&&o!==r&&Aa(e,o,{get:()=>t[o],enumerable:!(n=g6(t,o))||n.enumerable});return e},C6=e=>E6(Aa({},"__esModule",{value:!0}),e),SP={};S6(SP,{ConditionObject:()=>Q.ConditionObject,DeprecatedObject:()=>Q.DeprecatedObject,EndpointError:()=>Q.EndpointError,EndpointObject:()=>Q.EndpointObject,EndpointObjectHeaders:()=>Q.EndpointObjectHeaders,EndpointObjectProperties:()=>Q.EndpointObjectProperties,EndpointParams:()=>Q.EndpointParams,EndpointResolverOptions:()=>Q.EndpointResolverOptions,EndpointRuleObject:()=>Q.EndpointRuleObject,ErrorRuleObject:()=>Q.ErrorRuleObject,EvaluateOptions:()=>Q.EvaluateOptions,Expression:()=>Q.Expression,FunctionArgv:()=>Q.FunctionArgv,FunctionObject:()=>Q.FunctionObject,FunctionReturn:()=>Q.FunctionReturn,ParameterObject:()=>Q.ParameterObject,ReferenceObject:()=>Q.ReferenceObject,ReferenceRecord:()=>Q.ReferenceRecord,RuleSetObject:()=>Q.RuleSetObject,RuleSetRules:()=>Q.RuleSetRules,TreeRuleObject:()=>Q.TreeRuleObject,awsEndpointFunctions:()=>bP,getUserAgentPrefix:()=>x6,isIpAddress:()=>Q.isIpAddress,partition:()=>xP,resolveEndpoint:()=>Q.resolveEndpoint,setPartitionInfo:()=>RP,useDefaultPartitionInfo:()=>w6});AP.exports=C6(SP);var Q=Gt(),EP=Tn((e,t=!1)=>{if(t){for(let r of e.split("."))if(!EP(r))return!1;return!0}return!(!(0,Q.isValidHostLabel)(e)||e.length<3||e.length>63||e!==e.toLowerCase()||(0,Q.isIpAddress)(e))},"isVirtualHostableS3Bucket"),P6=Tn(e=>{let t=e.split(":");if(t.length<6)return null;let[r,n,o,i,s,...a]=t;return r!=="arn"||n===""||o===""||a[0]===""?null:{partition:n,service:o,region:i,accountId:s,resourceId:a[0].includes("/")?a[0].split("/"):a}},"parseArn"),CP={partitions:[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"aws-global":{description:"AWS Standard global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"AWS China global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"AWS GovCloud (US) global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"c2s.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"AWS ISO (US) global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"sc2s.sgov.gov",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"AWS ISOB (US) global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"cloud.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"csp.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{}}],version:"1.1"},PP=CP,wP="",xP=Tn(e=>{let{partitions:t}=PP;for(let n of t){let{regions:o,outputs:i}=n;for(let[s,a]of Object.entries(o))if(s===e)return{...i,...a}}for(let n of t){let{regionRegex:o,outputs:i}=n;if(new RegExp(o).test(e))return{...i}}let r=t.find(n=>n.id==="aws");if(!r)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...r.outputs}},"partition"),RP=Tn((e,t="")=>{PP=e,wP=t},"setPartitionInfo"),w6=Tn(()=>{RP(CP,"")},"useDefaultPartitionInfo"),x6=Tn(()=>wP,"getUserAgentPrefix"),bP={isVirtualHostableS3Bucket:EP,parseArn:P6,partition:xP};Q.customEndpointFunctions.aws=bP});var Ta=_((fde,KP)=>{"use strict";var Ia=Object.defineProperty,R6=Object.getOwnPropertyDescriptor,b6=Object.getOwnPropertyNames,A6=Object.prototype.hasOwnProperty,Oa=(e,t)=>Ia(e,"name",{value:t,configurable:!0}),I6=(e,t)=>{for(var r in t)Ia(e,r,{get:t[r],enumerable:!0})},O6=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of b6(t))!A6.call(e,o)&&o!==r&&Ia(e,o,{get:()=>t[o],enumerable:!(n=R6(t,o))||n.enumerable});return e},T6=e=>O6(Ia({},"__esModule",{value:!0}),e),NP={};I6(NP,{getUserAgentMiddlewareOptions:()=>MP,getUserAgentPlugin:()=>K6,resolveUserAgentConfig:()=>DP,userAgentMiddleware:()=>kP});KP.exports=T6(NP);function DP(e){return{...e,customUserAgent:typeof e.customUserAgent=="string"?[[e.customUserAgent]]:e.customUserAgent}}Oa(DP,"resolveUserAgentConfig");var N6=Xo(),D6=ae(),IP="user-agent",eu="x-amz-user-agent",OP=" ",tu="/",k6=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,M6=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,TP="-",kP=Oa(e=>(t,r)=>async n=>{var o,i;let{request:s}=n;if(!D6.HttpRequest.isInstance(s))return t(n);let{headers:a}=s,c=((o=r?.userAgent)==null?void 0:o.map(ru))||[],l=(await e.defaultUserAgentProvider()).map(ru),p=((i=e?.customUserAgent)==null?void 0:i.map(ru))||[],m=(0,N6.getUserAgentPrefix)(),f=(m?[m]:[]).concat([...l,...c,...p]).join(OP),v=[...l.filter(g=>g.startsWith("aws-sdk-")),...p].join(OP);return e.runtime!=="browser"?(v&&(a[eu]=a[eu]?`${a[IP]} ${v}`:v),a[IP]=f):a[eu]=f,t({...n,request:s})},"userAgentMiddleware"),ru=Oa(e=>{var t;let r=e[0].split(tu).map(a=>a.replace(k6,TP)).join(tu),n=(t=e[1])==null?void 0:t.replace(M6,TP),o=r.indexOf(tu),i=r.substring(0,o),s=r.substring(o+1);return i==="api"&&(s=s.toLowerCase()),[i,s,n].filter(a=>a&&a.length>0).reduce((a,c,l)=>{switch(l){case 0:return c;case 1:return`${a}/${c}`;default:return`${a}#${c}`}},"")},"escapeUserAgent"),MP={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},K6=Oa(e=>({applyToStack:t=>{t.add(kP(e),MP)}}),"getUserAgentPlugin")});var Ge=_((_de,JP)=>{"use strict";var Na=Object.defineProperty,F6=Object.getOwnPropertyDescriptor,L6=Object.getOwnPropertyNames,U6=Object.prototype.hasOwnProperty,ee=(e,t)=>Na(e,"name",{value:t,configurable:!0}),q6=(e,t)=>{for(var r in t)Na(e,r,{get:t[r],enumerable:!0})},j6=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of L6(t))!U6.call(e,o)&&o!==r&&Na(e,o,{get:()=>t[o],enumerable:!(n=F6(t,o))||n.enumerable});return e},H6=e=>j6(Na({},"__esModule",{value:!0}),e),jP={};q6(jP,{AWSSDKSigV4Signer:()=>W6,AwsSdkSigV4Signer:()=>zP,_toBool:()=>X6,_toNum:()=>J6,_toStr:()=>B6,awsExpectUnion:()=>Y6,emitWarningIfUnsupportedVersion:()=>G6,loadRestJsonErrorCode:()=>Z6,loadRestXmlErrorCode:()=>r4,parseJsonBody:()=>BP,parseJsonErrorBody:()=>Q6,parseXmlBody:()=>XP,parseXmlErrorBody:()=>t4,resolveAWSSDKSigV4Config:()=>V6,resolveAwsSdkSigV4Config:()=>WP});JP.exports=H6(jP);var FP=!1,G6=ee(e=>{e&&!FP&&parseInt(e.substring(1,e.indexOf(".")))<16&&(FP=!0)},"emitWarningIfUnsupportedVersion"),HP=ae(),LP=ee(e=>{var t,r;return HP.HttpResponse.isInstance(e)?((t=e.headers)==null?void 0:t.date)??((r=e.headers)==null?void 0:r.Date):void 0},"getDateHeader"),GP=ee(e=>new Date(Date.now()+e),"getSkewCorrectedDate"),$6=ee((e,t)=>Math.abs(GP(t).getTime()-e)>=3e5,"isClockSkewed"),UP=ee((e,t)=>{let r=Date.parse(e);return $6(r,t)?r-Date.now():t},"getUpdatedSystemClockOffset"),Jo=ee((e,t)=>{if(!t)throw new Error(`Property \`${e}\` is not resolved for AWS SDK SigV4Auth`);return t},"throwSigningPropertyError"),z6=ee(async e=>{var t,r,n;let o=Jo("context",e.context),i=Jo("config",e.config),s=(n=(r=(t=o.endpointV2)==null?void 0:t.properties)==null?void 0:r.authSchemes)==null?void 0:n[0],c=await Jo("signer",i.signer)(s),l=e?.signingRegion,p=e?.signingName;return{config:i,signer:c,signingRegion:l,signingName:p}},"validateSigningProperties"),$P=class{async sign(t,r,n){if(!HP.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let{config:o,signer:i,signingRegion:s,signingName:a}=await z6(n);return await i.sign(t,{signingDate:GP(o.systemClockOffset),signingRegion:s,signingService:a})}errorHandler(t){return r=>{let n=r.ServerTime??LP(r.$response);if(n){let o=Jo("config",t.config),i=o.systemClockOffset;o.systemClockOffset=UP(n,o.systemClockOffset),o.systemClockOffset!==i&&r.$metadata&&(r.$metadata.clockSkewCorrected=!0)}throw r}}successHandler(t,r){let n=LP(t);if(n){let o=Jo("config",r.config);o.systemClockOffset=UP(n,o.systemClockOffset)}}};ee($P,"AwsSdkSigV4Signer");var zP=$P,W6=zP,cn=Pe(),qP=El(),WP=ee(e=>{let t;e.credentials&&(t=(0,cn.memoizeIdentityProvider)(e.credentials,cn.isIdentityExpired,cn.doesIdentityRequireRefresh)),t||(e.credentialDefaultProvider?t=(0,cn.normalizeProvider)(e.credentialDefaultProvider(Object.assign({},e,{parentClientConfig:e}))):t=ee(async()=>{throw new Error("`credentials` is missing")},"normalizedCreds"));let{signingEscapePath:r=!0,systemClockOffset:n=e.systemClockOffset||0,sha256:o}=e,i;return e.signer?i=(0,cn.normalizeProvider)(e.signer):e.regionInfoProvider?i=ee(()=>(0,cn.normalizeProvider)(e.region)().then(async s=>[await e.regionInfoProvider(s,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},s]).then(([s,a])=>{let{signingRegion:c,signingService:l}=s;e.signingRegion=e.signingRegion||c||a,e.signingName=e.signingName||l||e.serviceId;let p={...e,credentials:t,region:e.signingRegion,service:e.signingName,sha256:o,uriEscapePath:r},m=e.signerConstructor||qP.SignatureV4;return new m(p)}),"signer"):i=ee(async s=>{s=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await(0,cn.normalizeProvider)(e.region)(),properties:{}},s);let a=s.signingRegion,c=s.signingName;e.signingRegion=e.signingRegion||a,e.signingName=e.signingName||c||e.serviceId;let l={...e,credentials:t,region:e.signingRegion,service:e.signingName,sha256:o,uriEscapePath:r},p=e.signerConstructor||qP.SignatureV4;return new p(l)},"signer"),{...e,systemClockOffset:n,signingEscapePath:r,credentials:t,signer:i}},"resolveAwsSdkSigV4Config"),V6=WP,B6=ee(e=>{if(e==null)return e;if(typeof e=="number"||typeof e=="bigint"){let t=new Error(`Received number ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}if(typeof e=="boolean"){let t=new Error(`Received boolean ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}return e},"_toStr"),X6=ee(e=>{if(e==null)return e;if(typeof e=="string"){let t=e.toLowerCase();if(e!==""&&t!=="false"&&t!=="true"){let r=new Error(`Received string "${e}" where a boolean was expected.`);r.name="Warning",console.warn(r)}return e!==""&&t!=="false"}return e},"_toBool"),J6=ee(e=>{if(e==null)return e;if(typeof e=="string"){let t=Number(e);if(t.toString()!==e){let r=new Error(`Received string "${e}" where a number was expected.`);return r.name="Warning",console.warn(r),e}return t}return e},"_toNum"),nu=z(),Y6=ee(e=>{if(e!=null)return typeof e=="object"&&"__type"in e&&delete e.__type,(0,nu.expectUnion)(e)},"awsExpectUnion"),VP=ee((e,t)=>(0,nu.collectBody)(e,t).then(r=>t.utf8Encoder(r)),"collectBodyString"),BP=ee((e,t)=>VP(e,t).then(r=>{if(r.length)try{return JSON.parse(r)}catch(n){throw n?.name==="SyntaxError"&&Object.defineProperty(n,"$responseBodyText",{value:r}),n}return{}}),"parseJsonBody"),Q6=ee(async(e,t)=>{let r=await BP(e,t);return r.message=r.message??r.Message,r},"parseJsonErrorBody"),Z6=ee((e,t)=>{let r=ee((i,s)=>Object.keys(i).find(a=>a.toLowerCase()===s.toLowerCase()),"findKey"),n=ee(i=>{let s=i;return typeof s=="number"&&(s=s.toString()),s.indexOf(",")>=0&&(s=s.split(",")[0]),s.indexOf(":")>=0&&(s=s.split(":")[0]),s.indexOf("#")>=0&&(s=s.split("#")[1]),s},"sanitizeErrorCode"),o=r(e.headers,"x-amzn-errortype");if(o!==void 0)return n(e.headers[o]);if(t.code!==void 0)return n(t.code);if(t.__type!==void 0)return n(t.__type)},"loadRestJsonErrorCode"),e4=Tl(),XP=ee((e,t)=>VP(e,t).then(r=>{if(r.length){let n=new e4.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(c,l)=>l.trim()===""&&l.includes(`
`)?"":void 0});n.addEntity("#xD","\r"),n.addEntity("#10",`
`);let o;try{o=n.parse(r,!0)}catch(c){throw c&&typeof c=="object"&&Object.defineProperty(c,"$responseBodyText",{value:r}),c}let i="#text",s=Object.keys(o)[0],a=o[s];return a[i]&&(a[s]=a[i],delete a[i]),(0,nu.getValueFromTextNode)(a)}return{}}),"parseXmlBody"),t4=ee(async(e,t)=>{let r=await XP(e,t);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},"parseXmlErrorBody"),r4=ee((e,t)=>{var r;if(((r=t?.Error)==null?void 0:r.Code)!==void 0)return t.Error.Code;if(t?.Code!==void 0)return t.Code;if(e.statusCode==404)return"NotFound"},"loadRestXmlErrorCode")});var iu=_(Pr=>{"use strict";Object.defineProperty(Pr,"__esModule",{value:!0});Pr.resolveHttpAuthSchemeConfig=Pr.defaultSSOOIDCHttpAuthSchemeProvider=Pr.defaultSSOOIDCHttpAuthSchemeParametersProvider=void 0;var n4=Ge(),YP=Ve(),o4=async(e,t,r)=>({operation:(0,YP.getSmithyContext)(t).operation,region:await(0,YP.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});Pr.defaultSSOOIDCHttpAuthSchemeParametersProvider=o4;function i4(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sso-oauth",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function ou(e){return{schemeId:"smithy.api#noAuth"}}var s4=e=>{let t=[];switch(e.operation){case"CreateToken":{t.push(ou(e));break}case"RegisterClient":{t.push(ou(e));break}case"StartDeviceAuthorization":{t.push(ou(e));break}default:t.push(i4(e))}return t};Pr.defaultSSOOIDCHttpAuthSchemeProvider=s4;var a4=e=>({...(0,n4.resolveAwsSdkSigV4Config)(e)});Pr.resolveHttpAuthSchemeConfig=a4});var QP=_((yde,c4)=>{c4.exports={name:"@aws-sdk/client-sso-oidc",description:"AWS SDK for JavaScript Sso Oidc Client for Node.js, Browser and React Native",version:"3.572.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-sso-oidc","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sso-oidc"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/client-sts":"3.572.0","@aws-sdk/core":"3.572.0","@aws-sdk/credential-provider-node":"3.572.0","@aws-sdk/middleware-host-header":"3.567.0","@aws-sdk/middleware-logger":"3.568.0","@aws-sdk/middleware-recursion-detection":"3.567.0","@aws-sdk/middleware-user-agent":"3.572.0","@aws-sdk/region-config-resolver":"3.572.0","@aws-sdk/types":"3.567.0","@aws-sdk/util-endpoints":"3.572.0","@aws-sdk/util-user-agent-browser":"3.567.0","@aws-sdk/util-user-agent-node":"3.568.0","@smithy/config-resolver":"^2.2.0","@smithy/core":"^1.4.2","@smithy/fetch-http-handler":"^2.5.0","@smithy/hash-node":"^2.2.0","@smithy/invalid-dependency":"^2.2.0","@smithy/middleware-content-length":"^2.2.0","@smithy/middleware-endpoint":"^2.5.1","@smithy/middleware-retry":"^2.3.1","@smithy/middleware-serde":"^2.3.0","@smithy/middleware-stack":"^2.2.0","@smithy/node-config-provider":"^2.3.0","@smithy/node-http-handler":"^2.5.0","@smithy/protocol-http":"^3.3.0","@smithy/smithy-client":"^2.5.1","@smithy/types":"^2.12.0","@smithy/url-parser":"^2.2.0","@smithy/util-base64":"^2.3.0","@smithy/util-body-length-browser":"^2.2.0","@smithy/util-body-length-node":"^2.3.0","@smithy/util-defaults-mode-browser":"^2.2.1","@smithy/util-defaults-mode-node":"^2.3.1","@smithy/util-endpoints":"^1.2.0","@smithy/util-middleware":"^2.2.0","@smithy/util-retry":"^2.2.0","@smithy/util-utf8":"^2.3.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node16":"16.1.3","@types/node":"^16.18.96",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~4.9.5"},engines:{node:">=16.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso-oidc",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso-oidc"}}});var su=_((hde,iw)=>{var Da=Object.defineProperty,d4=Object.getOwnPropertyDescriptor,l4=Object.getOwnPropertyNames,u4=Object.prototype.hasOwnProperty,p4=(e,t)=>Da(e,"name",{value:t,configurable:!0}),m4=(e,t)=>{for(var r in t)Da(e,r,{get:t[r],enumerable:!0})},f4=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of l4(t))!u4.call(e,o)&&o!==r&&Da(e,o,{get:()=>t[o],enumerable:!(n=d4(t,o))||n.enumerable});return e},v4=e=>f4(Da({},"__esModule",{value:!0}),e),ZP={};m4(ZP,{ENV_CREDENTIAL_SCOPE:()=>ow,ENV_EXPIRATION:()=>nw,ENV_KEY:()=>ew,ENV_SECRET:()=>tw,ENV_SESSION:()=>rw,fromEnv:()=>g4});iw.exports=v4(ZP);var _4=te(),ew="AWS_ACCESS_KEY_ID",tw="AWS_SECRET_ACCESS_KEY",rw="AWS_SESSION_TOKEN",nw="AWS_CREDENTIAL_EXPIRATION",ow="AWS_CREDENTIAL_SCOPE",g4=p4(e=>async()=>{var t;(t=e?.logger)==null||t.debug("@aws-sdk/credential-provider-env","fromEnv");let r=process.env[ew],n=process.env[tw],o=process.env[rw],i=process.env[nw],s=process.env[ow];if(r&&n)return{accessKeyId:r,secretAccessKey:n,...o&&{sessionToken:o},...i&&{expiration:new Date(i)},...s&&{credentialScope:s}};throw new _4.CredentialsProviderError("Unable to find environment variable credentials.")},"fromEnv")});var sw=_(ka=>{"use strict";Object.defineProperty(ka,"__esModule",{value:!0});ka.checkUrl=void 0;var y4=te(),h4="169.254.170.2",S4="169.254.170.23",E4="[fd00:ec2::23]",C4=e=>{if(e.protocol!=="https:"&&!(e.hostname===h4||e.hostname===S4||e.hostname===E4)){if(e.hostname.includes("[")){if(e.hostname==="[::1]"||e.hostname==="[0000:0000:0000:0000:0000:0000:0000:0001]")return}else{if(e.hostname==="localhost")return;let t=e.hostname.split("."),r=n=>{let o=parseInt(n,10);return 0<=o&&o<=255};if(t[0]==="127"&&r(t[1])&&r(t[2])&&r(t[3])&&t.length===4)return}throw new y4.CredentialsProviderError(`URL not accepted. It must either be HTTPS or match one of the following:
  - loopback CIDR 127.0.0.0/8 or [::1/128]
  - ECS container host 169.254.170.2
  - EKS container host 169.254.170.23 or [fd00:ec2::23]`)}};ka.checkUrl=C4});var aw=_(Nn=>{"use strict";Object.defineProperty(Nn,"__esModule",{value:!0});Nn.getCredentials=Nn.createGetRequest=void 0;var au=te(),P4=ae(),w4=z(),x4=xs();function R4(e){return new P4.HttpRequest({protocol:e.protocol,hostname:e.hostname,port:Number(e.port),path:e.pathname,query:Array.from(e.searchParams.entries()).reduce((t,[r,n])=>(t[r]=n,t),{}),fragment:e.hash})}Nn.createGetRequest=R4;async function b4(e){var t,r;let n=(r=(t=e?.headers["content-type"])!==null&&t!==void 0?t:e?.headers["Content-Type"])!==null&&r!==void 0?r:"";n.includes("json")||console.warn("HTTP credential provider response header content-type was not application/json. Observed: "+n+".");let i=await(0,x4.sdkStreamMixin)(e.body).transformToString();if(e.statusCode===200){let s=JSON.parse(i);if(typeof s.AccessKeyId!="string"||typeof s.SecretAccessKey!="string"||typeof s.Token!="string"||typeof s.Expiration!="string")throw new au.CredentialsProviderError("HTTP credential provider response not of the required format, an object matching: { AccessKeyId: string, SecretAccessKey: string, Token: string, Expiration: string(rfc3339) }");return{accessKeyId:s.AccessKeyId,secretAccessKey:s.SecretAccessKey,sessionToken:s.Token,expiration:(0,w4.parseRfc3339DateTime)(s.Expiration)}}if(e.statusCode>=400&&e.statusCode<500){let s={};try{s=JSON.parse(i)}catch{}throw Object.assign(new au.CredentialsProviderError(`Server responded with status: ${e.statusCode}`),{Code:s.Code,Message:s.Message})}throw new au.CredentialsProviderError(`Server responded with status: ${e.statusCode}`)}Nn.getCredentials=b4});var cw=_(Ma=>{"use strict";Object.defineProperty(Ma,"__esModule",{value:!0});Ma.retryWrapper=void 0;var A4=(e,t,r)=>async()=>{for(let n=0;n<t;++n)try{return await e()}catch{await new Promise(i=>setTimeout(i,r))}return await e()};Ma.retryWrapper=A4});var uw=_(Ka=>{"use strict";Object.defineProperty(Ka,"__esModule",{value:!0});Ka.fromHttp=void 0;var I4=(Bt(),bt(Vt)),O4=It(),dw=te(),T4=I4.__importDefault(require("fs/promises")),N4=sw(),lw=aw(),D4=cw(),k4="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",M4="http://169.254.170.2",K4="AWS_CONTAINER_CREDENTIALS_FULL_URI",F4="AWS_CONTAINER_AUTHORIZATION_TOKEN_FILE",L4="AWS_CONTAINER_AUTHORIZATION_TOKEN",U4=e=>{var t,r,n,o,i,s,a,c,l;(t=e.logger)===null||t===void 0||t.debug("@aws-sdk/credential-provider-http","fromHttp");let p,m=(r=e.awsContainerCredentialsRelativeUri)!==null&&r!==void 0?r:process.env[k4],f=(n=e.awsContainerCredentialsFullUri)!==null&&n!==void 0?n:process.env[K4],v=(o=e.awsContainerAuthorizationToken)!==null&&o!==void 0?o:process.env[L4],g=(i=e.awsContainerAuthorizationTokenFile)!==null&&i!==void 0?i:process.env[F4];if(m&&f&&(console.warn("AWS SDK HTTP credentials provider:","you have set both awsContainerCredentialsRelativeUri and awsContainerCredentialsFullUri."),console.warn("awsContainerCredentialsFullUri will take precedence.")),v&&g&&(console.warn("AWS SDK HTTP credentials provider:","you have set both awsContainerAuthorizationToken and awsContainerAuthorizationTokenFile."),console.warn("awsContainerAuthorizationToken will take precedence.")),f)p=f;else if(m)p=`${M4}${m}`;else throw new dw.CredentialsProviderError(`No HTTP credential provider host provided.
Set AWS_CONTAINER_CREDENTIALS_FULL_URI or AWS_CONTAINER_CREDENTIALS_RELATIVE_URI.`);let S=new URL(p);(0,N4.checkUrl)(S);let P=new O4.NodeHttpHandler({requestTimeout:(s=e.timeout)!==null&&s!==void 0?s:1e3,connectionTimeout:(a=e.timeout)!==null&&a!==void 0?a:1e3});return(0,D4.retryWrapper)(async()=>{let x=(0,lw.createGetRequest)(S);v?x.headers.Authorization=v:g&&(x.headers.Authorization=(await T4.default.readFile(g)).toString());try{let R=await P.handle(x);return(0,lw.getCredentials)(R.response)}catch(R){throw new dw.CredentialsProviderError(String(R))}},(c=e.maxRetries)!==null&&c!==void 0?c:3,(l=e.timeout)!==null&&l!==void 0?l:1e3)};Ka.fromHttp=U4});var pw=_(Fa=>{"use strict";Object.defineProperty(Fa,"__esModule",{value:!0});Fa.fromHttp=void 0;var q4=uw();Object.defineProperty(Fa,"fromHttp",{enumerable:!0,get:function(){return q4.fromHttp}})});var cu=_(wr=>{"use strict";Object.defineProperty(wr,"__esModule",{value:!0});wr.resolveHttpAuthSchemeConfig=wr.defaultSSOHttpAuthSchemeProvider=wr.defaultSSOHttpAuthSchemeParametersProvider=void 0;var j4=Ge(),mw=Ve(),H4=async(e,t,r)=>({operation:(0,mw.getSmithyContext)(t).operation,region:await(0,mw.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});wr.defaultSSOHttpAuthSchemeParametersProvider=H4;function G4(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"awsssoportal",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function La(e){return{schemeId:"smithy.api#noAuth"}}var $4=e=>{let t=[];switch(e.operation){case"GetRoleCredentials":{t.push(La(e));break}case"ListAccountRoles":{t.push(La(e));break}case"ListAccounts":{t.push(La(e));break}case"Logout":{t.push(La(e));break}default:t.push(G4(e))}return t};wr.defaultSSOHttpAuthSchemeProvider=$4;var z4=e=>({...(0,j4.resolveAwsSdkSigV4Config)(e)});wr.resolveHttpAuthSchemeConfig=z4});var fw=_((Rde,W4)=>{W4.exports={name:"@aws-sdk/client-sso",description:"AWS SDK for JavaScript Sso Client for Node.js, Browser and React Native",version:"3.572.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-sso","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sso"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/core":"3.572.0","@aws-sdk/middleware-host-header":"3.567.0","@aws-sdk/middleware-logger":"3.568.0","@aws-sdk/middleware-recursion-detection":"3.567.0","@aws-sdk/middleware-user-agent":"3.572.0","@aws-sdk/region-config-resolver":"3.572.0","@aws-sdk/types":"3.567.0","@aws-sdk/util-endpoints":"3.572.0","@aws-sdk/util-user-agent-browser":"3.567.0","@aws-sdk/util-user-agent-node":"3.568.0","@smithy/config-resolver":"^2.2.0","@smithy/core":"^1.4.2","@smithy/fetch-http-handler":"^2.5.0","@smithy/hash-node":"^2.2.0","@smithy/invalid-dependency":"^2.2.0","@smithy/middleware-content-length":"^2.2.0","@smithy/middleware-endpoint":"^2.5.1","@smithy/middleware-retry":"^2.3.1","@smithy/middleware-serde":"^2.3.0","@smithy/middleware-stack":"^2.2.0","@smithy/node-config-provider":"^2.3.0","@smithy/node-http-handler":"^2.5.0","@smithy/protocol-http":"^3.3.0","@smithy/smithy-client":"^2.5.1","@smithy/types":"^2.12.0","@smithy/url-parser":"^2.2.0","@smithy/util-base64":"^2.3.0","@smithy/util-body-length-browser":"^2.2.0","@smithy/util-body-length-node":"^2.3.0","@smithy/util-defaults-mode-browser":"^2.2.1","@smithy/util-defaults-mode-node":"^2.3.1","@smithy/util-endpoints":"^1.2.0","@smithy/util-middleware":"^2.2.0","@smithy/util-retry":"^2.2.0","@smithy/util-utf8":"^2.3.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node16":"16.1.3","@types/node":"^16.18.96",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~4.9.5"},engines:{node:">=16.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso"}}});var qa=_((bde,Ew)=>{var Ua=Object.defineProperty,V4=Object.getOwnPropertyDescriptor,B4=Object.getOwnPropertyNames,X4=Object.prototype.hasOwnProperty,_w=(e,t)=>Ua(e,"name",{value:t,configurable:!0}),J4=(e,t)=>{for(var r in t)Ua(e,r,{get:t[r],enumerable:!0})},Y4=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of B4(t))!X4.call(e,o)&&o!==r&&Ua(e,o,{get:()=>t[o],enumerable:!(n=V4(t,o))||n.enumerable});return e},Q4=e=>Y4(Ua({},"__esModule",{value:!0}),e),gw={};J4(gw,{UA_APP_ID_ENV_NAME:()=>hw,UA_APP_ID_INI_NAME:()=>Sw,crtAvailability:()=>yw,defaultUserAgent:()=>t5});Ew.exports=Q4(gw);var Z4=Xe(),vw=require("os"),du=require("process"),yw={isCrtAvailable:!1},e5=_w(()=>yw.isCrtAvailable?["md/crt-avail"]:null,"isCrtAvailable"),hw="AWS_SDK_UA_APP_ID",Sw="sdk-ua-app-id",t5=_w(({serviceId:e,clientVersion:t})=>{let r=[["aws-sdk-js",t],["ua","2.0"],[`os/${(0,vw.platform)()}`,(0,vw.release)()],["lang/js"],["md/nodejs",`${du.versions.node}`]],n=e5();n&&r.push(n),e&&r.push([`api/${e}`,t]),du.env.AWS_EXECUTION_ENV&&r.push([`exec-env/${du.env.AWS_EXECUTION_ENV}`]);let o=(0,Z4.loadConfig)({environmentVariableSelector:s=>s[hw],configFileSelector:s=>s[Sw],default:void 0})(),i;return async()=>{if(!i){let s=await o;i=s?[...r,[`app/${s}`]]:[...r]}return i}},"defaultUserAgent")});var Kw=_(ja=>{"use strict";Object.defineProperty(ja,"__esModule",{value:!0});ja.ruleSet=void 0;var Nw="required",tt="fn",rt="argv",Mn="ref",Cw=!0,Pw="isSet",Yo="booleanEquals",Dn="error",kn="endpoint",Yt="tree",lu="PartitionResult",uu="getAttr",ww={[Nw]:!1,type:"String"},xw={[Nw]:!0,default:!1,type:"Boolean"},Rw={[Mn]:"Endpoint"},Dw={[tt]:Yo,[rt]:[{[Mn]:"UseFIPS"},!0]},kw={[tt]:Yo,[rt]:[{[Mn]:"UseDualStack"},!0]},et={},bw={[tt]:uu,[rt]:[{[Mn]:lu},"supportsFIPS"]},Mw={[Mn]:lu},Aw={[tt]:Yo,[rt]:[!0,{[tt]:uu,[rt]:[Mw,"supportsDualStack"]}]},Iw=[Dw],Ow=[kw],Tw=[{[Mn]:"Region"}],r5={version:"1.0",parameters:{Region:ww,UseDualStack:xw,UseFIPS:xw,Endpoint:ww},rules:[{conditions:[{[tt]:Pw,[rt]:[Rw]}],rules:[{conditions:Iw,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Dn},{conditions:Ow,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Dn},{endpoint:{url:Rw,properties:et,headers:et},type:kn}],type:Yt},{conditions:[{[tt]:Pw,[rt]:Tw}],rules:[{conditions:[{[tt]:"aws.partition",[rt]:Tw,assign:lu}],rules:[{conditions:[Dw,kw],rules:[{conditions:[{[tt]:Yo,[rt]:[Cw,bw]},Aw],rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:et,headers:et},type:kn}],type:Yt},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Dn}],type:Yt},{conditions:Iw,rules:[{conditions:[{[tt]:Yo,[rt]:[bw,Cw]}],rules:[{conditions:[{[tt]:"stringEquals",[rt]:[{[tt]:uu,[rt]:[Mw,"name"]},"aws-us-gov"]}],endpoint:{url:"https://portal.sso.{Region}.amazonaws.com",properties:et,headers:et},type:kn},{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:et,headers:et},type:kn}],type:Yt},{error:"FIPS is enabled but this partition does not support FIPS",type:Dn}],type:Yt},{conditions:Ow,rules:[{conditions:[Aw],rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:et,headers:et},type:kn}],type:Yt},{error:"DualStack is enabled but this partition does not support DualStack",type:Dn}],type:Yt},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:et,headers:et},type:kn}],type:Yt}],type:Yt},{error:"Invalid Configuration: Missing Region",type:Dn}]};ja.ruleSet=r5});var Lw=_(Ha=>{"use strict";Object.defineProperty(Ha,"__esModule",{value:!0});Ha.defaultEndpointResolver=void 0;var n5=Xo(),Fw=Gt(),o5=Kw(),i5=(e,t={})=>(0,Fw.resolveEndpoint)(o5.ruleSet,{endpointParams:e,logger:t.logger});Ha.defaultEndpointResolver=i5;Fw.customEndpointFunctions.aws=n5.awsEndpointFunctions});var jw=_(Ga=>{"use strict";Object.defineProperty(Ga,"__esModule",{value:!0});Ga.getRuntimeConfig=void 0;var s5=Ge(),a5=Pe(),c5=z(),d5=$t(),Uw=vr(),qw=Fe(),l5=cu(),u5=Lw(),p5=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??Uw.fromBase64,base64Encoder:e?.base64Encoder??Uw.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??u5.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??l5.defaultSSOHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new s5.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new a5.NoAuthSigner}],logger:e?.logger??new c5.NoOpLogger,serviceId:e?.serviceId??"SSO",urlParser:e?.urlParser??d5.parseUrl,utf8Decoder:e?.utf8Decoder??qw.fromUtf8,utf8Encoder:e?.utf8Encoder??qw.toUtf8});Ga.getRuntimeConfig=p5});var $w=_(za=>{"use strict";Object.defineProperty(za,"__esModule",{value:!0});za.getRuntimeConfig=void 0;var m5=(Bt(),bt(Vt)),f5=m5.__importDefault(fw()),v5=Ge(),_5=qa(),$a=Ke(),g5=on(),Hw=Le(),Qo=Xe(),Gw=It(),y5=sn(),h5=mr(),S5=jw(),E5=z(),C5=an(),P5=z(),w5=e=>{(0,P5.emitWarningIfUnsupportedVersion)(process.version);let t=(0,C5.resolveDefaultsModeConfig)(e),r=()=>t().then(E5.loadConfigsForDefaultMode),n=(0,S5.getRuntimeConfig)(e);return(0,v5.emitWarningIfUnsupportedVersion)(process.version),{...n,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??y5.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,_5.defaultUserAgent)({serviceId:n.serviceId,clientVersion:f5.default.version}),maxAttempts:e?.maxAttempts??(0,Qo.loadConfig)(Hw.NODE_MAX_ATTEMPT_CONFIG_OPTIONS),region:e?.region??(0,Qo.loadConfig)($a.NODE_REGION_CONFIG_OPTIONS,$a.NODE_REGION_CONFIG_FILE_OPTIONS),requestHandler:Gw.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,Qo.loadConfig)({...Hw.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||h5.DEFAULT_RETRY_MODE}),sha256:e?.sha256??g5.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??Gw.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,Qo.loadConfig)($a.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS),useFipsEndpoint:e?.useFipsEndpoint??(0,Qo.loadConfig)($a.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS)}};za.getRuntimeConfig=w5});var Va=_((Nde,Jw)=>{"use strict";var Wa=Object.defineProperty,x5=Object.getOwnPropertyDescriptor,R5=Object.getOwnPropertyNames,b5=Object.prototype.hasOwnProperty,Kn=(e,t)=>Wa(e,"name",{value:t,configurable:!0}),A5=(e,t)=>{for(var r in t)Wa(e,r,{get:t[r],enumerable:!0})},I5=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of R5(t))!b5.call(e,o)&&o!==r&&Wa(e,o,{get:()=>t[o],enumerable:!(n=x5(t,o))||n.enumerable});return e},O5=e=>I5(Wa({},"__esModule",{value:!0}),e),Ww={};A5(Ww,{NODE_REGION_CONFIG_FILE_OPTIONS:()=>k5,NODE_REGION_CONFIG_OPTIONS:()=>D5,REGION_ENV_NAME:()=>Vw,REGION_INI_NAME:()=>Bw,getAwsRegionExtensionConfiguration:()=>T5,resolveAwsRegionExtensionConfiguration:()=>N5,resolveRegionConfig:()=>M5});Jw.exports=O5(Ww);var T5=Kn(e=>{let t=Kn(async()=>{if(e.region===void 0)throw new Error("Region is missing from runtimeConfig");let r=e.region;return typeof r=="string"?r:r()},"runtimeConfigRegion");return{setRegion(r){t=r},region(){return t}}},"getAwsRegionExtensionConfiguration"),N5=Kn(e=>({region:e.region()}),"resolveAwsRegionExtensionConfiguration"),Vw="AWS_REGION",Bw="region",D5={environmentVariableSelector:e=>e[Vw],configFileSelector:e=>e[Bw],default:()=>{throw new Error("Region is missing")}},k5={preferredFile:"credentials"},Xw=Kn(e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),"isFipsRegion"),zw=Kn(e=>Xw(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,"getRealRegion"),M5=Kn(e=>{let{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return{...e,region:async()=>{if(typeof t=="string")return zw(t);let n=await t();return zw(n)},useFipsEndpoint:async()=>{let n=typeof t=="string"?t:await t();return Xw(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()}}},"resolveRegionConfig")});var q0=_((qde,U0)=>{"use strict";var Xa=Object.defineProperty,K5=Object.getOwnPropertyDescriptor,F5=Object.getOwnPropertyNames,L5=Object.prototype.hasOwnProperty,$=(e,t)=>Xa(e,"name",{value:t,configurable:!0}),U5=(e,t)=>{for(var r in t)Xa(e,r,{get:t[r],enumerable:!0})},q5=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of F5(t))!L5.call(e,o)&&o!==r&&Xa(e,o,{get:()=>t[o],enumerable:!(n=K5(t,o))||n.enumerable});return e},j5=e=>q5(Xa({},"__esModule",{value:!0}),e),n0={};U5(n0,{GetRoleCredentialsCommand:()=>N0,GetRoleCredentialsRequestFilterSensitiveLog:()=>h0,GetRoleCredentialsResponseFilterSensitiveLog:()=>E0,InvalidRequestException:()=>d0,ListAccountRolesCommand:()=>pu,ListAccountRolesRequestFilterSensitiveLog:()=>C0,ListAccountsCommand:()=>mu,ListAccountsRequestFilterSensitiveLog:()=>P0,LogoutCommand:()=>K0,LogoutRequestFilterSensitiveLog:()=>w0,ResourceNotFoundException:()=>p0,RoleCredentialsFilterSensitiveLog:()=>S0,SSO:()=>L0,SSOClient:()=>Ya,SSOServiceException:()=>Fn,TooManyRequestsException:()=>v0,UnauthorizedException:()=>y0,__Client:()=>A.Client,paginateListAccountRoles:()=>mX,paginateListAccounts:()=>fX});U0.exports=j5(n0);var Yw=Pa(),H5=xa(),G5=ba(),Qw=Ta(),$5=Ke(),Qt=Pe(),z5=tn(),ei=At(),Zw=Le(),e0=cu(),W5=$(e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"}),"resolveClientEndpointParameters"),Ja={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},V5=$w(),t0=Va(),r0=ae(),A=z(),B5=$(e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(o){let i=t.findIndex(s=>s.schemeId===o.schemeId);i===-1?t.push(o):t.splice(i,1,o)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}},"getHttpAuthExtensionConfiguration"),X5=$(e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),"resolveHttpAuthRuntimeConfig"),Ba=$(e=>e,"asPartial"),J5=$((e,t)=>{let r={...Ba((0,t0.getAwsRegionExtensionConfiguration)(e)),...Ba((0,A.getDefaultExtensionConfiguration)(e)),...Ba((0,r0.getHttpHandlerExtensionConfiguration)(e)),...Ba(B5(e))};return t.forEach(n=>n.configure(r)),{...e,...(0,t0.resolveAwsRegionExtensionConfiguration)(r),...(0,A.resolveDefaultRuntimeConfig)(r),...(0,r0.resolveHttpHandlerRuntimeConfig)(r),...X5(r)}},"resolveRuntimeExtensions"),o0=class extends A.Client{constructor(...[t]){let r=(0,V5.getRuntimeConfig)(t||{}),n=W5(r),o=(0,$5.resolveRegionConfig)(n),i=(0,ei.resolveEndpointConfig)(o),s=(0,Zw.resolveRetryConfig)(i),a=(0,Yw.resolveHostHeaderConfig)(s),c=(0,Qw.resolveUserAgentConfig)(a),l=(0,e0.resolveHttpAuthSchemeConfig)(c),p=J5(l,t?.extensions||[]);super(p),this.config=p,this.middlewareStack.use((0,Zw.getRetryPlugin)(this.config)),this.middlewareStack.use((0,z5.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,Yw.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,H5.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,G5.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,Qw.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,Qt.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:this.getDefaultHttpAuthSchemeParametersProvider(),identityProviderConfigProvider:this.getIdentityProviderConfigProvider()})),this.middlewareStack.use((0,Qt.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}getDefaultHttpAuthSchemeParametersProvider(){return e0.defaultSSOHttpAuthSchemeParametersProvider}getIdentityProviderConfigProvider(){return async t=>new Qt.DefaultIdentityProviderConfig({"aws.auth#sigv4":t.credentials})}};$(o0,"SSOClient");var Ya=o0,Qa=zt(),kde=qe(),i0=class s0 extends A.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,s0.prototype)}};$(i0,"SSOServiceException");var Fn=i0,a0=class c0 extends Fn{constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),this.name="InvalidRequestException",this.$fault="client",Object.setPrototypeOf(this,c0.prototype)}};$(a0,"InvalidRequestException");var d0=a0,l0=class u0 extends Fn{constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),this.name="ResourceNotFoundException",this.$fault="client",Object.setPrototypeOf(this,u0.prototype)}};$(l0,"ResourceNotFoundException");var p0=l0,m0=class f0 extends Fn{constructor(t){super({name:"TooManyRequestsException",$fault:"client",...t}),this.name="TooManyRequestsException",this.$fault="client",Object.setPrototypeOf(this,f0.prototype)}};$(m0,"TooManyRequestsException");var v0=m0,_0=class g0 extends Fn{constructor(t){super({name:"UnauthorizedException",$fault:"client",...t}),this.name="UnauthorizedException",this.$fault="client",Object.setPrototypeOf(this,g0.prototype)}};$(_0,"UnauthorizedException");var y0=_0,h0=$(e=>({...e,...e.accessToken&&{accessToken:A.SENSITIVE_STRING}}),"GetRoleCredentialsRequestFilterSensitiveLog"),S0=$(e=>({...e,...e.secretAccessKey&&{secretAccessKey:A.SENSITIVE_STRING},...e.sessionToken&&{sessionToken:A.SENSITIVE_STRING}}),"RoleCredentialsFilterSensitiveLog"),E0=$(e=>({...e,...e.roleCredentials&&{roleCredentials:S0(e.roleCredentials)}}),"GetRoleCredentialsResponseFilterSensitiveLog"),C0=$(e=>({...e,...e.accessToken&&{accessToken:A.SENSITIVE_STRING}}),"ListAccountRolesRequestFilterSensitiveLog"),P0=$(e=>({...e,...e.accessToken&&{accessToken:A.SENSITIVE_STRING}}),"ListAccountsRequestFilterSensitiveLog"),w0=$(e=>({...e,...e.accessToken&&{accessToken:A.SENSITIVE_STRING}}),"LogoutRequestFilterSensitiveLog"),Zo=Ge(),Y5=$(async(e,t)=>{let r=(0,Qt.requestBuilder)(e,t),n=(0,A.map)({},ec,{[rc]:e[tc]});r.bp("/federation/credentials");let o=(0,A.map)({[uX]:[,(0,A.expectNonNull)(e[lX],"roleName")],[R0]:[,(0,A.expectNonNull)(e[x0],"accountId")]});return r.m("GET").h(n).q(o).b(void 0),r.build()},"se_GetRoleCredentialsCommand"),Q5=$(async(e,t)=>{let r=(0,Qt.requestBuilder)(e,t),n=(0,A.map)({},ec,{[rc]:e[tc]});r.bp("/assignment/roles");let o=(0,A.map)({[O0]:[,e[I0]],[A0]:[()=>e.maxResults!==void 0,()=>e[b0].toString()],[R0]:[,(0,A.expectNonNull)(e[x0],"accountId")]});return r.m("GET").h(n).q(o).b(void 0),r.build()},"se_ListAccountRolesCommand"),Z5=$(async(e,t)=>{let r=(0,Qt.requestBuilder)(e,t),n=(0,A.map)({},ec,{[rc]:e[tc]});r.bp("/assignment/accounts");let o=(0,A.map)({[O0]:[,e[I0]],[A0]:[()=>e.maxResults!==void 0,()=>e[b0].toString()]});return r.m("GET").h(n).q(o).b(void 0),r.build()},"se_ListAccountsCommand"),eX=$(async(e,t)=>{let r=(0,Qt.requestBuilder)(e,t),n=(0,A.map)({},ec,{[rc]:e[tc]});return r.bp("/logout"),r.m("POST").h(n).b(void 0),r.build()},"se_LogoutCommand"),tX=$(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Za(e,t);let r=(0,A.map)({$metadata:xr(e)}),n=(0,A.expectNonNull)((0,A.expectObject)(await(0,Zo.parseJsonBody)(e.body,t)),"body"),o=(0,A.take)(n,{roleCredentials:A._json});return Object.assign(r,o),r},"de_GetRoleCredentialsCommand"),rX=$(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Za(e,t);let r=(0,A.map)({$metadata:xr(e)}),n=(0,A.expectNonNull)((0,A.expectObject)(await(0,Zo.parseJsonBody)(e.body,t)),"body"),o=(0,A.take)(n,{nextToken:A.expectString,roleList:A._json});return Object.assign(r,o),r},"de_ListAccountRolesCommand"),nX=$(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Za(e,t);let r=(0,A.map)({$metadata:xr(e)}),n=(0,A.expectNonNull)((0,A.expectObject)(await(0,Zo.parseJsonBody)(e.body,t)),"body"),o=(0,A.take)(n,{accountList:A._json,nextToken:A.expectString});return Object.assign(r,o),r},"de_ListAccountsCommand"),oX=$(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Za(e,t);let r=(0,A.map)({$metadata:xr(e)});return await(0,A.collectBody)(e.body,t),r},"de_LogoutCommand"),Za=$(async(e,t)=>{let r={...e,body:await(0,Zo.parseJsonErrorBody)(e.body,t)},n=(0,Zo.loadRestJsonErrorCode)(e,r.body);switch(n){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await sX(r,t);case"ResourceNotFoundException":case"com.amazonaws.sso#ResourceNotFoundException":throw await aX(r,t);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await cX(r,t);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await dX(r,t);default:let o=r.body;return iX({output:e,parsedBody:o,errorCode:n})}},"de_CommandError"),iX=(0,A.withBaseException)(Fn),sX=$(async(e,t)=>{let r=(0,A.map)({}),n=e.body,o=(0,A.take)(n,{message:A.expectString});Object.assign(r,o);let i=new d0({$metadata:xr(e),...r});return(0,A.decorateServiceException)(i,e.body)},"de_InvalidRequestExceptionRes"),aX=$(async(e,t)=>{let r=(0,A.map)({}),n=e.body,o=(0,A.take)(n,{message:A.expectString});Object.assign(r,o);let i=new p0({$metadata:xr(e),...r});return(0,A.decorateServiceException)(i,e.body)},"de_ResourceNotFoundExceptionRes"),cX=$(async(e,t)=>{let r=(0,A.map)({}),n=e.body,o=(0,A.take)(n,{message:A.expectString});Object.assign(r,o);let i=new v0({$metadata:xr(e),...r});return(0,A.decorateServiceException)(i,e.body)},"de_TooManyRequestsExceptionRes"),dX=$(async(e,t)=>{let r=(0,A.map)({}),n=e.body,o=(0,A.take)(n,{message:A.expectString});Object.assign(r,o);let i=new y0({$metadata:xr(e),...r});return(0,A.decorateServiceException)(i,e.body)},"de_UnauthorizedExceptionRes"),xr=$(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),ec=$(e=>e!=null&&e!==""&&(!Object.getOwnPropertyNames(e).includes("length")||e.length!=0)&&(!Object.getOwnPropertyNames(e).includes("size")||e.size!=0),"isSerializableHeaderValue"),x0="accountId",tc="accessToken",R0="account_id",b0="maxResults",A0="max_result",I0="nextToken",O0="next_token",lX="roleName",uX="role_name",rc="x-amz-sso_bearer_token",T0=class extends A.Command.classBuilder().ep({...Ja}).m(function(t,r,n,o){return[(0,Qa.getSerdePlugin)(n,this.serialize,this.deserialize),(0,ei.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SWBPortalService","GetRoleCredentials",{}).n("SSOClient","GetRoleCredentialsCommand").f(h0,E0).ser(Y5).de(tX).build(){};$(T0,"GetRoleCredentialsCommand");var N0=T0,D0=class extends A.Command.classBuilder().ep({...Ja}).m(function(t,r,n,o){return[(0,Qa.getSerdePlugin)(n,this.serialize,this.deserialize),(0,ei.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccountRoles",{}).n("SSOClient","ListAccountRolesCommand").f(C0,void 0).ser(Q5).de(rX).build(){};$(D0,"ListAccountRolesCommand");var pu=D0,k0=class extends A.Command.classBuilder().ep({...Ja}).m(function(t,r,n,o){return[(0,Qa.getSerdePlugin)(n,this.serialize,this.deserialize),(0,ei.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccounts",{}).n("SSOClient","ListAccountsCommand").f(P0,void 0).ser(Z5).de(nX).build(){};$(k0,"ListAccountsCommand");var mu=k0,M0=class extends A.Command.classBuilder().ep({...Ja}).m(function(t,r,n,o){return[(0,Qa.getSerdePlugin)(n,this.serialize,this.deserialize),(0,ei.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SWBPortalService","Logout",{}).n("SSOClient","LogoutCommand").f(w0,void 0).ser(eX).de(oX).build(){};$(M0,"LogoutCommand");var K0=M0,pX={GetRoleCredentialsCommand:N0,ListAccountRolesCommand:pu,ListAccountsCommand:mu,LogoutCommand:K0},F0=class extends Ya{};$(F0,"SSO");var L0=F0;(0,A.createAggregatedClient)(pX,L0);var mX=(0,Qt.createPaginator)(Ya,pu,"nextToken","nextToken","maxResults"),fX=(0,Qt.createPaginator)(Ya,mu,"nextToken","nextToken","maxResults")});var B0=_((jde,V0)=>{"use strict";var vX=Object.create,ri=Object.defineProperty,_X=Object.getOwnPropertyDescriptor,gX=Object.getOwnPropertyNames,yX=Object.getPrototypeOf,hX=Object.prototype.hasOwnProperty,Rr=(e,t)=>ri(e,"name",{value:t,configurable:!0}),SX=(e,t)=>{for(var r in t)ri(e,r,{get:t[r],enumerable:!0})},G0=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of gX(t))!hX.call(e,o)&&o!==r&&ri(e,o,{get:()=>t[o],enumerable:!(n=_X(t,o))||n.enumerable});return e},$0=(e,t,r)=>(r=e!=null?vX(yX(e)):{},G0(t||!e||!e.__esModule?ri(r,"default",{value:e,enumerable:!0}):r,e)),EX=e=>G0(ri({},"__esModule",{value:!0}),e),z0={};SX(z0,{fromSso:()=>W0,fromStatic:()=>AX,nodeProvider:()=>IX});V0.exports=EX(z0);var CX=5*60*1e3,vu="To refresh this SSO session run 'aws sso login' with the corresponding profile.",fu={},PX=Rr(async e=>{let{SSOOIDCClient:t}=await Promise.resolve().then(()=>$0(ni()));if(fu[e])return fu[e];let r=new t({region:e});return fu[e]=r,r},"getSsoOidcClient"),wX=Rr(async(e,t)=>{let{CreateTokenCommand:r}=await Promise.resolve().then(()=>$0(ni()));return(await PX(t)).send(new r({clientId:e.clientId,clientSecret:e.clientSecret,refreshToken:e.refreshToken,grantType:"refresh_token"}))},"getNewSsoOidcToken"),yt=te(),j0=Rr(e=>{if(e.expiration&&e.expiration.getTime()<Date.now())throw new yt.TokenProviderError(`Token is expired. ${vu}`,!1)},"validateTokenExpiry"),dn=Rr((e,t,r=!1)=>{if(typeof t>"u")throw new yt.TokenProviderError(`Value not present for '${e}' in SSO Token${r?". Cannot refresh":""}. ${vu}`,!1)},"validateTokenKey"),ti=je(),xX=require("fs"),{writeFile:RX}=xX.promises,bX=Rr((e,t)=>{let r=(0,ti.getSSOTokenFilepath)(e),n=JSON.stringify(t,null,2);return RX(r,n)},"writeSSOTokenToFile"),H0=new Date(0),W0=Rr((e={})=>async()=>{var t;(t=e.logger)==null||t.debug("@aws-sdk/token-providers","fromSso");let r=await(0,ti.parseKnownFiles)(e),n=(0,ti.getProfileName)(e),o=r[n];if(o){if(!o.sso_session)throw new yt.TokenProviderError(`Profile '${n}' is missing required property 'sso_session'.`)}else throw new yt.TokenProviderError(`Profile '${n}' could not be found in shared credentials file.`,!1);let i=o.sso_session,a=(await(0,ti.loadSsoSessionData)(e))[i];if(!a)throw new yt.TokenProviderError(`Sso session '${i}' could not be found in shared credentials file.`,!1);for(let g of["sso_start_url","sso_region"])if(!a[g])throw new yt.TokenProviderError(`Sso session '${i}' is missing required property '${g}'.`,!1);let c=a.sso_start_url,l=a.sso_region,p;try{p=await(0,ti.getSSOTokenFromFile)(i)}catch{throw new yt.TokenProviderError(`The SSO session token associated with profile=${n} was not found or is invalid. ${vu}`,!1)}dn("accessToken",p.accessToken),dn("expiresAt",p.expiresAt);let{accessToken:m,expiresAt:f}=p,v={token:m,expiration:new Date(f)};if(v.expiration.getTime()-Date.now()>CX)return v;if(Date.now()-H0.getTime()<30*1e3)return j0(v),v;dn("clientId",p.clientId,!0),dn("clientSecret",p.clientSecret,!0),dn("refreshToken",p.refreshToken,!0);try{H0.setTime(Date.now());let g=await wX(p,l);dn("accessToken",g.accessToken),dn("expiresIn",g.expiresIn);let S=new Date(Date.now()+g.expiresIn*1e3);try{await bX(i,{...p,accessToken:g.accessToken,expiresAt:S.toISOString(),refreshToken:g.refreshToken})}catch{}return{token:g.accessToken,expiration:S}}catch{return j0(v),v}},"fromSso"),AX=Rr(({token:e,logger:t})=>async()=>{if(t?.debug("@aws-sdk/token-providers","fromStatic"),!e||!e.token)throw new yt.TokenProviderError("Please pass a valid token to fromStatic",!1);return e},"fromStatic"),IX=Rr((e={})=>(0,yt.memoize)((0,yt.chain)(W0(e),async()=>{throw new yt.TokenProviderError("Could not load token from any providers",!1)}),t=>t.expiration!==void 0&&t.expiration.getTime()-Date.now()<3e5,t=>t.expiration!==void 0),"nodeProvider")});var gu=_((Hde,rx)=>{"use strict";var oc=Object.defineProperty,OX=Object.getOwnPropertyDescriptor,J0=Object.getOwnPropertyNames,TX=Object.prototype.hasOwnProperty,ic=(e,t)=>oc(e,"name",{value:t,configurable:!0}),NX=(e,t)=>function(){return e&&(t=(0,e[J0(e)[0]])(e=0)),t},Y0=(e,t)=>{for(var r in t)oc(e,r,{get:t[r],enumerable:!0})},DX=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of J0(t))!TX.call(e,o)&&o!==r&&oc(e,o,{get:()=>t[o],enumerable:!(n=OX(t,o))||n.enumerable});return e},kX=e=>DX(oc({},"__esModule",{value:!0}),e),Q0={};Y0(Q0,{GetRoleCredentialsCommand:()=>_u.GetRoleCredentialsCommand,SSOClient:()=>_u.SSOClient});var _u,MX=NX({"src/loadSso.ts"(){"use strict";_u=q0()}}),Z0={};Y0(Z0,{fromSSO:()=>FX,isSsoProfile:()=>ex,validateSsoProfile:()=>tx});rx.exports=kX(Z0);var ex=ic(e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),"isSsoProfile"),KX=B0(),ht=te(),nc=je(),oi=!1,X0=ic(async({ssoStartUrl:e,ssoSession:t,ssoAccountId:r,ssoRegion:n,ssoRoleName:o,ssoClient:i,clientConfig:s,profile:a})=>{let c,l="To refresh this SSO session run aws sso login with the corresponding profile.";if(t)try{let H=await(0,KX.fromSso)({profile:a})();c={accessToken:H.token,expiresAt:new Date(H.expiration).toISOString()}}catch(H){throw new ht.CredentialsProviderError(H.message,oi)}else try{c=await(0,nc.getSSOTokenFromFile)(e)}catch{throw new ht.CredentialsProviderError(`The SSO session associated with this profile is invalid. ${l}`,oi)}if(new Date(c.expiresAt).getTime()-Date.now()<=0)throw new ht.CredentialsProviderError(`The SSO session associated with this profile has expired. ${l}`,oi);let{accessToken:p}=c,{SSOClient:m,GetRoleCredentialsCommand:f}=await Promise.resolve().then(()=>(MX(),Q0)),v=i||new m(Object.assign({},s??{},{region:s?.region??n})),g;try{g=await v.send(new f({accountId:r,roleName:o,accessToken:p}))}catch(H){throw ht.CredentialsProviderError.from(H,oi)}let{roleCredentials:{accessKeyId:S,secretAccessKey:P,sessionToken:x,expiration:R,credentialScope:de}={}}=g;if(!S||!P||!x||!R)throw new ht.CredentialsProviderError("SSO returns an invalid temporary credential.",oi);return{accessKeyId:S,secretAccessKey:P,sessionToken:x,expiration:new Date(R),credentialScope:de}},"resolveSSOCredentials"),tx=ic(e=>{let{sso_start_url:t,sso_account_id:r,sso_region:n,sso_role_name:o}=e;if(!t||!r||!n||!o)throw new ht.CredentialsProviderError(`Profile is configured with invalid SSO credentials. Required parameters "sso_account_id", "sso_region", "sso_role_name", "sso_start_url". Got ${Object.keys(e).join(", ")}
Reference: https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-sso.html`,!1);return e},"validateSsoProfile"),FX=ic((e={})=>async()=>{var t;(t=e.logger)==null||t.debug("@aws-sdk/credential-provider-sso","fromSSO");let{ssoStartUrl:r,ssoAccountId:n,ssoRegion:o,ssoRoleName:i,ssoSession:s}=e,{ssoClient:a}=e,c=(0,nc.getProfileName)(e);if(!r&&!n&&!o&&!i&&!s){let p=(await(0,nc.parseKnownFiles)(e))[c];if(!p)throw new ht.CredentialsProviderError(`Profile ${c} was not found.`);if(!ex(p))throw new ht.CredentialsProviderError(`Profile ${c} is not configured with SSO credentials.`);if(p?.sso_session){let x=(await(0,nc.loadSsoSessionData)(e))[p.sso_session],R=` configurations in profile ${c} and sso-session ${p.sso_session}`;if(o&&o!==x.sso_region)throw new ht.CredentialsProviderError("Conflicting SSO region"+R,!1);if(r&&r!==x.sso_start_url)throw new ht.CredentialsProviderError("Conflicting SSO start_url"+R,!1);p.sso_region=x.sso_region,p.sso_start_url=x.sso_start_url}let{sso_start_url:m,sso_account_id:f,sso_region:v,sso_role_name:g,sso_session:S}=tx(p);return X0({ssoStartUrl:m,ssoSession:S,ssoAccountId:f,ssoRegion:v,ssoRoleName:g,ssoClient:a,clientConfig:e.clientConfig,profile:c})}else{if(!r||!n||!o||!i)throw new ht.CredentialsProviderError('Incomplete configuration. The fromSSO() argument hash must include "ssoStartUrl", "ssoAccountId", "ssoRegion", "ssoRoleName"');return X0({ssoStartUrl:r,ssoSession:s,ssoAccountId:n,ssoRegion:o,ssoRoleName:i,ssoClient:a,clientConfig:e.clientConfig,profile:c})}},"fromSSO")});var yu=_(St=>{"use strict";Object.defineProperty(St,"__esModule",{value:!0});St.resolveHttpAuthSchemeConfig=St.resolveStsAuthConfig=St.defaultSTSHttpAuthSchemeProvider=St.defaultSTSHttpAuthSchemeParametersProvider=void 0;var LX=Ge(),nx=Ve(),UX=ii(),qX=async(e,t,r)=>({operation:(0,nx.getSmithyContext)(t).operation,region:await(0,nx.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});St.defaultSTSHttpAuthSchemeParametersProvider=qX;function jX(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sts",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function ox(e){return{schemeId:"smithy.api#noAuth"}}var HX=e=>{let t=[];switch(e.operation){case"AssumeRoleWithSAML":{t.push(ox(e));break}case"AssumeRoleWithWebIdentity":{t.push(ox(e));break}default:t.push(jX(e))}return t};St.defaultSTSHttpAuthSchemeProvider=HX;var GX=e=>({...e,stsClientCtor:UX.STSClient});St.resolveStsAuthConfig=GX;var $X=e=>{let t=(0,St.resolveStsAuthConfig)(e);return{...(0,LX.resolveAwsSdkSigV4Config)(t)}};St.resolveHttpAuthSchemeConfig=$X});var Et=_(Ln=>{"use strict";Object.defineProperty(Ln,"__esModule",{value:!0});Ln.commonParams=Ln.resolveClientEndpointParameters=void 0;var zX=e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,defaultSigningName:"sts"});Ln.resolveClientEndpointParameters=zX;Ln.commonParams={UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var ix=_((zde,WX)=>{WX.exports={name:"@aws-sdk/client-sts",description:"AWS SDK for JavaScript Sts Client for Node.js, Browser and React Native",version:"3.572.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-sts","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"rimraf ./dist-types tsconfig.types.tsbuildinfo && tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sts",test:"yarn test:unit","test:unit":"jest"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/client-sso-oidc":"3.572.0","@aws-sdk/core":"3.572.0","@aws-sdk/credential-provider-node":"3.572.0","@aws-sdk/middleware-host-header":"3.567.0","@aws-sdk/middleware-logger":"3.568.0","@aws-sdk/middleware-recursion-detection":"3.567.0","@aws-sdk/middleware-user-agent":"3.572.0","@aws-sdk/region-config-resolver":"3.572.0","@aws-sdk/types":"3.567.0","@aws-sdk/util-endpoints":"3.572.0","@aws-sdk/util-user-agent-browser":"3.567.0","@aws-sdk/util-user-agent-node":"3.568.0","@smithy/config-resolver":"^2.2.0","@smithy/core":"^1.4.2","@smithy/fetch-http-handler":"^2.5.0","@smithy/hash-node":"^2.2.0","@smithy/invalid-dependency":"^2.2.0","@smithy/middleware-content-length":"^2.2.0","@smithy/middleware-endpoint":"^2.5.1","@smithy/middleware-retry":"^2.3.1","@smithy/middleware-serde":"^2.3.0","@smithy/middleware-stack":"^2.2.0","@smithy/node-config-provider":"^2.3.0","@smithy/node-http-handler":"^2.5.0","@smithy/protocol-http":"^3.3.0","@smithy/smithy-client":"^2.5.1","@smithy/types":"^2.12.0","@smithy/url-parser":"^2.2.0","@smithy/util-base64":"^2.3.0","@smithy/util-body-length-browser":"^2.2.0","@smithy/util-body-length-node":"^2.3.0","@smithy/util-defaults-mode-browser":"^2.2.1","@smithy/util-defaults-mode-node":"^2.3.1","@smithy/util-endpoints":"^1.2.0","@smithy/util-middleware":"^2.2.0","@smithy/util-retry":"^2.2.0","@smithy/util-utf8":"^2.3.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node16":"16.1.3","@types/node":"^16.18.96",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~4.9.5"},engines:{node:">=16.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sts",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sts"}}});var bx=_(sc=>{"use strict";Object.defineProperty(sc,"__esModule",{value:!0});sc.ruleSet=void 0;var gx="required",U="type",W="fn",V="argv",Ar="ref",sx=!1,hu=!0,br="booleanEquals",ye="stringEquals",yx="sigv4",hx="sts",Sx="us-east-1",ne="endpoint",ax="https://sts.{Region}.{PartitionResult#dnsSuffix}",Nt="tree",Un="error",Eu="getAttr",cx={[gx]:!1,[U]:"String"},Su={[gx]:!0,default:!1,[U]:"Boolean"},Ex={[Ar]:"Endpoint"},dx={[W]:"isSet",[V]:[{[Ar]:"Region"}]},he={[Ar]:"Region"},lx={[W]:"aws.partition",[V]:[he],assign:"PartitionResult"},Cx={[Ar]:"UseFIPS"},Px={[Ar]:"UseDualStack"},we={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:yx,signingName:hx,signingRegion:Sx}]},headers:{}},$e={},ux={conditions:[{[W]:ye,[V]:[he,"aws-global"]}],[ne]:we,[U]:ne},wx={[W]:br,[V]:[Cx,!0]},xx={[W]:br,[V]:[Px,!0]},px={[W]:Eu,[V]:[{[Ar]:"PartitionResult"},"supportsFIPS"]},Rx={[Ar]:"PartitionResult"},mx={[W]:br,[V]:[!0,{[W]:Eu,[V]:[Rx,"supportsDualStack"]}]},fx=[{[W]:"isSet",[V]:[Ex]}],vx=[wx],_x=[xx],VX={version:"1.0",parameters:{Region:cx,UseDualStack:Su,UseFIPS:Su,Endpoint:cx,UseGlobalEndpoint:Su},rules:[{conditions:[{[W]:br,[V]:[{[Ar]:"UseGlobalEndpoint"},hu]},{[W]:"not",[V]:fx},dx,lx,{[W]:br,[V]:[Cx,sx]},{[W]:br,[V]:[Px,sx]}],rules:[{conditions:[{[W]:ye,[V]:[he,"ap-northeast-1"]}],endpoint:we,[U]:ne},{conditions:[{[W]:ye,[V]:[he,"ap-south-1"]}],endpoint:we,[U]:ne},{conditions:[{[W]:ye,[V]:[he,"ap-southeast-1"]}],endpoint:we,[U]:ne},{conditions:[{[W]:ye,[V]:[he,"ap-southeast-2"]}],endpoint:we,[U]:ne},ux,{conditions:[{[W]:ye,[V]:[he,"ca-central-1"]}],endpoint:we,[U]:ne},{conditions:[{[W]:ye,[V]:[he,"eu-central-1"]}],endpoint:we,[U]:ne},{conditions:[{[W]:ye,[V]:[he,"eu-north-1"]}],endpoint:we,[U]:ne},{conditions:[{[W]:ye,[V]:[he,"eu-west-1"]}],endpoint:we,[U]:ne},{conditions:[{[W]:ye,[V]:[he,"eu-west-2"]}],endpoint:we,[U]:ne},{conditions:[{[W]:ye,[V]:[he,"eu-west-3"]}],endpoint:we,[U]:ne},{conditions:[{[W]:ye,[V]:[he,"sa-east-1"]}],endpoint:we,[U]:ne},{conditions:[{[W]:ye,[V]:[he,Sx]}],endpoint:we,[U]:ne},{conditions:[{[W]:ye,[V]:[he,"us-east-2"]}],endpoint:we,[U]:ne},{conditions:[{[W]:ye,[V]:[he,"us-west-1"]}],endpoint:we,[U]:ne},{conditions:[{[W]:ye,[V]:[he,"us-west-2"]}],endpoint:we,[U]:ne},{endpoint:{url:ax,properties:{authSchemes:[{name:yx,signingName:hx,signingRegion:"{Region}"}]},headers:$e},[U]:ne}],[U]:Nt},{conditions:fx,rules:[{conditions:vx,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[U]:Un},{conditions:_x,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[U]:Un},{endpoint:{url:Ex,properties:$e,headers:$e},[U]:ne}],[U]:Nt},{conditions:[dx],rules:[{conditions:[lx],rules:[{conditions:[wx,xx],rules:[{conditions:[{[W]:br,[V]:[hu,px]},mx],rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:$e,headers:$e},[U]:ne}],[U]:Nt},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[U]:Un}],[U]:Nt},{conditions:vx,rules:[{conditions:[{[W]:br,[V]:[px,hu]}],rules:[{conditions:[{[W]:ye,[V]:[{[W]:Eu,[V]:[Rx,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:$e,headers:$e},[U]:ne},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:$e,headers:$e},[U]:ne}],[U]:Nt},{error:"FIPS is enabled but this partition does not support FIPS",[U]:Un}],[U]:Nt},{conditions:_x,rules:[{conditions:[mx],rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:$e,headers:$e},[U]:ne}],[U]:Nt},{error:"DualStack is enabled but this partition does not support DualStack",[U]:Un}],[U]:Nt},ux,{endpoint:{url:ax,properties:$e,headers:$e},[U]:ne}],[U]:Nt}],[U]:Nt},{error:"Invalid Configuration: Missing Region",[U]:Un}]};sc.ruleSet=VX});var Ix=_(ac=>{"use strict";Object.defineProperty(ac,"__esModule",{value:!0});ac.defaultEndpointResolver=void 0;var BX=Xo(),Ax=Gt(),XX=bx(),JX=(e,t={})=>(0,Ax.resolveEndpoint)(XX.ruleSet,{endpointParams:e,logger:t.logger});ac.defaultEndpointResolver=JX;Ax.customEndpointFunctions.aws=BX.awsEndpointFunctions});var Nx=_(cc=>{"use strict";Object.defineProperty(cc,"__esModule",{value:!0});cc.getRuntimeConfig=void 0;var YX=Ge(),QX=Pe(),ZX=z(),eJ=$t(),Ox=vr(),Tx=Fe(),tJ=yu(),rJ=Ix(),nJ=e=>({apiVersion:"2011-06-15",base64Decoder:e?.base64Decoder??Ox.fromBase64,base64Encoder:e?.base64Encoder??Ox.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??rJ.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??tJ.defaultSTSHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new YX.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new QX.NoAuthSigner}],logger:e?.logger??new ZX.NoOpLogger,serviceId:e?.serviceId??"STS",urlParser:e?.urlParser??eJ.parseUrl,utf8Decoder:e?.utf8Decoder??Tx.fromUtf8,utf8Encoder:e?.utf8Encoder??Tx.toUtf8});cc.getRuntimeConfig=nJ});var Fx=_(lc=>{"use strict";Object.defineProperty(lc,"__esModule",{value:!0});lc.getRuntimeConfig=void 0;var oJ=(Bt(),bt(Vt)),iJ=oJ.__importDefault(ix()),Dx=Ge(),kx=Cu(),sJ=qa(),dc=Ke(),aJ=Pe(),cJ=on(),Mx=Le(),si=Xe(),Kx=It(),dJ=sn(),lJ=mr(),uJ=Nx(),pJ=z(),mJ=an(),fJ=z(),vJ=e=>{(0,fJ.emitWarningIfUnsupportedVersion)(process.version);let t=(0,mJ.resolveDefaultsModeConfig)(e),r=()=>t().then(pJ.loadConfigsForDefaultMode),n=(0,uJ.getRuntimeConfig)(e);return(0,Dx.emitWarningIfUnsupportedVersion)(process.version),{...n,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??dJ.calculateBodyLength,credentialDefaultProvider:e?.credentialDefaultProvider??kx.defaultProvider,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,sJ.defaultUserAgent)({serviceId:n.serviceId,clientVersion:iJ.default.version}),httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:o=>o.getIdentityProvider("aws.auth#sigv4")||(async i=>await(0,kx.defaultProvider)(i?.__config||{})()),signer:new Dx.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:o=>o.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new aJ.NoAuthSigner}],maxAttempts:e?.maxAttempts??(0,si.loadConfig)(Mx.NODE_MAX_ATTEMPT_CONFIG_OPTIONS),region:e?.region??(0,si.loadConfig)(dc.NODE_REGION_CONFIG_OPTIONS,dc.NODE_REGION_CONFIG_FILE_OPTIONS),requestHandler:Kx.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,si.loadConfig)({...Mx.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||lJ.DEFAULT_RETRY_MODE}),sha256:e?.sha256??cJ.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??Kx.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,si.loadConfig)(dc.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS),useFipsEndpoint:e?.useFipsEndpoint??(0,si.loadConfig)(dc.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS)}};lc.getRuntimeConfig=vJ});var Lx=_(qn=>{"use strict";Object.defineProperty(qn,"__esModule",{value:!0});qn.resolveHttpAuthRuntimeConfig=qn.getHttpAuthExtensionConfiguration=void 0;var _J=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(o){let i=t.findIndex(s=>s.schemeId===o.schemeId);i===-1?t.push(o):t.splice(i,1,o)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}};qn.getHttpAuthExtensionConfiguration=_J;var gJ=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()});qn.resolveHttpAuthRuntimeConfig=gJ});var Pu=_(pc=>{"use strict";Object.defineProperty(pc,"__esModule",{value:!0});pc.resolveRuntimeExtensions=void 0;var Ux=Va(),qx=ae(),jx=z(),Hx=Lx(),uc=e=>e,yJ=(e,t)=>{let r={...uc((0,Ux.getAwsRegionExtensionConfiguration)(e)),...uc((0,jx.getDefaultExtensionConfiguration)(e)),...uc((0,qx.getHttpHandlerExtensionConfiguration)(e)),...uc((0,Hx.getHttpAuthExtensionConfiguration)(e))};return t.forEach(n=>n.configure(r)),{...e,...(0,Ux.resolveAwsRegionExtensionConfiguration)(r),...(0,jx.resolveDefaultRuntimeConfig)(r),...(0,qx.resolveHttpHandlerRuntimeConfig)(r),...(0,Hx.resolveHttpAuthRuntimeConfig)(r)}};pc.resolveRuntimeExtensions=yJ});var ii=_(jn=>{"use strict";Object.defineProperty(jn,"__esModule",{value:!0});jn.STSClient=jn.__Client=void 0;var Gx=Pa(),hJ=xa(),SJ=ba(),$x=Ta(),EJ=Ke(),wu=Pe(),CJ=tn(),PJ=At(),zx=Le(),Vx=z();Object.defineProperty(jn,"__Client",{enumerable:!0,get:function(){return Vx.Client}});var Wx=yu(),wJ=Et(),xJ=Fx(),RJ=Pu(),xu=class extends Vx.Client{constructor(...[t]){let r=(0,xJ.getRuntimeConfig)(t||{}),n=(0,wJ.resolveClientEndpointParameters)(r),o=(0,EJ.resolveRegionConfig)(n),i=(0,PJ.resolveEndpointConfig)(o),s=(0,zx.resolveRetryConfig)(i),a=(0,Gx.resolveHostHeaderConfig)(s),c=(0,$x.resolveUserAgentConfig)(a),l=(0,Wx.resolveHttpAuthSchemeConfig)(c),p=(0,RJ.resolveRuntimeExtensions)(l,t?.extensions||[]);super(p),this.config=p,this.middlewareStack.use((0,zx.getRetryPlugin)(this.config)),this.middlewareStack.use((0,CJ.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,Gx.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,hJ.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,SJ.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,$x.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,wu.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:this.getDefaultHttpAuthSchemeParametersProvider(),identityProviderConfigProvider:this.getIdentityProviderConfigProvider()})),this.middlewareStack.use((0,wu.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}getDefaultHttpAuthSchemeParametersProvider(){return Wx.defaultSTSHttpAuthSchemeParametersProvider}getIdentityProviderConfigProvider(){return async t=>new wu.DefaultIdentityProviderConfig({"aws.auth#sigv4":t.credentials})}};jn.STSClient=xu});var sp=_((dle,ip)=>{"use strict";var mc=Object.defineProperty,bJ=Object.getOwnPropertyDescriptor,AJ=Object.getOwnPropertyNames,IJ=Object.prototype.hasOwnProperty,E=(e,t)=>mc(e,"name",{value:t,configurable:!0}),OJ=(e,t)=>{for(var r in t)mc(e,r,{get:t[r],enumerable:!0})},ep=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of AJ(t))!IJ.call(e,o)&&o!==r&&mc(e,o,{get:()=>t[o],enumerable:!(n=bJ(t,o))||n.enumerable});return e},TJ=(e,t,r)=>(ep(e,t,"default"),r&&ep(r,t,"default")),NJ=e=>ep(mc({},"__esModule",{value:!0}),e),tp={};OJ(tp,{AssumeRoleCommand:()=>np,AssumeRoleResponseFilterSensitiveLog:()=>ER,AssumeRoleWithSAMLCommand:()=>TR,AssumeRoleWithSAMLRequestFilterSensitiveLog:()=>CR,AssumeRoleWithSAMLResponseFilterSensitiveLog:()=>PR,AssumeRoleWithWebIdentityCommand:()=>op,AssumeRoleWithWebIdentityRequestFilterSensitiveLog:()=>wR,AssumeRoleWithWebIdentityResponseFilterSensitiveLog:()=>xR,ClientInputEndpointParameters:()=>eY.ClientInputEndpointParameters,CredentialsFilterSensitiveLog:()=>Xn,DecodeAuthorizationMessageCommand:()=>kR,ExpiredTokenException:()=>Zx,GetAccessKeyInfoCommand:()=>KR,GetCallerIdentityCommand:()=>LR,GetFederationTokenCommand:()=>qR,GetFederationTokenResponseFilterSensitiveLog:()=>RR,GetSessionTokenCommand:()=>HR,GetSessionTokenResponseFilterSensitiveLog:()=>bR,IDPCommunicationErrorException:()=>gR,IDPRejectedClaimException:()=>uR,InvalidAuthorizationMessageException:()=>SR,InvalidIdentityTokenException:()=>fR,MalformedPolicyDocumentException:()=>rR,PackedPolicyTooLargeException:()=>iR,RegionDisabledException:()=>cR,RuntimeExtension:()=>tY.RuntimeExtension,STS:()=>$R,STSServiceException:()=>Dt,decorateDefaultCredentialProvider:()=>oY,getDefaultRoleAssumer:()=>BR,getDefaultRoleAssumerWithWebIdentity:()=>XR});ip.exports=NJ(tp);TJ(tp,ii(),ip.exports);var Ir=At(),Or=zt(),Zde=qe(),DJ=Et(),I=z(),Xx=class Jx extends I.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,Jx.prototype)}};E(Xx,"STSServiceException");var Dt=Xx,Yx=class Qx extends Dt{constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),this.name="ExpiredTokenException",this.$fault="client",Object.setPrototypeOf(this,Qx.prototype)}};E(Yx,"ExpiredTokenException");var Zx=Yx,eR=class tR extends Dt{constructor(t){super({name:"MalformedPolicyDocumentException",$fault:"client",...t}),this.name="MalformedPolicyDocumentException",this.$fault="client",Object.setPrototypeOf(this,tR.prototype)}};E(eR,"MalformedPolicyDocumentException");var rR=eR,nR=class oR extends Dt{constructor(t){super({name:"PackedPolicyTooLargeException",$fault:"client",...t}),this.name="PackedPolicyTooLargeException",this.$fault="client",Object.setPrototypeOf(this,oR.prototype)}};E(nR,"PackedPolicyTooLargeException");var iR=nR,sR=class aR extends Dt{constructor(t){super({name:"RegionDisabledException",$fault:"client",...t}),this.name="RegionDisabledException",this.$fault="client",Object.setPrototypeOf(this,aR.prototype)}};E(sR,"RegionDisabledException");var cR=sR,dR=class lR extends Dt{constructor(t){super({name:"IDPRejectedClaimException",$fault:"client",...t}),this.name="IDPRejectedClaimException",this.$fault="client",Object.setPrototypeOf(this,lR.prototype)}};E(dR,"IDPRejectedClaimException");var uR=dR,pR=class mR extends Dt{constructor(t){super({name:"InvalidIdentityTokenException",$fault:"client",...t}),this.name="InvalidIdentityTokenException",this.$fault="client",Object.setPrototypeOf(this,mR.prototype)}};E(pR,"InvalidIdentityTokenException");var fR=pR,vR=class _R extends Dt{constructor(t){super({name:"IDPCommunicationErrorException",$fault:"client",...t}),this.name="IDPCommunicationErrorException",this.$fault="client",Object.setPrototypeOf(this,_R.prototype)}};E(vR,"IDPCommunicationErrorException");var gR=vR,yR=class hR extends Dt{constructor(t){super({name:"InvalidAuthorizationMessageException",$fault:"client",...t}),this.name="InvalidAuthorizationMessageException",this.$fault="client",Object.setPrototypeOf(this,hR.prototype)}};E(yR,"InvalidAuthorizationMessageException");var SR=yR,Xn=E(e=>({...e,...e.SecretAccessKey&&{SecretAccessKey:I.SENSITIVE_STRING}}),"CredentialsFilterSensitiveLog"),ER=E(e=>({...e,...e.Credentials&&{Credentials:Xn(e.Credentials)}}),"AssumeRoleResponseFilterSensitiveLog"),CR=E(e=>({...e,...e.SAMLAssertion&&{SAMLAssertion:I.SENSITIVE_STRING}}),"AssumeRoleWithSAMLRequestFilterSensitiveLog"),PR=E(e=>({...e,...e.Credentials&&{Credentials:Xn(e.Credentials)}}),"AssumeRoleWithSAMLResponseFilterSensitiveLog"),wR=E(e=>({...e,...e.WebIdentityToken&&{WebIdentityToken:I.SENSITIVE_STRING}}),"AssumeRoleWithWebIdentityRequestFilterSensitiveLog"),xR=E(e=>({...e,...e.Credentials&&{Credentials:Xn(e.Credentials)}}),"AssumeRoleWithWebIdentityResponseFilterSensitiveLog"),RR=E(e=>({...e,...e.Credentials&&{Credentials:Xn(e.Credentials)}}),"GetFederationTokenResponseFilterSensitiveLog"),bR=E(e=>({...e,...e.Credentials&&{Credentials:Xn(e.Credentials)}}),"GetSessionTokenResponseFilterSensitiveLog"),rr=Ge(),kJ=ae(),MJ=E(async(e,t)=>{let r=Dr,n;return n=Fr({...i8(e,t),[Mr]:K8,[Kr]:kr}),Nr(t,r,"/",void 0,n)},"se_AssumeRoleCommand"),KJ=E(async(e,t)=>{let r=Dr,n;return n=Fr({...s8(e,t),[Mr]:F8,[Kr]:kr}),Nr(t,r,"/",void 0,n)},"se_AssumeRoleWithSAMLCommand"),FJ=E(async(e,t)=>{let r=Dr,n;return n=Fr({...a8(e,t),[Mr]:L8,[Kr]:kr}),Nr(t,r,"/",void 0,n)},"se_AssumeRoleWithWebIdentityCommand"),LJ=E(async(e,t)=>{let r=Dr,n;return n=Fr({...c8(e,t),[Mr]:U8,[Kr]:kr}),Nr(t,r,"/",void 0,n)},"se_DecodeAuthorizationMessageCommand"),UJ=E(async(e,t)=>{let r=Dr,n;return n=Fr({...d8(e,t),[Mr]:q8,[Kr]:kr}),Nr(t,r,"/",void 0,n)},"se_GetAccessKeyInfoCommand"),qJ=E(async(e,t)=>{let r=Dr,n;return n=Fr({...l8(e,t),[Mr]:j8,[Kr]:kr}),Nr(t,r,"/",void 0,n)},"se_GetCallerIdentityCommand"),jJ=E(async(e,t)=>{let r=Dr,n;return n=Fr({...u8(e,t),[Mr]:H8,[Kr]:kr}),Nr(t,r,"/",void 0,n)},"se_GetFederationTokenCommand"),HJ=E(async(e,t)=>{let r=Dr,n;return n=Fr({...p8(e,t),[Mr]:G8,[Kr]:kr}),Nr(t,r,"/",void 0,n)},"se_GetSessionTokenCommand"),GJ=E(async(e,t)=>{if(e.statusCode>=300)return Tr(e,t);let r=await(0,rr.parseXmlBody)(e.body,t),n={};return n=y8(r.AssumeRoleResult,t),{$metadata:xe(e),...n}},"de_AssumeRoleCommand"),$J=E(async(e,t)=>{if(e.statusCode>=300)return Tr(e,t);let r=await(0,rr.parseXmlBody)(e.body,t),n={};return n=h8(r.AssumeRoleWithSAMLResult,t),{$metadata:xe(e),...n}},"de_AssumeRoleWithSAMLCommand"),zJ=E(async(e,t)=>{if(e.statusCode>=300)return Tr(e,t);let r=await(0,rr.parseXmlBody)(e.body,t),n={};return n=S8(r.AssumeRoleWithWebIdentityResult,t),{$metadata:xe(e),...n}},"de_AssumeRoleWithWebIdentityCommand"),WJ=E(async(e,t)=>{if(e.statusCode>=300)return Tr(e,t);let r=await(0,rr.parseXmlBody)(e.body,t),n={};return n=E8(r.DecodeAuthorizationMessageResult,t),{$metadata:xe(e),...n}},"de_DecodeAuthorizationMessageCommand"),VJ=E(async(e,t)=>{if(e.statusCode>=300)return Tr(e,t);let r=await(0,rr.parseXmlBody)(e.body,t),n={};return n=w8(r.GetAccessKeyInfoResult,t),{$metadata:xe(e),...n}},"de_GetAccessKeyInfoCommand"),BJ=E(async(e,t)=>{if(e.statusCode>=300)return Tr(e,t);let r=await(0,rr.parseXmlBody)(e.body,t),n={};return n=x8(r.GetCallerIdentityResult,t),{$metadata:xe(e),...n}},"de_GetCallerIdentityCommand"),XJ=E(async(e,t)=>{if(e.statusCode>=300)return Tr(e,t);let r=await(0,rr.parseXmlBody)(e.body,t),n={};return n=R8(r.GetFederationTokenResult,t),{$metadata:xe(e),...n}},"de_GetFederationTokenCommand"),JJ=E(async(e,t)=>{if(e.statusCode>=300)return Tr(e,t);let r=await(0,rr.parseXmlBody)(e.body,t),n={};return n=b8(r.GetSessionTokenResult,t),{$metadata:xe(e),...n}},"de_GetSessionTokenCommand"),Tr=E(async(e,t)=>{let r={...e,body:await(0,rr.parseXmlErrorBody)(e.body,t)},n=$8(e,r.body);switch(n){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await YJ(r,t);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await r8(r,t);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await n8(r,t);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await o8(r,t);case"IDPRejectedClaim":case"com.amazonaws.sts#IDPRejectedClaimException":throw await ZJ(r,t);case"InvalidIdentityToken":case"com.amazonaws.sts#InvalidIdentityTokenException":throw await t8(r,t);case"IDPCommunicationError":case"com.amazonaws.sts#IDPCommunicationErrorException":throw await QJ(r,t);case"InvalidAuthorizationMessageException":case"com.amazonaws.sts#InvalidAuthorizationMessageException":throw await e8(r,t);default:let o=r.body;return M8({output:e,parsedBody:o.Error,errorCode:n})}},"de_CommandError"),YJ=E(async(e,t)=>{let r=e.body,n=C8(r.Error,t),o=new Zx({$metadata:xe(e),...n});return(0,I.decorateServiceException)(o,r)},"de_ExpiredTokenExceptionRes"),QJ=E(async(e,t)=>{let r=e.body,n=A8(r.Error,t),o=new gR({$metadata:xe(e),...n});return(0,I.decorateServiceException)(o,r)},"de_IDPCommunicationErrorExceptionRes"),ZJ=E(async(e,t)=>{let r=e.body,n=I8(r.Error,t),o=new uR({$metadata:xe(e),...n});return(0,I.decorateServiceException)(o,r)},"de_IDPRejectedClaimExceptionRes"),e8=E(async(e,t)=>{let r=e.body,n=O8(r.Error,t),o=new SR({$metadata:xe(e),...n});return(0,I.decorateServiceException)(o,r)},"de_InvalidAuthorizationMessageExceptionRes"),t8=E(async(e,t)=>{let r=e.body,n=T8(r.Error,t),o=new fR({$metadata:xe(e),...n});return(0,I.decorateServiceException)(o,r)},"de_InvalidIdentityTokenExceptionRes"),r8=E(async(e,t)=>{let r=e.body,n=N8(r.Error,t),o=new rR({$metadata:xe(e),...n});return(0,I.decorateServiceException)(o,r)},"de_MalformedPolicyDocumentExceptionRes"),n8=E(async(e,t)=>{let r=e.body,n=D8(r.Error,t),o=new iR({$metadata:xe(e),...n});return(0,I.decorateServiceException)(o,r)},"de_PackedPolicyTooLargeExceptionRes"),o8=E(async(e,t)=>{let r=e.body,n=k8(r.Error,t),o=new cR({$metadata:xe(e),...n});return(0,I.decorateServiceException)(o,r)},"de_RegionDisabledExceptionRes"),i8=E((e,t)=>{var r,n,o,i;let s={};if(e[tr]!=null&&(s[tr]=e[tr]),e[zn]!=null&&(s[zn]=e[zn]),e[ot]!=null){let a=fc(e[ot],t);((r=e[ot])==null?void 0:r.length)===0&&(s.PolicyArns=[]),Object.entries(a).forEach(([c,l])=>{let p=`PolicyArns.${c}`;s[p]=l})}if(e[nt]!=null&&(s[nt]=e[nt]),e[Ie]!=null&&(s[Ie]=e[Ie]),e[Vn]!=null){let a=AR(e[Vn],t);((n=e[Vn])==null?void 0:n.length)===0&&(s.Tags=[]),Object.entries(a).forEach(([c,l])=>{let p=`Tags.${c}`;s[p]=l})}if(e[Xu]!=null){let a=g8(e[Xu],t);((o=e[Xu])==null?void 0:o.length)===0&&(s.TransitiveTagKeys=[]),Object.entries(a).forEach(([c,l])=>{let p=`TransitiveTagKeys.${c}`;s[p]=l})}if(e[Ou]!=null&&(s[Ou]=e[Ou]),e[Wn]!=null&&(s[Wn]=e[Wn]),e[Bn]!=null&&(s[Bn]=e[Bn]),e[st]!=null&&(s[st]=e[st]),e[qu]!=null){let a=v8(e[qu],t);((i=e[qu])==null?void 0:i.length)===0&&(s.ProvidedContexts=[]),Object.entries(a).forEach(([c,l])=>{let p=`ProvidedContexts.${c}`;s[p]=l})}return s},"se_AssumeRoleRequest"),s8=E((e,t)=>{var r;let n={};if(e[tr]!=null&&(n[tr]=e[tr]),e[Lu]!=null&&(n[Lu]=e[Lu]),e[zu]!=null&&(n[zu]=e[zu]),e[ot]!=null){let o=fc(e[ot],t);((r=e[ot])==null?void 0:r.length)===0&&(n.PolicyArns=[]),Object.entries(o).forEach(([i,s])=>{let a=`PolicyArns.${i}`;n[a]=s})}return e[nt]!=null&&(n[nt]=e[nt]),e[Ie]!=null&&(n[Ie]=e[Ie]),n},"se_AssumeRoleWithSAMLRequest"),a8=E((e,t)=>{var r;let n={};if(e[tr]!=null&&(n[tr]=e[tr]),e[zn]!=null&&(n[zn]=e[zn]),e[Qu]!=null&&(n[Qu]=e[Qu]),e[ju]!=null&&(n[ju]=e[ju]),e[ot]!=null){let o=fc(e[ot],t);((r=e[ot])==null?void 0:r.length)===0&&(n.PolicyArns=[]),Object.entries(o).forEach(([i,s])=>{let a=`PolicyArns.${i}`;n[a]=s})}return e[nt]!=null&&(n[nt]=e[nt]),e[Ie]!=null&&(n[Ie]=e[Ie]),n},"se_AssumeRoleWithWebIdentityRequest"),c8=E((e,t)=>{let r={};return e[Tu]!=null&&(r[Tu]=e[Tu]),r},"se_DecodeAuthorizationMessageRequest"),d8=E((e,t)=>{let r={};return e[Hn]!=null&&(r[Hn]=e[Hn]),r},"se_GetAccessKeyInfoRequest"),l8=E((e,t)=>({}),"se_GetCallerIdentityRequest"),u8=E((e,t)=>{var r,n;let o={};if(e[Ku]!=null&&(o[Ku]=e[Ku]),e[nt]!=null&&(o[nt]=e[nt]),e[ot]!=null){let i=fc(e[ot],t);((r=e[ot])==null?void 0:r.length)===0&&(o.PolicyArns=[]),Object.entries(i).forEach(([s,a])=>{let c=`PolicyArns.${s}`;o[c]=a})}if(e[Ie]!=null&&(o[Ie]=e[Ie]),e[Vn]!=null){let i=AR(e[Vn],t);((n=e[Vn])==null?void 0:n.length)===0&&(o.Tags=[]),Object.entries(i).forEach(([s,a])=>{let c=`Tags.${s}`;o[c]=a})}return o},"se_GetFederationTokenRequest"),p8=E((e,t)=>{let r={};return e[Ie]!=null&&(r[Ie]=e[Ie]),e[Wn]!=null&&(r[Wn]=e[Wn]),e[Bn]!=null&&(r[Bn]=e[Bn]),r},"se_GetSessionTokenRequest"),fc=E((e,t)=>{let r={},n=1;for(let o of e){if(o===null)continue;let i=m8(o,t);Object.entries(i).forEach(([s,a])=>{r[`member.${n}.${s}`]=a}),n++}return r},"se_policyDescriptorListType"),m8=E((e,t)=>{let r={};return e[Zu]!=null&&(r[Zu]=e[Zu]),r},"se_PolicyDescriptorType"),f8=E((e,t)=>{let r={};return e[Uu]!=null&&(r[Uu]=e[Uu]),e[bu]!=null&&(r[bu]=e[bu]),r},"se_ProvidedContext"),v8=E((e,t)=>{let r={},n=1;for(let o of e){if(o===null)continue;let i=f8(o,t);Object.entries(i).forEach(([s,a])=>{r[`member.${n}.${s}`]=a}),n++}return r},"se_ProvidedContextsListType"),_8=E((e,t)=>{let r={};return e[Mu]!=null&&(r[Mu]=e[Mu]),e[Yu]!=null&&(r[Yu]=e[Yu]),r},"se_Tag"),g8=E((e,t)=>{let r={},n=1;for(let o of e)o!==null&&(r[`member.${n}`]=o,n++);return r},"se_tagKeyListType"),AR=E((e,t)=>{let r={},n=1;for(let o of e){if(o===null)continue;let i=_8(o,t);Object.entries(i).forEach(([s,a])=>{r[`member.${n}.${s}`]=a}),n++}return r},"se_tagListType"),rp=E((e,t)=>{let r={};return e[Ru]!=null&&(r[Ru]=(0,I.expectString)(e[Ru])),e[er]!=null&&(r[er]=(0,I.expectString)(e[er])),r},"de_AssumedRoleUser"),y8=E((e,t)=>{let r={};return e[Ae]!=null&&(r[Ae]=ai(e[Ae],t)),e[Zt]!=null&&(r[Zt]=rp(e[Zt],t)),e[it]!=null&&(r[it]=(0,I.strictParseInt32)(e[it])),e[st]!=null&&(r[st]=(0,I.expectString)(e[st])),r},"de_AssumeRoleResponse"),h8=E((e,t)=>{let r={};return e[Ae]!=null&&(r[Ae]=ai(e[Ae],t)),e[Zt]!=null&&(r[Zt]=rp(e[Zt],t)),e[it]!=null&&(r[it]=(0,I.strictParseInt32)(e[it])),e[Gu]!=null&&(r[Gu]=(0,I.expectString)(e[Gu])),e[Vu]!=null&&(r[Vu]=(0,I.expectString)(e[Vu])),e[ku]!=null&&(r[ku]=(0,I.expectString)(e[ku])),e[$n]!=null&&(r[$n]=(0,I.expectString)(e[$n])),e[Fu]!=null&&(r[Fu]=(0,I.expectString)(e[Fu])),e[st]!=null&&(r[st]=(0,I.expectString)(e[st])),r},"de_AssumeRoleWithSAMLResponse"),S8=E((e,t)=>{let r={};return e[Ae]!=null&&(r[Ae]=ai(e[Ae],t)),e[Wu]!=null&&(r[Wu]=(0,I.expectString)(e[Wu])),e[Zt]!=null&&(r[Zt]=rp(e[Zt],t)),e[it]!=null&&(r[it]=(0,I.strictParseInt32)(e[it])),e[Hu]!=null&&(r[Hu]=(0,I.expectString)(e[Hu])),e[$n]!=null&&(r[$n]=(0,I.expectString)(e[$n])),e[st]!=null&&(r[st]=(0,I.expectString)(e[st])),r},"de_AssumeRoleWithWebIdentityResponse"),ai=E((e,t)=>{let r={};return e[Hn]!=null&&(r[Hn]=(0,I.expectString)(e[Hn])),e[$u]!=null&&(r[$u]=(0,I.expectString)(e[$u])),e[Bu]!=null&&(r[Bu]=(0,I.expectString)(e[Bu])),e[Iu]!=null&&(r[Iu]=(0,I.expectNonNull)((0,I.parseRfc3339DateTimeWithOffset)(e[Iu]))),r},"de_Credentials"),E8=E((e,t)=>{let r={};return e[Au]!=null&&(r[Au]=(0,I.expectString)(e[Au])),r},"de_DecodeAuthorizationMessageResponse"),C8=E((e,t)=>{let r={};return e[oe]!=null&&(r[oe]=(0,I.expectString)(e[oe])),r},"de_ExpiredTokenException"),P8=E((e,t)=>{let r={};return e[Du]!=null&&(r[Du]=(0,I.expectString)(e[Du])),e[er]!=null&&(r[er]=(0,I.expectString)(e[er])),r},"de_FederatedUser"),w8=E((e,t)=>{let r={};return e[Gn]!=null&&(r[Gn]=(0,I.expectString)(e[Gn])),r},"de_GetAccessKeyInfoResponse"),x8=E((e,t)=>{let r={};return e[Ju]!=null&&(r[Ju]=(0,I.expectString)(e[Ju])),e[Gn]!=null&&(r[Gn]=(0,I.expectString)(e[Gn])),e[er]!=null&&(r[er]=(0,I.expectString)(e[er])),r},"de_GetCallerIdentityResponse"),R8=E((e,t)=>{let r={};return e[Ae]!=null&&(r[Ae]=ai(e[Ae],t)),e[Nu]!=null&&(r[Nu]=P8(e[Nu],t)),e[it]!=null&&(r[it]=(0,I.strictParseInt32)(e[it])),r},"de_GetFederationTokenResponse"),b8=E((e,t)=>{let r={};return e[Ae]!=null&&(r[Ae]=ai(e[Ae],t)),r},"de_GetSessionTokenResponse"),A8=E((e,t)=>{let r={};return e[oe]!=null&&(r[oe]=(0,I.expectString)(e[oe])),r},"de_IDPCommunicationErrorException"),I8=E((e,t)=>{let r={};return e[oe]!=null&&(r[oe]=(0,I.expectString)(e[oe])),r},"de_IDPRejectedClaimException"),O8=E((e,t)=>{let r={};return e[oe]!=null&&(r[oe]=(0,I.expectString)(e[oe])),r},"de_InvalidAuthorizationMessageException"),T8=E((e,t)=>{let r={};return e[oe]!=null&&(r[oe]=(0,I.expectString)(e[oe])),r},"de_InvalidIdentityTokenException"),N8=E((e,t)=>{let r={};return e[oe]!=null&&(r[oe]=(0,I.expectString)(e[oe])),r},"de_MalformedPolicyDocumentException"),D8=E((e,t)=>{let r={};return e[oe]!=null&&(r[oe]=(0,I.expectString)(e[oe])),r},"de_PackedPolicyTooLargeException"),k8=E((e,t)=>{let r={};return e[oe]!=null&&(r[oe]=(0,I.expectString)(e[oe])),r},"de_RegionDisabledException"),xe=E(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),M8=(0,I.withBaseException)(Dt),Nr=E(async(e,t,r,n,o)=>{let{hostname:i,protocol:s="https",port:a,path:c}=await e.endpoint(),l={protocol:s,hostname:i,port:a,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+r:c+r,headers:t};return n!==void 0&&(l.hostname=n),o!==void 0&&(l.body=o),new kJ.HttpRequest(l)},"buildHttpRpcRequest"),Dr={"content-type":"application/x-www-form-urlencoded"},kr="2011-06-15",Mr="Action",Hn="AccessKeyId",K8="AssumeRole",Ru="AssumedRoleId",Zt="AssumedRoleUser",F8="AssumeRoleWithSAML",L8="AssumeRoleWithWebIdentity",Gn="Account",er="Arn",$n="Audience",Ae="Credentials",bu="ContextAssertion",U8="DecodeAuthorizationMessage",Au="DecodedMessage",Ie="DurationSeconds",Iu="Expiration",Ou="ExternalId",Tu="EncodedMessage",Nu="FederatedUser",Du="FederatedUserId",q8="GetAccessKeyInfo",j8="GetCallerIdentity",H8="GetFederationToken",G8="GetSessionToken",ku="Issuer",Mu="Key",Ku="Name",Fu="NameQualifier",nt="Policy",ot="PolicyArns",Lu="PrincipalArn",Uu="ProviderArn",qu="ProvidedContexts",ju="ProviderId",it="PackedPolicySize",Hu="Provider",tr="RoleArn",zn="RoleSessionName",Gu="Subject",$u="SecretAccessKey",zu="SAMLAssertion",Wu="SubjectFromWebIdentityToken",st="SourceIdentity",Wn="SerialNumber",Vu="SubjectType",Bu="SessionToken",Vn="Tags",Bn="TokenCode",Xu="TransitiveTagKeys",Ju="UserId",Kr="Version",Yu="Value",Qu="WebIdentityToken",Zu="arn",oe="message",Fr=E(e=>Object.entries(e).map(([t,r])=>(0,I.extendedEncodeURIComponent)(t)+"="+(0,I.extendedEncodeURIComponent)(r)).join("&"),"buildFormUrlencodedString"),$8=E((e,t)=>{var r;if(((r=t.Error)==null?void 0:r.Code)!==void 0)return t.Error.Code;if(e.statusCode==404)return"NotFound"},"loadQueryErrorCode"),IR=class extends I.Command.classBuilder().ep({...DJ.commonParams}).m(function(t,r,n,o){return[(0,Or.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Ir.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRole",{}).n("STSClient","AssumeRoleCommand").f(void 0,ER).ser(MJ).de(GJ).build(){};E(IR,"AssumeRoleCommand");var np=IR,z8=Et(),OR=class extends I.Command.classBuilder().ep({...z8.commonParams}).m(function(t,r,n,o){return[(0,Or.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Ir.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithSAML",{}).n("STSClient","AssumeRoleWithSAMLCommand").f(CR,PR).ser(KJ).de($J).build(){};E(OR,"AssumeRoleWithSAMLCommand");var TR=OR,W8=Et(),NR=class extends I.Command.classBuilder().ep({...W8.commonParams}).m(function(t,r,n,o){return[(0,Or.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Ir.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithWebIdentity",{}).n("STSClient","AssumeRoleWithWebIdentityCommand").f(wR,xR).ser(FJ).de(zJ).build(){};E(NR,"AssumeRoleWithWebIdentityCommand");var op=NR,V8=Et(),DR=class extends I.Command.classBuilder().ep({...V8.commonParams}).m(function(t,r,n,o){return[(0,Or.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Ir.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","DecodeAuthorizationMessage",{}).n("STSClient","DecodeAuthorizationMessageCommand").f(void 0,void 0).ser(LJ).de(WJ).build(){};E(DR,"DecodeAuthorizationMessageCommand");var kR=DR,B8=Et(),MR=class extends I.Command.classBuilder().ep({...B8.commonParams}).m(function(t,r,n,o){return[(0,Or.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Ir.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","GetAccessKeyInfo",{}).n("STSClient","GetAccessKeyInfoCommand").f(void 0,void 0).ser(UJ).de(VJ).build(){};E(MR,"GetAccessKeyInfoCommand");var KR=MR,X8=Et(),FR=class extends I.Command.classBuilder().ep({...X8.commonParams}).m(function(t,r,n,o){return[(0,Or.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Ir.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","GetCallerIdentity",{}).n("STSClient","GetCallerIdentityCommand").f(void 0,void 0).ser(qJ).de(BJ).build(){};E(FR,"GetCallerIdentityCommand");var LR=FR,J8=Et(),UR=class extends I.Command.classBuilder().ep({...J8.commonParams}).m(function(t,r,n,o){return[(0,Or.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Ir.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","GetFederationToken",{}).n("STSClient","GetFederationTokenCommand").f(void 0,RR).ser(jJ).de(XJ).build(){};E(UR,"GetFederationTokenCommand");var qR=UR,Y8=Et(),jR=class extends I.Command.classBuilder().ep({...Y8.commonParams}).m(function(t,r,n,o){return[(0,Or.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Ir.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","GetSessionToken",{}).n("STSClient","GetSessionTokenCommand").f(void 0,bR).ser(HJ).de(JJ).build(){};E(jR,"GetSessionTokenCommand");var HR=jR,Q8=ii(),Z8={AssumeRoleCommand:np,AssumeRoleWithSAMLCommand:TR,AssumeRoleWithWebIdentityCommand:op,DecodeAuthorizationMessageCommand:kR,GetAccessKeyInfoCommand:KR,GetCallerIdentityCommand:LR,GetFederationTokenCommand:qR,GetSessionTokenCommand:HR},GR=class extends Q8.STSClient{};E(GR,"STS");var $R=GR;(0,I.createAggregatedClient)(Z8,$R);var eY=Et(),tY=Pu(),Bx="us-east-1",zR=E(async(e,t,r)=>{var n;let o=typeof e=="function"?await e():e,i=typeof t=="function"?await t():t;return(n=r?.debug)==null||n.call(r,"@aws-sdk/client-sts::resolveRegion","accepting first of:",`${o} (provider)`,`${i} (parent client)`,`${Bx} (STS default)`),o??i??Bx},"resolveRegion"),rY=E((e,t)=>{let r,n;return async(o,i)=>{var s,a,c;if(n=o,!r){let{logger:p=(s=e?.parentClientConfig)==null?void 0:s.logger,region:m,requestHandler:f=(a=e?.parentClientConfig)==null?void 0:a.requestHandler,credentialProviderLogger:v}=e,g=await zR(m,(c=e?.parentClientConfig)==null?void 0:c.region,v);r=new t({credentialDefaultProvider:()=>async()=>n,region:g,requestHandler:f,logger:p})}let{Credentials:l}=await r.send(new np(i));if(!l||!l.AccessKeyId||!l.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRole call with role ${i.RoleArn}`);return{accessKeyId:l.AccessKeyId,secretAccessKey:l.SecretAccessKey,sessionToken:l.SessionToken,expiration:l.Expiration,credentialScope:l.CredentialScope}}},"getDefaultRoleAssumer"),nY=E((e,t)=>{let r;return async n=>{var o,i,s;if(!r){let{logger:c=(o=e?.parentClientConfig)==null?void 0:o.logger,region:l,requestHandler:p=(i=e?.parentClientConfig)==null?void 0:i.requestHandler,credentialProviderLogger:m}=e,f=await zR(l,(s=e?.parentClientConfig)==null?void 0:s.region,m);r=new t({region:f,requestHandler:p,logger:c})}let{Credentials:a}=await r.send(new op(n));if(!a||!a.AccessKeyId||!a.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${n.RoleArn}`);return{accessKeyId:a.AccessKeyId,secretAccessKey:a.SecretAccessKey,sessionToken:a.SessionToken,expiration:a.Expiration,credentialScope:a.CredentialScope}}},"getDefaultRoleAssumerWithWebIdentity"),WR=ii(),VR=E((e,t)=>{var r;return t?(r=class extends e{constructor(n){super(n);for(let o of t)this.middlewareStack.use(o)}},E(r,"CustomizableSTSClient"),r):e},"getCustomizableStsClientCtor"),BR=E((e={},t)=>rY(e,VR(WR.STSClient,t)),"getDefaultRoleAssumer"),XR=E((e={},t)=>nY(e,VR(WR.STSClient,t)),"getDefaultRoleAssumerWithWebIdentity"),oY=E(e=>t=>e({roleAssumer:BR(t),roleAssumerWithWebIdentity:XR(t),...t}),"decorateDefaultCredentialProvider")});var dp=_((ule,QR)=>{"use strict";var vc=Object.defineProperty,iY=Object.getOwnPropertyDescriptor,sY=Object.getOwnPropertyNames,aY=Object.prototype.hasOwnProperty,cp=(e,t)=>vc(e,"name",{value:t,configurable:!0}),cY=(e,t)=>{for(var r in t)vc(e,r,{get:t[r],enumerable:!0})},dY=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of sY(t))!aY.call(e,o)&&o!==r&&vc(e,o,{get:()=>t[o],enumerable:!(n=iY(t,o))||n.enumerable});return e},lY=e=>dY(vc({},"__esModule",{value:!0}),e),YR={};cY(YR,{fromProcess:()=>vY});QR.exports=lY(YR);var JR=je(),ap=te(),uY=require("child_process"),pY=require("util"),mY=cp((e,t)=>{if(t.Version!==1)throw Error(`Profile ${e} credential_process did not return Version 1.`);if(t.AccessKeyId===void 0||t.SecretAccessKey===void 0)throw Error(`Profile ${e} credential_process returned invalid credentials.`);if(t.Expiration){let r=new Date;if(new Date(t.Expiration)<r)throw Error(`Profile ${e} credential_process returned expired credentials.`)}return{accessKeyId:t.AccessKeyId,secretAccessKey:t.SecretAccessKey,...t.SessionToken&&{sessionToken:t.SessionToken},...t.Expiration&&{expiration:new Date(t.Expiration)},...t.CredentialScope&&{credentialScope:t.CredentialScope}}},"getValidatedProcessCredentials"),fY=cp(async(e,t)=>{let r=t[e];if(t[e]){let n=r.credential_process;if(n!==void 0){let o=(0,pY.promisify)(uY.exec);try{let{stdout:i}=await o(n),s;try{s=JSON.parse(i.trim())}catch{throw Error(`Profile ${e} credential_process returned invalid JSON.`)}return mY(e,s)}catch(i){throw new ap.CredentialsProviderError(i.message)}}else throw new ap.CredentialsProviderError(`Profile ${e} did not contain credential_process.`)}else throw new ap.CredentialsProviderError(`Profile ${e} could not be found in shared credentials file.`)},"resolveProcessCredentials"),vY=cp((e={})=>async()=>{var t;(t=e.logger)==null||t.debug("@aws-sdk/credential-provider-process","fromProcess");let r=await(0,JR.parseKnownFiles)(e);return fY((0,JR.getProfileName)(e),r)},"fromProcess")});var lp=_(kt=>{"use strict";var _Y=kt&&kt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),gY=kt&&kt.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),yY=kt&&kt.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&_Y(t,e,r);return gY(t,e),t};Object.defineProperty(kt,"__esModule",{value:!0});kt.fromWebToken=void 0;var hY=e=>async()=>{var t;(t=e.logger)===null||t===void 0||t.debug("@aws-sdk/credential-provider-web-identity","fromWebToken");let{roleArn:r,roleSessionName:n,webIdentityToken:o,providerId:i,policyArns:s,policy:a,durationSeconds:c}=e,{roleAssumerWithWebIdentity:l}=e;if(!l){let{getDefaultRoleAssumerWithWebIdentity:p}=await Promise.resolve().then(()=>yY(sp()));l=p({...e.clientConfig,credentialProviderLogger:e.logger,parentClientConfig:e.parentClientConfig},e.clientPlugins)}return l({RoleArn:r,RoleSessionName:n??`aws-sdk-js-session-${Date.now()}`,WebIdentityToken:o,ProviderId:i,PolicyArns:s,Policy:a,DurationSeconds:c})};kt.fromWebToken=hY});var ZR=_(_c=>{"use strict";Object.defineProperty(_c,"__esModule",{value:!0});_c.fromTokenFile=void 0;var SY=te(),EY=require("fs"),CY=lp(),PY="AWS_WEB_IDENTITY_TOKEN_FILE",wY="AWS_ROLE_ARN",xY="AWS_ROLE_SESSION_NAME",RY=(e={})=>async()=>{var t,r,n,o;(t=e.logger)===null||t===void 0||t.debug("@aws-sdk/credential-provider-web-identity","fromTokenFile");let i=(r=e?.webIdentityTokenFile)!==null&&r!==void 0?r:process.env[PY],s=(n=e?.roleArn)!==null&&n!==void 0?n:process.env[wY],a=(o=e?.roleSessionName)!==null&&o!==void 0?o:process.env[xY];if(!i||!s)throw new SY.CredentialsProviderError("Web identity configuration not specified");return(0,CY.fromWebToken)({...e,webIdentityToken:(0,EY.readFileSync)(i,{encoding:"ascii"}),roleArn:s,roleSessionName:a})()};_c.fromTokenFile=RY});var mp=_((fle,gc)=>{var eb=Object.defineProperty,bY=Object.getOwnPropertyDescriptor,AY=Object.getOwnPropertyNames,IY=Object.prototype.hasOwnProperty,up=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of AY(t))!IY.call(e,o)&&o!==r&&eb(e,o,{get:()=>t[o],enumerable:!(n=bY(t,o))||n.enumerable});return e},tb=(e,t,r)=>(up(e,t,"default"),r&&up(r,t,"default")),OY=e=>up(eb({},"__esModule",{value:!0}),e),pp={};gc.exports=OY(pp);tb(pp,ZR(),gc.exports);tb(pp,lp(),gc.exports)});var cb=_((vle,ab)=>{"use strict";var TY=Object.create,ci=Object.defineProperty,NY=Object.getOwnPropertyDescriptor,DY=Object.getOwnPropertyNames,kY=Object.getPrototypeOf,MY=Object.prototype.hasOwnProperty,Oe=(e,t)=>ci(e,"name",{value:t,configurable:!0}),KY=(e,t)=>{for(var r in t)ci(e,r,{get:t[r],enumerable:!0})},ob=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of DY(t))!MY.call(e,o)&&o!==r&&ci(e,o,{get:()=>t[o],enumerable:!(n=NY(t,o))||n.enumerable});return e},ln=(e,t,r)=>(r=e!=null?TY(kY(e)):{},ob(t||!e||!e.__esModule?ci(r,"default",{value:e,enumerable:!0}):r,e)),FY=e=>ob(ci({},"__esModule",{value:!0}),e),ib={};KY(ib,{fromIni:()=>XY});ab.exports=FY(ib);var fp=je(),yc=te(),LY=Oe((e,t)=>{let r={EcsContainer:n=>Promise.resolve().then(()=>ln(Sr())).then(({fromContainerMetadata:o})=>o(n)),Ec2InstanceMetadata:n=>Promise.resolve().then(()=>ln(Sr())).then(({fromInstanceMetadata:o})=>o(n)),Environment:n=>Promise.resolve().then(()=>ln(su())).then(({fromEnv:o})=>o(n))};if(e in r)return r[e];throw new yc.CredentialsProviderError(`Unsupported credential source in profile ${t}. Got ${e}, expected EcsContainer or Ec2InstanceMetadata or Environment.`)},"resolveCredentialSource"),UY=Oe(e=>!!e&&typeof e=="object"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1&&["undefined","string"].indexOf(typeof e.external_id)>-1&&["undefined","string"].indexOf(typeof e.mfa_serial)>-1&&(qY(e)||jY(e)),"isAssumeRoleProfile"),qY=Oe(e=>typeof e.source_profile=="string"&&typeof e.credential_source>"u","isAssumeRoleWithSourceProfile"),jY=Oe(e=>typeof e.credential_source=="string"&&typeof e.source_profile>"u","isAssumeRoleWithProviderProfile"),HY=Oe(async(e,t,r,n={})=>{var o;(o=r.logger)==null||o.debug("@aws-sdk/credential-provider-ini","resolveAssumeRoleCredentials (STS)");let i=t[e];if(!r.roleAssumer){let{getDefaultRoleAssumer:m}=await Promise.resolve().then(()=>ln(sp()));r.roleAssumer=m({...r.clientConfig,credentialProviderLogger:r.logger,parentClientConfig:r?.parentClientConfig},r.clientPlugins)}let{source_profile:s}=i;if(s&&s in n)throw new yc.CredentialsProviderError(`Detected a cycle attempting to resolve credentials for profile ${(0,fp.getProfileName)(r)}. Profiles visited: `+Object.keys(n).join(", "),!1);let a=s?sb(s,t,r,{...n,[s]:!0}):(await LY(i.credential_source,e)(r))(),c={RoleArn:i.role_arn,RoleSessionName:i.role_session_name||`aws-sdk-js-${Date.now()}`,ExternalId:i.external_id,DurationSeconds:parseInt(i.duration_seconds||"3600",10)},{mfa_serial:l}=i;if(l){if(!r.mfaCodeProvider)throw new yc.CredentialsProviderError(`Profile ${e} requires multi-factor authentication, but no MFA code callback was provided.`,!1);c.SerialNumber=l,c.TokenCode=await r.mfaCodeProvider(l)}let p=await a;return r.roleAssumer(p,c)},"resolveAssumeRoleCredentials"),GY=Oe(e=>!!e&&typeof e=="object"&&typeof e.credential_process=="string","isProcessProfile"),$Y=Oe(async(e,t)=>Promise.resolve().then(()=>ln(dp())).then(({fromProcess:r})=>r({...e,profile:t})()),"resolveProcessCredentials"),zY=Oe(async(e,t={})=>{let{fromSSO:r}=await Promise.resolve().then(()=>ln(gu()));return r({profile:e,logger:t.logger})()},"resolveSsoCredentials"),WY=Oe(e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),"isSsoProfile"),rb=Oe(e=>!!e&&typeof e=="object"&&typeof e.aws_access_key_id=="string"&&typeof e.aws_secret_access_key=="string"&&["undefined","string"].indexOf(typeof e.aws_session_token)>-1,"isStaticCredsProfile"),nb=Oe((e,t)=>{var r;return(r=t?.logger)==null||r.debug("@aws-sdk/credential-provider-ini","resolveStaticCredentials"),Promise.resolve({accessKeyId:e.aws_access_key_id,secretAccessKey:e.aws_secret_access_key,sessionToken:e.aws_session_token,credentialScope:e.aws_credential_scope})},"resolveStaticCredentials"),VY=Oe(e=>!!e&&typeof e=="object"&&typeof e.web_identity_token_file=="string"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1,"isWebIdentityProfile"),BY=Oe(async(e,t)=>Promise.resolve().then(()=>ln(mp())).then(({fromTokenFile:r})=>r({webIdentityTokenFile:e.web_identity_token_file,roleArn:e.role_arn,roleSessionName:e.role_session_name,roleAssumerWithWebIdentity:t.roleAssumerWithWebIdentity,logger:t.logger,parentClientConfig:t.parentClientConfig})()),"resolveWebIdentityCredentials"),sb=Oe(async(e,t,r,n={})=>{let o=t[e];if(Object.keys(n).length>0&&rb(o))return nb(o,r);if(UY(o))return HY(e,t,r,n);if(rb(o))return nb(o,r);if(VY(o))return BY(o,r);if(GY(o))return $Y(r,e);if(WY(o))return await zY(e,r);throw new yc.CredentialsProviderError(`Profile ${e} could not be found or parsed in shared credentials file.`)},"resolveProfileData"),XY=Oe((e={})=>async()=>{var t;(t=e.logger)==null||t.debug("@aws-sdk/credential-provider-ini","fromIni");let r=await(0,fp.parseKnownFiles)(e);return sb((0,fp.getProfileName)(e),r,e)},"fromIni")});var Cu=_((_le,mb)=>{"use strict";var JY=Object.create,di=Object.defineProperty,YY=Object.getOwnPropertyDescriptor,QY=Object.getOwnPropertyNames,ZY=Object.getPrototypeOf,e7=Object.prototype.hasOwnProperty,hc=(e,t)=>di(e,"name",{value:t,configurable:!0}),t7=(e,t)=>{for(var r in t)di(e,r,{get:t[r],enumerable:!0})},db=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of QY(t))!e7.call(e,o)&&o!==r&&di(e,o,{get:()=>t[o],enumerable:!(n=YY(t,o))||n.enumerable});return e},Jn=(e,t,r)=>(r=e!=null?JY(ZY(e)):{},db(t||!e||!e.__esModule?di(r,"default",{value:e,enumerable:!0}):r,e)),r7=e=>db(di({},"__esModule",{value:!0}),e),lb={};t7(lb,{credentialsTreatedAsExpired:()=>pb,credentialsWillNeedRefresh:()=>ub,defaultProvider:()=>a7});mb.exports=r7(lb);var n7=su(),o7=je(),Yn=te(),i7="AWS_EC2_METADATA_DISABLED",s7=hc(async e=>{var t,r;let{ENV_CMDS_FULL_URI:n,ENV_CMDS_RELATIVE_URI:o,fromContainerMetadata:i,fromInstanceMetadata:s}=await Promise.resolve().then(()=>Jn(Sr()));if(process.env[o]||process.env[n]){(t=e.logger)==null||t.debug("@aws-sdk/credential-provider-node","remoteProvider::fromHttp/fromContainerMetadata");let{fromHttp:a}=await Promise.resolve().then(()=>Jn(pw()));return(0,Yn.chain)(a(e),i(e))}return process.env[i7]?async()=>{throw new Yn.CredentialsProviderError("EC2 Instance Metadata Service access disabled")}:((r=e.logger)==null||r.debug("@aws-sdk/credential-provider-node","remoteProvider::fromInstanceMetadata"),s(e))},"remoteProvider"),a7=hc((e={})=>(0,Yn.memoize)((0,Yn.chain)(...e.profile||process.env[o7.ENV_PROFILE]?[]:[async()=>{var t;return(t=e.logger)==null||t.debug("@aws-sdk/credential-provider-node","defaultProvider::fromEnv"),(0,n7.fromEnv)(e)()}],async()=>{var t;(t=e.logger)==null||t.debug("@aws-sdk/credential-provider-node","defaultProvider::fromSSO");let{ssoStartUrl:r,ssoAccountId:n,ssoRegion:o,ssoRoleName:i,ssoSession:s}=e;if(!r&&!n&&!o&&!i&&!s)throw new Yn.CredentialsProviderError("Skipping SSO provider in default chain (inputs do not include SSO fields).");let{fromSSO:a}=await Promise.resolve().then(()=>Jn(gu()));return a(e)()},async()=>{var t;(t=e.logger)==null||t.debug("@aws-sdk/credential-provider-node","defaultProvider::fromIni");let{fromIni:r}=await Promise.resolve().then(()=>Jn(cb()));return r(e)()},async()=>{var t;(t=e.logger)==null||t.debug("@aws-sdk/credential-provider-node","defaultProvider::fromProcess");let{fromProcess:r}=await Promise.resolve().then(()=>Jn(dp()));return r(e)()},async()=>{var t;(t=e.logger)==null||t.debug("@aws-sdk/credential-provider-node","defaultProvider::fromTokenFile");let{fromTokenFile:r}=await Promise.resolve().then(()=>Jn(mp()));return r(e)()},async()=>{var t;return(t=e.logger)==null||t.debug("@aws-sdk/credential-provider-node","defaultProvider::remoteProvider"),(await s7(e))()},async()=>{throw new Yn.CredentialsProviderError("Could not load credentials from any providers",!1)}),pb,ub),"defaultProvider"),ub=hc(e=>e?.expiration!==void 0,"credentialsWillNeedRefresh"),pb=hc(e=>e?.expiration!==void 0&&e.expiration.getTime()-Date.now()<3e5,"credentialsTreatedAsExpired")});var Ab=_(Sc=>{"use strict";Object.defineProperty(Sc,"__esModule",{value:!0});Sc.ruleSet=void 0;var wb="required",ct="fn",dt="argv",eo="ref",fb=!0,vb="isSet",li="booleanEquals",Qn="error",Zn="endpoint",nr="tree",vp="PartitionResult",_p="getAttr",_b={[wb]:!1,type:"String"},gb={[wb]:!0,default:!1,type:"Boolean"},yb={[eo]:"Endpoint"},xb={[ct]:li,[dt]:[{[eo]:"UseFIPS"},!0]},Rb={[ct]:li,[dt]:[{[eo]:"UseDualStack"},!0]},at={},hb={[ct]:_p,[dt]:[{[eo]:vp},"supportsFIPS"]},bb={[eo]:vp},Sb={[ct]:li,[dt]:[!0,{[ct]:_p,[dt]:[bb,"supportsDualStack"]}]},Eb=[xb],Cb=[Rb],Pb=[{[eo]:"Region"}],c7={version:"1.0",parameters:{Region:_b,UseDualStack:gb,UseFIPS:gb,Endpoint:_b},rules:[{conditions:[{[ct]:vb,[dt]:[yb]}],rules:[{conditions:Eb,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Qn},{conditions:Cb,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Qn},{endpoint:{url:yb,properties:at,headers:at},type:Zn}],type:nr},{conditions:[{[ct]:vb,[dt]:Pb}],rules:[{conditions:[{[ct]:"aws.partition",[dt]:Pb,assign:vp}],rules:[{conditions:[xb,Rb],rules:[{conditions:[{[ct]:li,[dt]:[fb,hb]},Sb],rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:at,headers:at},type:Zn}],type:nr},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Qn}],type:nr},{conditions:Eb,rules:[{conditions:[{[ct]:li,[dt]:[hb,fb]}],rules:[{conditions:[{[ct]:"stringEquals",[dt]:[{[ct]:_p,[dt]:[bb,"name"]},"aws-us-gov"]}],endpoint:{url:"https://oidc.{Region}.amazonaws.com",properties:at,headers:at},type:Zn},{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dnsSuffix}",properties:at,headers:at},type:Zn}],type:nr},{error:"FIPS is enabled but this partition does not support FIPS",type:Qn}],type:nr},{conditions:Cb,rules:[{conditions:[Sb],rules:[{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:at,headers:at},type:Zn}],type:nr},{error:"DualStack is enabled but this partition does not support DualStack",type:Qn}],type:nr},{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dnsSuffix}",properties:at,headers:at},type:Zn}],type:nr}],type:nr},{error:"Invalid Configuration: Missing Region",type:Qn}]};Sc.ruleSet=c7});var Ob=_(Ec=>{"use strict";Object.defineProperty(Ec,"__esModule",{value:!0});Ec.defaultEndpointResolver=void 0;var d7=Xo(),Ib=Gt(),l7=Ab(),u7=(e,t={})=>(0,Ib.resolveEndpoint)(l7.ruleSet,{endpointParams:e,logger:t.logger});Ec.defaultEndpointResolver=u7;Ib.customEndpointFunctions.aws=d7.awsEndpointFunctions});var Db=_(Cc=>{"use strict";Object.defineProperty(Cc,"__esModule",{value:!0});Cc.getRuntimeConfig=void 0;var p7=Ge(),m7=Pe(),f7=z(),v7=$t(),Tb=vr(),Nb=Fe(),_7=iu(),g7=Ob(),y7=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??Tb.fromBase64,base64Encoder:e?.base64Encoder??Tb.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??g7.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??_7.defaultSSOOIDCHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new p7.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new m7.NoAuthSigner}],logger:e?.logger??new f7.NoOpLogger,serviceId:e?.serviceId??"SSO OIDC",urlParser:e?.urlParser??v7.parseUrl,utf8Decoder:e?.utf8Decoder??Nb.fromUtf8,utf8Encoder:e?.utf8Encoder??Nb.toUtf8});Cc.getRuntimeConfig=y7});var Kb=_(wc=>{"use strict";Object.defineProperty(wc,"__esModule",{value:!0});wc.getRuntimeConfig=void 0;var h7=(Bt(),bt(Vt)),S7=h7.__importDefault(QP()),E7=Ge(),C7=Cu(),P7=qa(),Pc=Ke(),w7=on(),kb=Le(),ui=Xe(),Mb=It(),x7=sn(),R7=mr(),b7=Db(),A7=z(),I7=an(),O7=z(),T7=e=>{(0,O7.emitWarningIfUnsupportedVersion)(process.version);let t=(0,I7.resolveDefaultsModeConfig)(e),r=()=>t().then(A7.loadConfigsForDefaultMode),n=(0,b7.getRuntimeConfig)(e);return(0,E7.emitWarningIfUnsupportedVersion)(process.version),{...n,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??x7.calculateBodyLength,credentialDefaultProvider:e?.credentialDefaultProvider??C7.defaultProvider,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,P7.defaultUserAgent)({serviceId:n.serviceId,clientVersion:S7.default.version}),maxAttempts:e?.maxAttempts??(0,ui.loadConfig)(kb.NODE_MAX_ATTEMPT_CONFIG_OPTIONS),region:e?.region??(0,ui.loadConfig)(Pc.NODE_REGION_CONFIG_OPTIONS,Pc.NODE_REGION_CONFIG_FILE_OPTIONS),requestHandler:Mb.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,ui.loadConfig)({...kb.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||R7.DEFAULT_RETRY_MODE}),sha256:e?.sha256??w7.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??Mb.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,ui.loadConfig)(Pc.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS),useFipsEndpoint:e?.useFipsEndpoint??(0,ui.loadConfig)(Pc.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS)}};wc.getRuntimeConfig=T7});var ni=_((Ale,XA)=>{"use strict";var Rc=Object.defineProperty,N7=Object.getOwnPropertyDescriptor,D7=Object.getOwnPropertyNames,k7=Object.prototype.hasOwnProperty,T=(e,t)=>Rc(e,"name",{value:t,configurable:!0}),M7=(e,t)=>{for(var r in t)Rc(e,r,{get:t[r],enumerable:!0})},K7=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of D7(t))!k7.call(e,o)&&o!==r&&Rc(e,o,{get:()=>t[o],enumerable:!(n=N7(t,o))||n.enumerable});return e},F7=e=>K7(Rc({},"__esModule",{value:!0}),e),Gb={};M7(Gb,{AccessDeniedException:()=>Jb,AuthorizationPendingException:()=>Zb,CreateTokenCommand:()=>qA,CreateTokenRequestFilterSensitiveLog:()=>DA,CreateTokenResponseFilterSensitiveLog:()=>kA,CreateTokenWithIAMCommand:()=>HA,CreateTokenWithIAMRequestFilterSensitiveLog:()=>MA,CreateTokenWithIAMResponseFilterSensitiveLog:()=>KA,ExpiredTokenException:()=>rA,InternalServerException:()=>iA,InvalidClientException:()=>cA,InvalidClientMetadataException:()=>NA,InvalidGrantException:()=>uA,InvalidRequestException:()=>fA,InvalidRequestRegionException:()=>IA,InvalidScopeException:()=>gA,RegisterClientCommand:()=>$A,RegisterClientResponseFilterSensitiveLog:()=>FA,SSOOIDC:()=>BA,SSOOIDCClient:()=>zb,SSOOIDCServiceException:()=>Te,SlowDownException:()=>SA,StartDeviceAuthorizationCommand:()=>WA,StartDeviceAuthorizationRequestFilterSensitiveLog:()=>LA,UnauthorizedClientException:()=>PA,UnsupportedGrantTypeException:()=>RA,__Client:()=>y.Client});XA.exports=F7(Gb);var Fb=Pa(),L7=xa(),U7=ba(),Lb=Ta(),q7=Ke(),un=Pe(),j7=tn(),pi=At(),Ub=Le(),qb=iu(),H7=T(e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"sso-oauth"}),"resolveClientEndpointParameters"),bc={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},G7=Kb(),jb=Va(),Hb=ae(),y=z(),$7=T(e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(o){let i=t.findIndex(s=>s.schemeId===o.schemeId);i===-1?t.push(o):t.splice(i,1,o)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}},"getHttpAuthExtensionConfiguration"),z7=T(e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),"resolveHttpAuthRuntimeConfig"),xc=T(e=>e,"asPartial"),W7=T((e,t)=>{let r={...xc((0,jb.getAwsRegionExtensionConfiguration)(e)),...xc((0,y.getDefaultExtensionConfiguration)(e)),...xc((0,Hb.getHttpHandlerExtensionConfiguration)(e)),...xc($7(e))};return t.forEach(n=>n.configure(r)),{...e,...(0,jb.resolveAwsRegionExtensionConfiguration)(r),...(0,y.resolveDefaultRuntimeConfig)(r),...(0,Hb.resolveHttpHandlerRuntimeConfig)(r),...z7(r)}},"resolveRuntimeExtensions"),$b=class extends y.Client{constructor(...[t]){let r=(0,G7.getRuntimeConfig)(t||{}),n=H7(r),o=(0,q7.resolveRegionConfig)(n),i=(0,pi.resolveEndpointConfig)(o),s=(0,Ub.resolveRetryConfig)(i),a=(0,Fb.resolveHostHeaderConfig)(s),c=(0,Lb.resolveUserAgentConfig)(a),l=(0,qb.resolveHttpAuthSchemeConfig)(c),p=W7(l,t?.extensions||[]);super(p),this.config=p,this.middlewareStack.use((0,Ub.getRetryPlugin)(this.config)),this.middlewareStack.use((0,j7.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,Fb.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,L7.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,U7.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,Lb.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,un.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:this.getDefaultHttpAuthSchemeParametersProvider(),identityProviderConfigProvider:this.getIdentityProviderConfigProvider()})),this.middlewareStack.use((0,un.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}getDefaultHttpAuthSchemeParametersProvider(){return qb.defaultSSOOIDCHttpAuthSchemeParametersProvider}getIdentityProviderConfigProvider(){return async t=>new un.DefaultIdentityProviderConfig({"aws.auth#sigv4":t.credentials})}};T($b,"SSOOIDCClient");var zb=$b,Ac=zt(),Cle=qe(),Wb=class Vb extends y.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,Vb.prototype)}};T(Wb,"SSOOIDCServiceException");var Te=Wb,Bb=class Xb extends Te{constructor(t){super({name:"AccessDeniedException",$fault:"client",...t}),this.name="AccessDeniedException",this.$fault="client",Object.setPrototypeOf(this,Xb.prototype),this.error=t.error,this.error_description=t.error_description}};T(Bb,"AccessDeniedException");var Jb=Bb,Yb=class Qb extends Te{constructor(t){super({name:"AuthorizationPendingException",$fault:"client",...t}),this.name="AuthorizationPendingException",this.$fault="client",Object.setPrototypeOf(this,Qb.prototype),this.error=t.error,this.error_description=t.error_description}};T(Yb,"AuthorizationPendingException");var Zb=Yb,eA=class tA extends Te{constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),this.name="ExpiredTokenException",this.$fault="client",Object.setPrototypeOf(this,tA.prototype),this.error=t.error,this.error_description=t.error_description}};T(eA,"ExpiredTokenException");var rA=eA,nA=class oA extends Te{constructor(t){super({name:"InternalServerException",$fault:"server",...t}),this.name="InternalServerException",this.$fault="server",Object.setPrototypeOf(this,oA.prototype),this.error=t.error,this.error_description=t.error_description}};T(nA,"InternalServerException");var iA=nA,sA=class aA extends Te{constructor(t){super({name:"InvalidClientException",$fault:"client",...t}),this.name="InvalidClientException",this.$fault="client",Object.setPrototypeOf(this,aA.prototype),this.error=t.error,this.error_description=t.error_description}};T(sA,"InvalidClientException");var cA=sA,dA=class lA extends Te{constructor(t){super({name:"InvalidGrantException",$fault:"client",...t}),this.name="InvalidGrantException",this.$fault="client",Object.setPrototypeOf(this,lA.prototype),this.error=t.error,this.error_description=t.error_description}};T(dA,"InvalidGrantException");var uA=dA,pA=class mA extends Te{constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),this.name="InvalidRequestException",this.$fault="client",Object.setPrototypeOf(this,mA.prototype),this.error=t.error,this.error_description=t.error_description}};T(pA,"InvalidRequestException");var fA=pA,vA=class _A extends Te{constructor(t){super({name:"InvalidScopeException",$fault:"client",...t}),this.name="InvalidScopeException",this.$fault="client",Object.setPrototypeOf(this,_A.prototype),this.error=t.error,this.error_description=t.error_description}};T(vA,"InvalidScopeException");var gA=vA,yA=class hA extends Te{constructor(t){super({name:"SlowDownException",$fault:"client",...t}),this.name="SlowDownException",this.$fault="client",Object.setPrototypeOf(this,hA.prototype),this.error=t.error,this.error_description=t.error_description}};T(yA,"SlowDownException");var SA=yA,EA=class CA extends Te{constructor(t){super({name:"UnauthorizedClientException",$fault:"client",...t}),this.name="UnauthorizedClientException",this.$fault="client",Object.setPrototypeOf(this,CA.prototype),this.error=t.error,this.error_description=t.error_description}};T(EA,"UnauthorizedClientException");var PA=EA,wA=class xA extends Te{constructor(t){super({name:"UnsupportedGrantTypeException",$fault:"client",...t}),this.name="UnsupportedGrantTypeException",this.$fault="client",Object.setPrototypeOf(this,xA.prototype),this.error=t.error,this.error_description=t.error_description}};T(wA,"UnsupportedGrantTypeException");var RA=wA,bA=class AA extends Te{constructor(t){super({name:"InvalidRequestRegionException",$fault:"client",...t}),this.name="InvalidRequestRegionException",this.$fault="client",Object.setPrototypeOf(this,AA.prototype),this.error=t.error,this.error_description=t.error_description,this.endpoint=t.endpoint,this.region=t.region}};T(bA,"InvalidRequestRegionException");var IA=bA,OA=class TA extends Te{constructor(t){super({name:"InvalidClientMetadataException",$fault:"client",...t}),this.name="InvalidClientMetadataException",this.$fault="client",Object.setPrototypeOf(this,TA.prototype),this.error=t.error,this.error_description=t.error_description}};T(OA,"InvalidClientMetadataException");var NA=OA,DA=T(e=>({...e,...e.clientSecret&&{clientSecret:y.SENSITIVE_STRING},...e.refreshToken&&{refreshToken:y.SENSITIVE_STRING}}),"CreateTokenRequestFilterSensitiveLog"),kA=T(e=>({...e,...e.accessToken&&{accessToken:y.SENSITIVE_STRING},...e.refreshToken&&{refreshToken:y.SENSITIVE_STRING},...e.idToken&&{idToken:y.SENSITIVE_STRING}}),"CreateTokenResponseFilterSensitiveLog"),MA=T(e=>({...e,...e.refreshToken&&{refreshToken:y.SENSITIVE_STRING},...e.assertion&&{assertion:y.SENSITIVE_STRING},...e.subjectToken&&{subjectToken:y.SENSITIVE_STRING}}),"CreateTokenWithIAMRequestFilterSensitiveLog"),KA=T(e=>({...e,...e.accessToken&&{accessToken:y.SENSITIVE_STRING},...e.refreshToken&&{refreshToken:y.SENSITIVE_STRING},...e.idToken&&{idToken:y.SENSITIVE_STRING}}),"CreateTokenWithIAMResponseFilterSensitiveLog"),FA=T(e=>({...e,...e.clientSecret&&{clientSecret:y.SENSITIVE_STRING}}),"RegisterClientResponseFilterSensitiveLog"),LA=T(e=>({...e,...e.clientSecret&&{clientSecret:y.SENSITIVE_STRING}}),"StartDeviceAuthorizationRequestFilterSensitiveLog"),to=Ge(),V7=T(async(e,t)=>{let r=(0,un.requestBuilder)(e,t),n={"content-type":"application/json"};r.bp("/token");let o;return o=JSON.stringify((0,y.take)(e,{clientId:[],clientSecret:[],code:[],deviceCode:[],grantType:[],redirectUri:[],refreshToken:[],scope:i=>(0,y._json)(i)})),r.m("POST").h(n).b(o),r.build()},"se_CreateTokenCommand"),B7=T(async(e,t)=>{let r=(0,un.requestBuilder)(e,t),n={"content-type":"application/json"};r.bp("/token");let o=(0,y.map)({[v9]:[,"t"]}),i;return i=JSON.stringify((0,y.take)(e,{assertion:[],clientId:[],code:[],grantType:[],redirectUri:[],refreshToken:[],requestedTokenType:[],scope:s=>(0,y._json)(s),subjectToken:[],subjectTokenType:[]})),r.m("POST").h(n).q(o).b(i),r.build()},"se_CreateTokenWithIAMCommand"),X7=T(async(e,t)=>{let r=(0,un.requestBuilder)(e,t),n={"content-type":"application/json"};r.bp("/client/register");let o;return o=JSON.stringify((0,y.take)(e,{clientName:[],clientType:[],scopes:i=>(0,y._json)(i)})),r.m("POST").h(n).b(o),r.build()},"se_RegisterClientCommand"),J7=T(async(e,t)=>{let r=(0,un.requestBuilder)(e,t),n={"content-type":"application/json"};r.bp("/device_authorization");let o;return o=JSON.stringify((0,y.take)(e,{clientId:[],clientSecret:[],startUrl:[]})),r.m("POST").h(n).b(o),r.build()},"se_StartDeviceAuthorizationCommand"),Y7=T(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Ic(e,t);let r=(0,y.map)({$metadata:Se(e)}),n=(0,y.expectNonNull)((0,y.expectObject)(await(0,to.parseJsonBody)(e.body,t)),"body"),o=(0,y.take)(n,{accessToken:y.expectString,expiresIn:y.expectInt32,idToken:y.expectString,refreshToken:y.expectString,tokenType:y.expectString});return Object.assign(r,o),r},"de_CreateTokenCommand"),Q7=T(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Ic(e,t);let r=(0,y.map)({$metadata:Se(e)}),n=(0,y.expectNonNull)((0,y.expectObject)(await(0,to.parseJsonBody)(e.body,t)),"body"),o=(0,y.take)(n,{accessToken:y.expectString,expiresIn:y.expectInt32,idToken:y.expectString,issuedTokenType:y.expectString,refreshToken:y.expectString,scope:y._json,tokenType:y.expectString});return Object.assign(r,o),r},"de_CreateTokenWithIAMCommand"),Z7=T(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Ic(e,t);let r=(0,y.map)({$metadata:Se(e)}),n=(0,y.expectNonNull)((0,y.expectObject)(await(0,to.parseJsonBody)(e.body,t)),"body"),o=(0,y.take)(n,{authorizationEndpoint:y.expectString,clientId:y.expectString,clientIdIssuedAt:y.expectLong,clientSecret:y.expectString,clientSecretExpiresAt:y.expectLong,tokenEndpoint:y.expectString});return Object.assign(r,o),r},"de_RegisterClientCommand"),e9=T(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Ic(e,t);let r=(0,y.map)({$metadata:Se(e)}),n=(0,y.expectNonNull)((0,y.expectObject)(await(0,to.parseJsonBody)(e.body,t)),"body"),o=(0,y.take)(n,{deviceCode:y.expectString,expiresIn:y.expectInt32,interval:y.expectInt32,userCode:y.expectString,verificationUri:y.expectString,verificationUriComplete:y.expectString});return Object.assign(r,o),r},"de_StartDeviceAuthorizationCommand"),Ic=T(async(e,t)=>{let r={...e,body:await(0,to.parseJsonErrorBody)(e.body,t)},n=(0,to.loadRestJsonErrorCode)(e,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.ssooidc#AccessDeniedException":throw await r9(r,t);case"AuthorizationPendingException":case"com.amazonaws.ssooidc#AuthorizationPendingException":throw await n9(r,t);case"ExpiredTokenException":case"com.amazonaws.ssooidc#ExpiredTokenException":throw await o9(r,t);case"InternalServerException":case"com.amazonaws.ssooidc#InternalServerException":throw await i9(r,t);case"InvalidClientException":case"com.amazonaws.ssooidc#InvalidClientException":throw await s9(r,t);case"InvalidGrantException":case"com.amazonaws.ssooidc#InvalidGrantException":throw await c9(r,t);case"InvalidRequestException":case"com.amazonaws.ssooidc#InvalidRequestException":throw await d9(r,t);case"InvalidScopeException":case"com.amazonaws.ssooidc#InvalidScopeException":throw await u9(r,t);case"SlowDownException":case"com.amazonaws.ssooidc#SlowDownException":throw await p9(r,t);case"UnauthorizedClientException":case"com.amazonaws.ssooidc#UnauthorizedClientException":throw await m9(r,t);case"UnsupportedGrantTypeException":case"com.amazonaws.ssooidc#UnsupportedGrantTypeException":throw await f9(r,t);case"InvalidRequestRegionException":case"com.amazonaws.ssooidc#InvalidRequestRegionException":throw await l9(r,t);case"InvalidClientMetadataException":case"com.amazonaws.ssooidc#InvalidClientMetadataException":throw await a9(r,t);default:let o=r.body;return t9({output:e,parsedBody:o,errorCode:n})}},"de_CommandError"),t9=(0,y.withBaseException)(Te),r9=T(async(e,t)=>{let r=(0,y.map)({}),n=e.body,o=(0,y.take)(n,{error:y.expectString,error_description:y.expectString});Object.assign(r,o);let i=new Jb({$metadata:Se(e),...r});return(0,y.decorateServiceException)(i,e.body)},"de_AccessDeniedExceptionRes"),n9=T(async(e,t)=>{let r=(0,y.map)({}),n=e.body,o=(0,y.take)(n,{error:y.expectString,error_description:y.expectString});Object.assign(r,o);let i=new Zb({$metadata:Se(e),...r});return(0,y.decorateServiceException)(i,e.body)},"de_AuthorizationPendingExceptionRes"),o9=T(async(e,t)=>{let r=(0,y.map)({}),n=e.body,o=(0,y.take)(n,{error:y.expectString,error_description:y.expectString});Object.assign(r,o);let i=new rA({$metadata:Se(e),...r});return(0,y.decorateServiceException)(i,e.body)},"de_ExpiredTokenExceptionRes"),i9=T(async(e,t)=>{let r=(0,y.map)({}),n=e.body,o=(0,y.take)(n,{error:y.expectString,error_description:y.expectString});Object.assign(r,o);let i=new iA({$metadata:Se(e),...r});return(0,y.decorateServiceException)(i,e.body)},"de_InternalServerExceptionRes"),s9=T(async(e,t)=>{let r=(0,y.map)({}),n=e.body,o=(0,y.take)(n,{error:y.expectString,error_description:y.expectString});Object.assign(r,o);let i=new cA({$metadata:Se(e),...r});return(0,y.decorateServiceException)(i,e.body)},"de_InvalidClientExceptionRes"),a9=T(async(e,t)=>{let r=(0,y.map)({}),n=e.body,o=(0,y.take)(n,{error:y.expectString,error_description:y.expectString});Object.assign(r,o);let i=new NA({$metadata:Se(e),...r});return(0,y.decorateServiceException)(i,e.body)},"de_InvalidClientMetadataExceptionRes"),c9=T(async(e,t)=>{let r=(0,y.map)({}),n=e.body,o=(0,y.take)(n,{error:y.expectString,error_description:y.expectString});Object.assign(r,o);let i=new uA({$metadata:Se(e),...r});return(0,y.decorateServiceException)(i,e.body)},"de_InvalidGrantExceptionRes"),d9=T(async(e,t)=>{let r=(0,y.map)({}),n=e.body,o=(0,y.take)(n,{error:y.expectString,error_description:y.expectString});Object.assign(r,o);let i=new fA({$metadata:Se(e),...r});return(0,y.decorateServiceException)(i,e.body)},"de_InvalidRequestExceptionRes"),l9=T(async(e,t)=>{let r=(0,y.map)({}),n=e.body,o=(0,y.take)(n,{endpoint:y.expectString,error:y.expectString,error_description:y.expectString,region:y.expectString});Object.assign(r,o);let i=new IA({$metadata:Se(e),...r});return(0,y.decorateServiceException)(i,e.body)},"de_InvalidRequestRegionExceptionRes"),u9=T(async(e,t)=>{let r=(0,y.map)({}),n=e.body,o=(0,y.take)(n,{error:y.expectString,error_description:y.expectString});Object.assign(r,o);let i=new gA({$metadata:Se(e),...r});return(0,y.decorateServiceException)(i,e.body)},"de_InvalidScopeExceptionRes"),p9=T(async(e,t)=>{let r=(0,y.map)({}),n=e.body,o=(0,y.take)(n,{error:y.expectString,error_description:y.expectString});Object.assign(r,o);let i=new SA({$metadata:Se(e),...r});return(0,y.decorateServiceException)(i,e.body)},"de_SlowDownExceptionRes"),m9=T(async(e,t)=>{let r=(0,y.map)({}),n=e.body,o=(0,y.take)(n,{error:y.expectString,error_description:y.expectString});Object.assign(r,o);let i=new PA({$metadata:Se(e),...r});return(0,y.decorateServiceException)(i,e.body)},"de_UnauthorizedClientExceptionRes"),f9=T(async(e,t)=>{let r=(0,y.map)({}),n=e.body,o=(0,y.take)(n,{error:y.expectString,error_description:y.expectString});Object.assign(r,o);let i=new RA({$metadata:Se(e),...r});return(0,y.decorateServiceException)(i,e.body)},"de_UnsupportedGrantTypeExceptionRes"),Se=T(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),v9="aws_iam",UA=class extends y.Command.classBuilder().ep({...bc}).m(function(t,r,n,o){return[(0,Ac.getSerdePlugin)(n,this.serialize,this.deserialize),(0,pi.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSSOOIDCService","CreateToken",{}).n("SSOOIDCClient","CreateTokenCommand").f(DA,kA).ser(V7).de(Y7).build(){};T(UA,"CreateTokenCommand");var qA=UA,jA=class extends y.Command.classBuilder().ep({...bc}).m(function(t,r,n,o){return[(0,Ac.getSerdePlugin)(n,this.serialize,this.deserialize),(0,pi.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSSOOIDCService","CreateTokenWithIAM",{}).n("SSOOIDCClient","CreateTokenWithIAMCommand").f(MA,KA).ser(B7).de(Q7).build(){};T(jA,"CreateTokenWithIAMCommand");var HA=jA,GA=class extends y.Command.classBuilder().ep({...bc}).m(function(t,r,n,o){return[(0,Ac.getSerdePlugin)(n,this.serialize,this.deserialize),(0,pi.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSSOOIDCService","RegisterClient",{}).n("SSOOIDCClient","RegisterClientCommand").f(void 0,FA).ser(X7).de(Z7).build(){};T(GA,"RegisterClientCommand");var $A=GA,zA=class extends y.Command.classBuilder().ep({...bc}).m(function(t,r,n,o){return[(0,Ac.getSerdePlugin)(n,this.serialize,this.deserialize),(0,pi.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSSOOIDCService","StartDeviceAuthorization",{}).n("SSOOIDCClient","StartDeviceAuthorizationCommand").f(LA,void 0).ser(J7).de(e9).build(){};T(zA,"StartDeviceAuthorizationCommand");var WA=zA,_9={CreateTokenCommand:qA,CreateTokenWithIAMCommand:HA,RegisterClientCommand:$A,StartDeviceAuthorizationCommand:WA},VA=class extends zb{};T(VA,"SSOOIDC");var BA=VA;(0,y.createAggregatedClient)(_9,BA)});var nI=_((Ile,rI)=>{"use strict";var g9=Object.create,fi=Object.defineProperty,y9=Object.getOwnPropertyDescriptor,h9=Object.getOwnPropertyNames,S9=Object.getPrototypeOf,E9=Object.prototype.hasOwnProperty,Lr=(e,t)=>fi(e,"name",{value:t,configurable:!0}),C9=(e,t)=>{for(var r in t)fi(e,r,{get:t[r],enumerable:!0})},QA=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of h9(t))!E9.call(e,o)&&o!==r&&fi(e,o,{get:()=>t[o],enumerable:!(n=y9(t,o))||n.enumerable});return e},ZA=(e,t,r)=>(r=e!=null?g9(S9(e)):{},QA(t||!e||!e.__esModule?fi(r,"default",{value:e,enumerable:!0}):r,e)),P9=e=>QA(fi({},"__esModule",{value:!0}),e),eI={};C9(eI,{fromSso:()=>tI,fromStatic:()=>O9,nodeProvider:()=>T9});rI.exports=P9(eI);var w9=5*60*1e3,yp="To refresh this SSO session run 'aws sso login' with the corresponding profile.",gp={},x9=Lr(async e=>{let{SSOOIDCClient:t}=await Promise.resolve().then(()=>ZA(ni()));if(gp[e])return gp[e];let r=new t({region:e});return gp[e]=r,r},"getSsoOidcClient"),R9=Lr(async(e,t)=>{let{CreateTokenCommand:r}=await Promise.resolve().then(()=>ZA(ni()));return(await x9(t)).send(new r({clientId:e.clientId,clientSecret:e.clientSecret,refreshToken:e.refreshToken,grantType:"refresh_token"}))},"getNewSsoOidcToken"),Ct=te(),JA=Lr(e=>{if(e.expiration&&e.expiration.getTime()<Date.now())throw new Ct.TokenProviderError(`Token is expired. ${yp}`,!1)},"validateTokenExpiry"),pn=Lr((e,t,r=!1)=>{if(typeof t>"u")throw new Ct.TokenProviderError(`Value not present for '${e}' in SSO Token${r?". Cannot refresh":""}. ${yp}`,!1)},"validateTokenKey"),mi=je(),b9=require("fs"),{writeFile:A9}=b9.promises,I9=Lr((e,t)=>{let r=(0,mi.getSSOTokenFilepath)(e),n=JSON.stringify(t,null,2);return A9(r,n)},"writeSSOTokenToFile"),YA=new Date(0),tI=Lr((e={})=>async()=>{var t;(t=e.logger)==null||t.debug("@aws-sdk/token-providers","fromSso");let r=await(0,mi.parseKnownFiles)(e),n=(0,mi.getProfileName)(e),o=r[n];if(o){if(!o.sso_session)throw new Ct.TokenProviderError(`Profile '${n}' is missing required property 'sso_session'.`)}else throw new Ct.TokenProviderError(`Profile '${n}' could not be found in shared credentials file.`,!1);let i=o.sso_session,a=(await(0,mi.loadSsoSessionData)(e))[i];if(!a)throw new Ct.TokenProviderError(`Sso session '${i}' could not be found in shared credentials file.`,!1);for(let g of["sso_start_url","sso_region"])if(!a[g])throw new Ct.TokenProviderError(`Sso session '${i}' is missing required property '${g}'.`,!1);let c=a.sso_start_url,l=a.sso_region,p;try{p=await(0,mi.getSSOTokenFromFile)(i)}catch{throw new Ct.TokenProviderError(`The SSO session token associated with profile=${n} was not found or is invalid. ${yp}`,!1)}pn("accessToken",p.accessToken),pn("expiresAt",p.expiresAt);let{accessToken:m,expiresAt:f}=p,v={token:m,expiration:new Date(f)};if(v.expiration.getTime()-Date.now()>w9)return v;if(Date.now()-YA.getTime()<30*1e3)return JA(v),v;pn("clientId",p.clientId,!0),pn("clientSecret",p.clientSecret,!0),pn("refreshToken",p.refreshToken,!0);try{YA.setTime(Date.now());let g=await R9(p,l);pn("accessToken",g.accessToken),pn("expiresIn",g.expiresIn);let S=new Date(Date.now()+g.expiresIn*1e3);try{await I9(i,{...p,accessToken:g.accessToken,expiresAt:S.toISOString(),refreshToken:g.refreshToken})}catch{}return{token:g.accessToken,expiration:S}}catch{return JA(v),v}},"fromSso"),O9=Lr(({token:e,logger:t})=>async()=>{if(t?.debug("@aws-sdk/token-providers","fromStatic"),!e||!e.token)throw new Ct.TokenProviderError("Please pass a valid token to fromStatic",!1);return e},"fromStatic"),T9=Lr((e={})=>(0,Ct.memoize)((0,Ct.chain)(tI(e),async()=>{throw new Ct.TokenProviderError("Could not load token from any providers",!1)}),t=>t.expiration!==void 0&&t.expiration.getTime()-Date.now()<3e5,t=>t.expiration!==void 0),"nodeProvider")});var Sp=_((Ole,uI)=>{"use strict";var Tc=Object.defineProperty,N9=Object.getOwnPropertyDescriptor,iI=Object.getOwnPropertyNames,D9=Object.prototype.hasOwnProperty,Nc=(e,t)=>Tc(e,"name",{value:t,configurable:!0}),k9=(e,t)=>function(){return e&&(t=(0,e[iI(e)[0]])(e=0)),t},sI=(e,t)=>{for(var r in t)Tc(e,r,{get:t[r],enumerable:!0})},M9=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of iI(t))!D9.call(e,o)&&o!==r&&Tc(e,o,{get:()=>t[o],enumerable:!(n=N9(t,o))||n.enumerable});return e},K9=e=>M9(Tc({},"__esModule",{value:!0}),e),aI={};sI(aI,{GetRoleCredentialsCommand:()=>hp.GetRoleCredentialsCommand,SSOClient:()=>hp.SSOClient});var hp,F9=k9({"src/loadSso.ts"(){"use strict";hp=oP()}}),cI={};sI(cI,{fromSSO:()=>U9,isSsoProfile:()=>dI,validateSsoProfile:()=>lI});uI.exports=K9(cI);var dI=Nc(e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),"isSsoProfile"),L9=nI(),Pt=te(),Oc=je(),vi=!1,oI=Nc(async({ssoStartUrl:e,ssoSession:t,ssoAccountId:r,ssoRegion:n,ssoRoleName:o,ssoClient:i,clientConfig:s,profile:a})=>{let c,l="To refresh this SSO session run aws sso login with the corresponding profile.";if(t)try{let H=await(0,L9.fromSso)({profile:a})();c={accessToken:H.token,expiresAt:new Date(H.expiration).toISOString()}}catch(H){throw new Pt.CredentialsProviderError(H.message,vi)}else try{c=await(0,Oc.getSSOTokenFromFile)(e)}catch{throw new Pt.CredentialsProviderError(`The SSO session associated with this profile is invalid. ${l}`,vi)}if(new Date(c.expiresAt).getTime()-Date.now()<=0)throw new Pt.CredentialsProviderError(`The SSO session associated with this profile has expired. ${l}`,vi);let{accessToken:p}=c,{SSOClient:m,GetRoleCredentialsCommand:f}=await Promise.resolve().then(()=>(F9(),aI)),v=i||new m(Object.assign({},s??{},{region:s?.region??n})),g;try{g=await v.send(new f({accountId:r,roleName:o,accessToken:p}))}catch(H){throw Pt.CredentialsProviderError.from(H,vi)}let{roleCredentials:{accessKeyId:S,secretAccessKey:P,sessionToken:x,expiration:R,credentialScope:de}={}}=g;if(!S||!P||!x||!R)throw new Pt.CredentialsProviderError("SSO returns an invalid temporary credential.",vi);return{accessKeyId:S,secretAccessKey:P,sessionToken:x,expiration:new Date(R),credentialScope:de}},"resolveSSOCredentials"),lI=Nc(e=>{let{sso_start_url:t,sso_account_id:r,sso_region:n,sso_role_name:o}=e;if(!t||!r||!n||!o)throw new Pt.CredentialsProviderError(`Profile is configured with invalid SSO credentials. Required parameters "sso_account_id", "sso_region", "sso_role_name", "sso_start_url". Got ${Object.keys(e).join(", ")}
Reference: https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-sso.html`,!1);return e},"validateSsoProfile"),U9=Nc((e={})=>async()=>{var t;(t=e.logger)==null||t.debug("@aws-sdk/credential-provider-sso","fromSSO");let{ssoStartUrl:r,ssoAccountId:n,ssoRegion:o,ssoRoleName:i,ssoSession:s}=e,{ssoClient:a}=e,c=(0,Oc.getProfileName)(e);if(!r&&!n&&!o&&!i&&!s){let p=(await(0,Oc.parseKnownFiles)(e))[c];if(!p)throw new Pt.CredentialsProviderError(`Profile ${c} was not found.`);if(!dI(p))throw new Pt.CredentialsProviderError(`Profile ${c} is not configured with SSO credentials.`);if(p?.sso_session){let x=(await(0,Oc.loadSsoSessionData)(e))[p.sso_session],R=` configurations in profile ${c} and sso-session ${p.sso_session}`;if(o&&o!==x.sso_region)throw new Pt.CredentialsProviderError("Conflicting SSO region"+R,!1);if(r&&r!==x.sso_start_url)throw new Pt.CredentialsProviderError("Conflicting SSO start_url"+R,!1);p.sso_region=x.sso_region,p.sso_start_url=x.sso_start_url}let{sso_start_url:m,sso_account_id:f,sso_region:v,sso_role_name:g,sso_session:S}=lI(p);return oI({ssoStartUrl:m,ssoSession:S,ssoAccountId:f,ssoRegion:v,ssoRoleName:g,ssoClient:a,clientConfig:e.clientConfig,profile:c})}else{if(!r||!n||!o||!i)throw new Pt.CredentialsProviderError('Incomplete configuration. The fromSSO() argument hash must include "ssoStartUrl", "ssoAccountId", "ssoRegion", "ssoRoleName"');return oI({ssoStartUrl:r,ssoSession:s,ssoAccountId:n,ssoRegion:o,ssoRoleName:i,ssoClient:a,clientConfig:e.clientConfig,profile:c})}},"fromSSO")});var Ep=_(wt=>{"use strict";Object.defineProperty(wt,"__esModule",{value:!0});wt.resolveHttpAuthSchemeConfig=wt.resolveStsAuthConfig=wt.defaultSTSHttpAuthSchemeProvider=wt.defaultSTSHttpAuthSchemeParametersProvider=void 0;var q9=He(),pI=Ve(),j9=_i(),H9=async(e,t,r)=>({operation:(0,pI.getSmithyContext)(t).operation,region:await(0,pI.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});wt.defaultSTSHttpAuthSchemeParametersProvider=H9;function G9(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sts",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function mI(e){return{schemeId:"smithy.api#noAuth"}}var $9=e=>{let t=[];switch(e.operation){case"AssumeRoleWithSAML":{t.push(mI(e));break}case"AssumeRoleWithWebIdentity":{t.push(mI(e));break}default:t.push(G9(e))}return t};wt.defaultSTSHttpAuthSchemeProvider=$9;var z9=e=>({...e,stsClientCtor:j9.STSClient});wt.resolveStsAuthConfig=z9;var W9=e=>{let t=(0,wt.resolveStsAuthConfig)(e);return{...(0,q9.resolveAwsSdkSigV4Config)(t)}};wt.resolveHttpAuthSchemeConfig=W9});var xt=_(ro=>{"use strict";Object.defineProperty(ro,"__esModule",{value:!0});ro.commonParams=ro.resolveClientEndpointParameters=void 0;var V9=e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,defaultSigningName:"sts"});ro.resolveClientEndpointParameters=V9;ro.commonParams={UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var fI=_((Dle,B9)=>{B9.exports={name:"@aws-sdk/client-sts",description:"AWS SDK for JavaScript Sts Client for Node.js, Browser and React Native",version:"3.572.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-sts","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"rimraf ./dist-types tsconfig.types.tsbuildinfo && tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sts",test:"yarn test:unit","test:unit":"jest"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/client-sso-oidc":"3.572.0","@aws-sdk/core":"3.572.0","@aws-sdk/credential-provider-node":"3.572.0","@aws-sdk/middleware-host-header":"3.567.0","@aws-sdk/middleware-logger":"3.568.0","@aws-sdk/middleware-recursion-detection":"3.567.0","@aws-sdk/middleware-user-agent":"3.572.0","@aws-sdk/region-config-resolver":"3.572.0","@aws-sdk/types":"3.567.0","@aws-sdk/util-endpoints":"3.572.0","@aws-sdk/util-user-agent-browser":"3.567.0","@aws-sdk/util-user-agent-node":"3.568.0","@smithy/config-resolver":"^2.2.0","@smithy/core":"^1.4.2","@smithy/fetch-http-handler":"^2.5.0","@smithy/hash-node":"^2.2.0","@smithy/invalid-dependency":"^2.2.0","@smithy/middleware-content-length":"^2.2.0","@smithy/middleware-endpoint":"^2.5.1","@smithy/middleware-retry":"^2.3.1","@smithy/middleware-serde":"^2.3.0","@smithy/middleware-stack":"^2.2.0","@smithy/node-config-provider":"^2.3.0","@smithy/node-http-handler":"^2.5.0","@smithy/protocol-http":"^3.3.0","@smithy/smithy-client":"^2.5.1","@smithy/types":"^2.12.0","@smithy/url-parser":"^2.2.0","@smithy/util-base64":"^2.3.0","@smithy/util-body-length-browser":"^2.2.0","@smithy/util-body-length-node":"^2.3.0","@smithy/util-defaults-mode-browser":"^2.2.1","@smithy/util-defaults-mode-node":"^2.3.1","@smithy/util-endpoints":"^1.2.0","@smithy/util-middleware":"^2.2.0","@smithy/util-retry":"^2.2.0","@smithy/util-utf8":"^2.3.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node16":"16.1.3","@types/node":"^16.18.96",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~4.9.5"},engines:{node:">=16.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sts",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sts"}}});var KI=_(Dc=>{"use strict";Object.defineProperty(Dc,"__esModule",{value:!0});Dc.ruleSet=void 0;var RI="required",q="type",B="fn",X="argv",qr="ref",vI=!1,Cp=!0,Ur="booleanEquals",Ee="stringEquals",bI="sigv4",AI="sts",II="us-east-1",ie="endpoint",_I="https://sts.{Region}.{PartitionResult#dnsSuffix}",Mt="tree",no="error",wp="getAttr",gI={[RI]:!1,[q]:"String"},Pp={[RI]:!0,default:!1,[q]:"Boolean"},OI={[qr]:"Endpoint"},yI={[B]:"isSet",[X]:[{[qr]:"Region"}]},Ce={[qr]:"Region"},hI={[B]:"aws.partition",[X]:[Ce],assign:"PartitionResult"},TI={[qr]:"UseFIPS"},NI={[qr]:"UseDualStack"},Re={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:bI,signingName:AI,signingRegion:II}]},headers:{}},ze={},SI={conditions:[{[B]:Ee,[X]:[Ce,"aws-global"]}],[ie]:Re,[q]:ie},DI={[B]:Ur,[X]:[TI,!0]},kI={[B]:Ur,[X]:[NI,!0]},EI={[B]:wp,[X]:[{[qr]:"PartitionResult"},"supportsFIPS"]},MI={[qr]:"PartitionResult"},CI={[B]:Ur,[X]:[!0,{[B]:wp,[X]:[MI,"supportsDualStack"]}]},PI=[{[B]:"isSet",[X]:[OI]}],wI=[DI],xI=[kI],X9={version:"1.0",parameters:{Region:gI,UseDualStack:Pp,UseFIPS:Pp,Endpoint:gI,UseGlobalEndpoint:Pp},rules:[{conditions:[{[B]:Ur,[X]:[{[qr]:"UseGlobalEndpoint"},Cp]},{[B]:"not",[X]:PI},yI,hI,{[B]:Ur,[X]:[TI,vI]},{[B]:Ur,[X]:[NI,vI]}],rules:[{conditions:[{[B]:Ee,[X]:[Ce,"ap-northeast-1"]}],endpoint:Re,[q]:ie},{conditions:[{[B]:Ee,[X]:[Ce,"ap-south-1"]}],endpoint:Re,[q]:ie},{conditions:[{[B]:Ee,[X]:[Ce,"ap-southeast-1"]}],endpoint:Re,[q]:ie},{conditions:[{[B]:Ee,[X]:[Ce,"ap-southeast-2"]}],endpoint:Re,[q]:ie},SI,{conditions:[{[B]:Ee,[X]:[Ce,"ca-central-1"]}],endpoint:Re,[q]:ie},{conditions:[{[B]:Ee,[X]:[Ce,"eu-central-1"]}],endpoint:Re,[q]:ie},{conditions:[{[B]:Ee,[X]:[Ce,"eu-north-1"]}],endpoint:Re,[q]:ie},{conditions:[{[B]:Ee,[X]:[Ce,"eu-west-1"]}],endpoint:Re,[q]:ie},{conditions:[{[B]:Ee,[X]:[Ce,"eu-west-2"]}],endpoint:Re,[q]:ie},{conditions:[{[B]:Ee,[X]:[Ce,"eu-west-3"]}],endpoint:Re,[q]:ie},{conditions:[{[B]:Ee,[X]:[Ce,"sa-east-1"]}],endpoint:Re,[q]:ie},{conditions:[{[B]:Ee,[X]:[Ce,II]}],endpoint:Re,[q]:ie},{conditions:[{[B]:Ee,[X]:[Ce,"us-east-2"]}],endpoint:Re,[q]:ie},{conditions:[{[B]:Ee,[X]:[Ce,"us-west-1"]}],endpoint:Re,[q]:ie},{conditions:[{[B]:Ee,[X]:[Ce,"us-west-2"]}],endpoint:Re,[q]:ie},{endpoint:{url:_I,properties:{authSchemes:[{name:bI,signingName:AI,signingRegion:"{Region}"}]},headers:ze},[q]:ie}],[q]:Mt},{conditions:PI,rules:[{conditions:wI,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[q]:no},{conditions:xI,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[q]:no},{endpoint:{url:OI,properties:ze,headers:ze},[q]:ie}],[q]:Mt},{conditions:[yI],rules:[{conditions:[hI],rules:[{conditions:[DI,kI],rules:[{conditions:[{[B]:Ur,[X]:[Cp,EI]},CI],rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:ze,headers:ze},[q]:ie}],[q]:Mt},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[q]:no}],[q]:Mt},{conditions:wI,rules:[{conditions:[{[B]:Ur,[X]:[EI,Cp]}],rules:[{conditions:[{[B]:Ee,[X]:[{[B]:wp,[X]:[MI,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:ze,headers:ze},[q]:ie},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:ze,headers:ze},[q]:ie}],[q]:Mt},{error:"FIPS is enabled but this partition does not support FIPS",[q]:no}],[q]:Mt},{conditions:xI,rules:[{conditions:[CI],rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:ze,headers:ze},[q]:ie}],[q]:Mt},{error:"DualStack is enabled but this partition does not support DualStack",[q]:no}],[q]:Mt},SI,{endpoint:{url:_I,properties:ze,headers:ze},[q]:ie}],[q]:Mt}],[q]:Mt},{error:"Invalid Configuration: Missing Region",[q]:no}]};Dc.ruleSet=X9});var LI=_(kc=>{"use strict";Object.defineProperty(kc,"__esModule",{value:!0});kc.defaultEndpointResolver=void 0;var J9=Po(),FI=Gt(),Y9=KI(),Q9=(e,t={})=>(0,FI.resolveEndpoint)(Y9.ruleSet,{endpointParams:e,logger:t.logger});kc.defaultEndpointResolver=Q9;FI.customEndpointFunctions.aws=J9.awsEndpointFunctions});var jI=_(Mc=>{"use strict";Object.defineProperty(Mc,"__esModule",{value:!0});Mc.getRuntimeConfig=void 0;var Z9=He(),eQ=Pe(),tQ=z(),rQ=$t(),UI=vr(),qI=Fe(),nQ=Ep(),oQ=LI(),iQ=e=>({apiVersion:"2011-06-15",base64Decoder:e?.base64Decoder??UI.fromBase64,base64Encoder:e?.base64Encoder??UI.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??oQ.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??nQ.defaultSTSHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new Z9.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new eQ.NoAuthSigner}],logger:e?.logger??new tQ.NoOpLogger,serviceId:e?.serviceId??"STS",urlParser:e?.urlParser??rQ.parseUrl,utf8Decoder:e?.utf8Decoder??qI.fromUtf8,utf8Encoder:e?.utf8Encoder??qI.toUtf8});Mc.getRuntimeConfig=iQ});var WI=_(Fc=>{"use strict";Object.defineProperty(Fc,"__esModule",{value:!0});Fc.getRuntimeConfig=void 0;var sQ=(Bt(),bt(Vt)),aQ=sQ.__importDefault(fI()),HI=He(),GI=xp(),cQ=na(),Kc=Ke(),dQ=Pe(),lQ=on(),$I=Le(),gi=Xe(),zI=It(),uQ=sn(),pQ=mr(),mQ=jI(),fQ=z(),vQ=an(),_Q=z(),gQ=e=>{(0,_Q.emitWarningIfUnsupportedVersion)(process.version);let t=(0,vQ.resolveDefaultsModeConfig)(e),r=()=>t().then(fQ.loadConfigsForDefaultMode),n=(0,mQ.getRuntimeConfig)(e);return(0,HI.emitWarningIfUnsupportedVersion)(process.version),{...n,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??uQ.calculateBodyLength,credentialDefaultProvider:e?.credentialDefaultProvider??GI.defaultProvider,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,cQ.defaultUserAgent)({serviceId:n.serviceId,clientVersion:aQ.default.version}),httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:o=>o.getIdentityProvider("aws.auth#sigv4")||(async i=>await(0,GI.defaultProvider)(i?.__config||{})()),signer:new HI.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:o=>o.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new dQ.NoAuthSigner}],maxAttempts:e?.maxAttempts??(0,gi.loadConfig)($I.NODE_MAX_ATTEMPT_CONFIG_OPTIONS),region:e?.region??(0,gi.loadConfig)(Kc.NODE_REGION_CONFIG_OPTIONS,Kc.NODE_REGION_CONFIG_FILE_OPTIONS),requestHandler:zI.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,gi.loadConfig)({...$I.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||pQ.DEFAULT_RETRY_MODE}),sha256:e?.sha256??lQ.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??zI.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,gi.loadConfig)(Kc.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS),useFipsEndpoint:e?.useFipsEndpoint??(0,gi.loadConfig)(Kc.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS)}};Fc.getRuntimeConfig=gQ});var VI=_(oo=>{"use strict";Object.defineProperty(oo,"__esModule",{value:!0});oo.resolveHttpAuthRuntimeConfig=oo.getHttpAuthExtensionConfiguration=void 0;var yQ=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(o){let i=t.findIndex(s=>s.schemeId===o.schemeId);i===-1?t.push(o):t.splice(i,1,o)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}};oo.getHttpAuthExtensionConfiguration=yQ;var hQ=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()});oo.resolveHttpAuthRuntimeConfig=hQ});var Rp=_(Uc=>{"use strict";Object.defineProperty(Uc,"__esModule",{value:!0});Uc.resolveRuntimeExtensions=void 0;var BI=pa(),XI=ae(),JI=z(),YI=VI(),Lc=e=>e,SQ=(e,t)=>{let r={...Lc((0,BI.getAwsRegionExtensionConfiguration)(e)),...Lc((0,JI.getDefaultExtensionConfiguration)(e)),...Lc((0,XI.getHttpHandlerExtensionConfiguration)(e)),...Lc((0,YI.getHttpAuthExtensionConfiguration)(e))};return t.forEach(n=>n.configure(r)),{...e,...(0,BI.resolveAwsRegionExtensionConfiguration)(r),...(0,JI.resolveDefaultRuntimeConfig)(r),...(0,XI.resolveHttpHandlerRuntimeConfig)(r),...(0,YI.resolveHttpAuthRuntimeConfig)(r)}};Uc.resolveRuntimeExtensions=SQ});var _i=_(io=>{"use strict";Object.defineProperty(io,"__esModule",{value:!0});io.STSClient=io.__Client=void 0;var QI=Ii(),EQ=Ti(),CQ=Di(),ZI=Ui(),PQ=Ke(),bp=Pe(),wQ=tn(),xQ=At(),eO=Le(),rO=z();Object.defineProperty(io,"__Client",{enumerable:!0,get:function(){return rO.Client}});var tO=Ep(),RQ=xt(),bQ=WI(),AQ=Rp(),Ap=class extends rO.Client{constructor(...[t]){let r=(0,bQ.getRuntimeConfig)(t||{}),n=(0,RQ.resolveClientEndpointParameters)(r),o=(0,PQ.resolveRegionConfig)(n),i=(0,xQ.resolveEndpointConfig)(o),s=(0,eO.resolveRetryConfig)(i),a=(0,QI.resolveHostHeaderConfig)(s),c=(0,ZI.resolveUserAgentConfig)(a),l=(0,tO.resolveHttpAuthSchemeConfig)(c),p=(0,AQ.resolveRuntimeExtensions)(l,t?.extensions||[]);super(p),this.config=p,this.middlewareStack.use((0,eO.getRetryPlugin)(this.config)),this.middlewareStack.use((0,wQ.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,QI.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,EQ.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,CQ.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,ZI.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,bp.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:this.getDefaultHttpAuthSchemeParametersProvider(),identityProviderConfigProvider:this.getIdentityProviderConfigProvider()})),this.middlewareStack.use((0,bp.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}getDefaultHttpAuthSchemeParametersProvider(){return tO.defaultSTSHttpAuthSchemeParametersProvider}getIdentityProviderConfigProvider(){return async t=>new bp.DefaultIdentityProviderConfig({"aws.auth#sigv4":t.credentials})}};io.STSClient=Ap});var dm=_((Yle,cm)=>{"use strict";var qc=Object.defineProperty,IQ=Object.getOwnPropertyDescriptor,OQ=Object.getOwnPropertyNames,TQ=Object.prototype.hasOwnProperty,C=(e,t)=>qc(e,"name",{value:t,configurable:!0}),NQ=(e,t)=>{for(var r in t)qc(e,r,{get:t[r],enumerable:!0})},nm=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of OQ(t))!TQ.call(e,o)&&o!==r&&qc(e,o,{get:()=>t[o],enumerable:!(n=IQ(t,o))||n.enumerable});return e},DQ=(e,t,r)=>(nm(e,t,"default"),r&&nm(r,t,"default")),kQ=e=>nm(qc({},"__esModule",{value:!0}),e),om={};NQ(om,{AssumeRoleCommand:()=>sm,AssumeRoleResponseFilterSensitiveLog:()=>OO,AssumeRoleWithSAMLCommand:()=>qO,AssumeRoleWithSAMLRequestFilterSensitiveLog:()=>TO,AssumeRoleWithSAMLResponseFilterSensitiveLog:()=>NO,AssumeRoleWithWebIdentityCommand:()=>am,AssumeRoleWithWebIdentityRequestFilterSensitiveLog:()=>DO,AssumeRoleWithWebIdentityResponseFilterSensitiveLog:()=>kO,ClientInputEndpointParameters:()=>ree.ClientInputEndpointParameters,CredentialsFilterSensitiveLog:()=>fo,DecodeAuthorizationMessageCommand:()=>GO,ExpiredTokenException:()=>cO,GetAccessKeyInfoCommand:()=>zO,GetCallerIdentityCommand:()=>VO,GetFederationTokenCommand:()=>XO,GetFederationTokenResponseFilterSensitiveLog:()=>MO,GetSessionTokenCommand:()=>YO,GetSessionTokenResponseFilterSensitiveLog:()=>KO,IDPCommunicationErrorException:()=>RO,IDPRejectedClaimException:()=>SO,InvalidAuthorizationMessageException:()=>IO,InvalidIdentityTokenException:()=>PO,MalformedPolicyDocumentException:()=>uO,PackedPolicyTooLargeException:()=>fO,RegionDisabledException:()=>gO,RuntimeExtension:()=>nee.RuntimeExtension,STS:()=>ZO,STSServiceException:()=>Kt,decorateDefaultCredentialProvider:()=>see,getDefaultRoleAssumer:()=>nT,getDefaultRoleAssumerWithWebIdentity:()=>oT});cm.exports=kQ(om);DQ(om,_i(),cm.exports);var jr=At(),Hr=zt(),jle=qe(),MQ=xt(),O=z(),oO=class iO extends O.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,iO.prototype)}};C(oO,"STSServiceException");var Kt=oO,sO=class aO extends Kt{constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),this.name="ExpiredTokenException",this.$fault="client",Object.setPrototypeOf(this,aO.prototype)}};C(sO,"ExpiredTokenException");var cO=sO,dO=class lO extends Kt{constructor(t){super({name:"MalformedPolicyDocumentException",$fault:"client",...t}),this.name="MalformedPolicyDocumentException",this.$fault="client",Object.setPrototypeOf(this,lO.prototype)}};C(dO,"MalformedPolicyDocumentException");var uO=dO,pO=class mO extends Kt{constructor(t){super({name:"PackedPolicyTooLargeException",$fault:"client",...t}),this.name="PackedPolicyTooLargeException",this.$fault="client",Object.setPrototypeOf(this,mO.prototype)}};C(pO,"PackedPolicyTooLargeException");var fO=pO,vO=class _O extends Kt{constructor(t){super({name:"RegionDisabledException",$fault:"client",...t}),this.name="RegionDisabledException",this.$fault="client",Object.setPrototypeOf(this,_O.prototype)}};C(vO,"RegionDisabledException");var gO=vO,yO=class hO extends Kt{constructor(t){super({name:"IDPRejectedClaimException",$fault:"client",...t}),this.name="IDPRejectedClaimException",this.$fault="client",Object.setPrototypeOf(this,hO.prototype)}};C(yO,"IDPRejectedClaimException");var SO=yO,EO=class CO extends Kt{constructor(t){super({name:"InvalidIdentityTokenException",$fault:"client",...t}),this.name="InvalidIdentityTokenException",this.$fault="client",Object.setPrototypeOf(this,CO.prototype)}};C(EO,"InvalidIdentityTokenException");var PO=EO,wO=class xO extends Kt{constructor(t){super({name:"IDPCommunicationErrorException",$fault:"client",...t}),this.name="IDPCommunicationErrorException",this.$fault="client",Object.setPrototypeOf(this,xO.prototype)}};C(wO,"IDPCommunicationErrorException");var RO=wO,bO=class AO extends Kt{constructor(t){super({name:"InvalidAuthorizationMessageException",$fault:"client",...t}),this.name="InvalidAuthorizationMessageException",this.$fault="client",Object.setPrototypeOf(this,AO.prototype)}};C(bO,"InvalidAuthorizationMessageException");var IO=bO,fo=C(e=>({...e,...e.SecretAccessKey&&{SecretAccessKey:O.SENSITIVE_STRING}}),"CredentialsFilterSensitiveLog"),OO=C(e=>({...e,...e.Credentials&&{Credentials:fo(e.Credentials)}}),"AssumeRoleResponseFilterSensitiveLog"),TO=C(e=>({...e,...e.SAMLAssertion&&{SAMLAssertion:O.SENSITIVE_STRING}}),"AssumeRoleWithSAMLRequestFilterSensitiveLog"),NO=C(e=>({...e,...e.Credentials&&{Credentials:fo(e.Credentials)}}),"AssumeRoleWithSAMLResponseFilterSensitiveLog"),DO=C(e=>({...e,...e.WebIdentityToken&&{WebIdentityToken:O.SENSITIVE_STRING}}),"AssumeRoleWithWebIdentityRequestFilterSensitiveLog"),kO=C(e=>({...e,...e.Credentials&&{Credentials:fo(e.Credentials)}}),"AssumeRoleWithWebIdentityResponseFilterSensitiveLog"),MO=C(e=>({...e,...e.Credentials&&{Credentials:fo(e.Credentials)}}),"GetFederationTokenResponseFilterSensitiveLog"),KO=C(e=>({...e,...e.Credentials&&{Credentials:fo(e.Credentials)}}),"GetSessionTokenResponseFilterSensitiveLog"),ar=He(),KQ=ae(),FQ=C(async(e,t)=>{let r=zr,n;return n=Xr({...aZ(e,t),[Vr]:LZ,[Br]:Wr}),$r(t,r,"/",void 0,n)},"se_AssumeRoleCommand"),LQ=C(async(e,t)=>{let r=zr,n;return n=Xr({...cZ(e,t),[Vr]:UZ,[Br]:Wr}),$r(t,r,"/",void 0,n)},"se_AssumeRoleWithSAMLCommand"),UQ=C(async(e,t)=>{let r=zr,n;return n=Xr({...dZ(e,t),[Vr]:qZ,[Br]:Wr}),$r(t,r,"/",void 0,n)},"se_AssumeRoleWithWebIdentityCommand"),qQ=C(async(e,t)=>{let r=zr,n;return n=Xr({...lZ(e,t),[Vr]:jZ,[Br]:Wr}),$r(t,r,"/",void 0,n)},"se_DecodeAuthorizationMessageCommand"),jQ=C(async(e,t)=>{let r=zr,n;return n=Xr({...uZ(e,t),[Vr]:HZ,[Br]:Wr}),$r(t,r,"/",void 0,n)},"se_GetAccessKeyInfoCommand"),HQ=C(async(e,t)=>{let r=zr,n;return n=Xr({...pZ(e,t),[Vr]:GZ,[Br]:Wr}),$r(t,r,"/",void 0,n)},"se_GetCallerIdentityCommand"),GQ=C(async(e,t)=>{let r=zr,n;return n=Xr({...mZ(e,t),[Vr]:$Z,[Br]:Wr}),$r(t,r,"/",void 0,n)},"se_GetFederationTokenCommand"),$Q=C(async(e,t)=>{let r=zr,n;return n=Xr({...fZ(e,t),[Vr]:zZ,[Br]:Wr}),$r(t,r,"/",void 0,n)},"se_GetSessionTokenCommand"),zQ=C(async(e,t)=>{if(e.statusCode>=300)return Gr(e,t);let r=await(0,ar.parseXmlBody)(e.body,t),n={};return n=SZ(r.AssumeRoleResult,t),{$metadata:be(e),...n}},"de_AssumeRoleCommand"),WQ=C(async(e,t)=>{if(e.statusCode>=300)return Gr(e,t);let r=await(0,ar.parseXmlBody)(e.body,t),n={};return n=EZ(r.AssumeRoleWithSAMLResult,t),{$metadata:be(e),...n}},"de_AssumeRoleWithSAMLCommand"),VQ=C(async(e,t)=>{if(e.statusCode>=300)return Gr(e,t);let r=await(0,ar.parseXmlBody)(e.body,t),n={};return n=CZ(r.AssumeRoleWithWebIdentityResult,t),{$metadata:be(e),...n}},"de_AssumeRoleWithWebIdentityCommand"),BQ=C(async(e,t)=>{if(e.statusCode>=300)return Gr(e,t);let r=await(0,ar.parseXmlBody)(e.body,t),n={};return n=PZ(r.DecodeAuthorizationMessageResult,t),{$metadata:be(e),...n}},"de_DecodeAuthorizationMessageCommand"),XQ=C(async(e,t)=>{if(e.statusCode>=300)return Gr(e,t);let r=await(0,ar.parseXmlBody)(e.body,t),n={};return n=RZ(r.GetAccessKeyInfoResult,t),{$metadata:be(e),...n}},"de_GetAccessKeyInfoCommand"),JQ=C(async(e,t)=>{if(e.statusCode>=300)return Gr(e,t);let r=await(0,ar.parseXmlBody)(e.body,t),n={};return n=bZ(r.GetCallerIdentityResult,t),{$metadata:be(e),...n}},"de_GetCallerIdentityCommand"),YQ=C(async(e,t)=>{if(e.statusCode>=300)return Gr(e,t);let r=await(0,ar.parseXmlBody)(e.body,t),n={};return n=AZ(r.GetFederationTokenResult,t),{$metadata:be(e),...n}},"de_GetFederationTokenCommand"),QQ=C(async(e,t)=>{if(e.statusCode>=300)return Gr(e,t);let r=await(0,ar.parseXmlBody)(e.body,t),n={};return n=IZ(r.GetSessionTokenResult,t),{$metadata:be(e),...n}},"de_GetSessionTokenCommand"),Gr=C(async(e,t)=>{let r={...e,body:await(0,ar.parseXmlErrorBody)(e.body,t)},n=WZ(e,r.body);switch(n){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await ZQ(r,t);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await oZ(r,t);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await iZ(r,t);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await sZ(r,t);case"IDPRejectedClaim":case"com.amazonaws.sts#IDPRejectedClaimException":throw await tZ(r,t);case"InvalidIdentityToken":case"com.amazonaws.sts#InvalidIdentityTokenException":throw await nZ(r,t);case"IDPCommunicationError":case"com.amazonaws.sts#IDPCommunicationErrorException":throw await eZ(r,t);case"InvalidAuthorizationMessageException":case"com.amazonaws.sts#InvalidAuthorizationMessageException":throw await rZ(r,t);default:let o=r.body;return FZ({output:e,parsedBody:o.Error,errorCode:n})}},"de_CommandError"),ZQ=C(async(e,t)=>{let r=e.body,n=wZ(r.Error,t),o=new cO({$metadata:be(e),...n});return(0,O.decorateServiceException)(o,r)},"de_ExpiredTokenExceptionRes"),eZ=C(async(e,t)=>{let r=e.body,n=OZ(r.Error,t),o=new RO({$metadata:be(e),...n});return(0,O.decorateServiceException)(o,r)},"de_IDPCommunicationErrorExceptionRes"),tZ=C(async(e,t)=>{let r=e.body,n=TZ(r.Error,t),o=new SO({$metadata:be(e),...n});return(0,O.decorateServiceException)(o,r)},"de_IDPRejectedClaimExceptionRes"),rZ=C(async(e,t)=>{let r=e.body,n=NZ(r.Error,t),o=new IO({$metadata:be(e),...n});return(0,O.decorateServiceException)(o,r)},"de_InvalidAuthorizationMessageExceptionRes"),nZ=C(async(e,t)=>{let r=e.body,n=DZ(r.Error,t),o=new PO({$metadata:be(e),...n});return(0,O.decorateServiceException)(o,r)},"de_InvalidIdentityTokenExceptionRes"),oZ=C(async(e,t)=>{let r=e.body,n=kZ(r.Error,t),o=new uO({$metadata:be(e),...n});return(0,O.decorateServiceException)(o,r)},"de_MalformedPolicyDocumentExceptionRes"),iZ=C(async(e,t)=>{let r=e.body,n=MZ(r.Error,t),o=new fO({$metadata:be(e),...n});return(0,O.decorateServiceException)(o,r)},"de_PackedPolicyTooLargeExceptionRes"),sZ=C(async(e,t)=>{let r=e.body,n=KZ(r.Error,t),o=new gO({$metadata:be(e),...n});return(0,O.decorateServiceException)(o,r)},"de_RegionDisabledExceptionRes"),aZ=C((e,t)=>{var r,n,o,i;let s={};if(e[sr]!=null&&(s[sr]=e[sr]),e[lo]!=null&&(s[lo]=e[lo]),e[ut]!=null){let a=jc(e[ut],t);((r=e[ut])==null?void 0:r.length)===0&&(s.PolicyArns=[]),Object.entries(a).forEach(([c,l])=>{let p=`PolicyArns.${c}`;s[p]=l})}if(e[lt]!=null&&(s[lt]=e[lt]),e[De]!=null&&(s[De]=e[De]),e[po]!=null){let a=FO(e[po],t);((n=e[po])==null?void 0:n.length)===0&&(s.Tags=[]),Object.entries(a).forEach(([c,l])=>{let p=`Tags.${c}`;s[p]=l})}if(e[Qp]!=null){let a=hZ(e[Qp],t);((o=e[Qp])==null?void 0:o.length)===0&&(s.TransitiveTagKeys=[]),Object.entries(a).forEach(([c,l])=>{let p=`TransitiveTagKeys.${c}`;s[p]=l})}if(e[Dp]!=null&&(s[Dp]=e[Dp]),e[uo]!=null&&(s[uo]=e[uo]),e[mo]!=null&&(s[mo]=e[mo]),e[mt]!=null&&(s[mt]=e[mt]),e[Gp]!=null){let a=gZ(e[Gp],t);((i=e[Gp])==null?void 0:i.length)===0&&(s.ProvidedContexts=[]),Object.entries(a).forEach(([c,l])=>{let p=`ProvidedContexts.${c}`;s[p]=l})}return s},"se_AssumeRoleRequest"),cZ=C((e,t)=>{var r;let n={};if(e[sr]!=null&&(n[sr]=e[sr]),e[jp]!=null&&(n[jp]=e[jp]),e[Bp]!=null&&(n[Bp]=e[Bp]),e[ut]!=null){let o=jc(e[ut],t);((r=e[ut])==null?void 0:r.length)===0&&(n.PolicyArns=[]),Object.entries(o).forEach(([i,s])=>{let a=`PolicyArns.${i}`;n[a]=s})}return e[lt]!=null&&(n[lt]=e[lt]),e[De]!=null&&(n[De]=e[De]),n},"se_AssumeRoleWithSAMLRequest"),dZ=C((e,t)=>{var r;let n={};if(e[sr]!=null&&(n[sr]=e[sr]),e[lo]!=null&&(n[lo]=e[lo]),e[tm]!=null&&(n[tm]=e[tm]),e[$p]!=null&&(n[$p]=e[$p]),e[ut]!=null){let o=jc(e[ut],t);((r=e[ut])==null?void 0:r.length)===0&&(n.PolicyArns=[]),Object.entries(o).forEach(([i,s])=>{let a=`PolicyArns.${i}`;n[a]=s})}return e[lt]!=null&&(n[lt]=e[lt]),e[De]!=null&&(n[De]=e[De]),n},"se_AssumeRoleWithWebIdentityRequest"),lZ=C((e,t)=>{let r={};return e[kp]!=null&&(r[kp]=e[kp]),r},"se_DecodeAuthorizationMessageRequest"),uZ=C((e,t)=>{let r={};return e[so]!=null&&(r[so]=e[so]),r},"se_GetAccessKeyInfoRequest"),pZ=C((e,t)=>({}),"se_GetCallerIdentityRequest"),mZ=C((e,t)=>{var r,n;let o={};if(e[Up]!=null&&(o[Up]=e[Up]),e[lt]!=null&&(o[lt]=e[lt]),e[ut]!=null){let i=jc(e[ut],t);((r=e[ut])==null?void 0:r.length)===0&&(o.PolicyArns=[]),Object.entries(i).forEach(([s,a])=>{let c=`PolicyArns.${s}`;o[c]=a})}if(e[De]!=null&&(o[De]=e[De]),e[po]!=null){let i=FO(e[po],t);((n=e[po])==null?void 0:n.length)===0&&(o.Tags=[]),Object.entries(i).forEach(([s,a])=>{let c=`Tags.${s}`;o[c]=a})}return o},"se_GetFederationTokenRequest"),fZ=C((e,t)=>{let r={};return e[De]!=null&&(r[De]=e[De]),e[uo]!=null&&(r[uo]=e[uo]),e[mo]!=null&&(r[mo]=e[mo]),r},"se_GetSessionTokenRequest"),jc=C((e,t)=>{let r={},n=1;for(let o of e){if(o===null)continue;let i=vZ(o,t);Object.entries(i).forEach(([s,a])=>{r[`member.${n}.${s}`]=a}),n++}return r},"se_policyDescriptorListType"),vZ=C((e,t)=>{let r={};return e[rm]!=null&&(r[rm]=e[rm]),r},"se_PolicyDescriptorType"),_Z=C((e,t)=>{let r={};return e[Hp]!=null&&(r[Hp]=e[Hp]),e[Op]!=null&&(r[Op]=e[Op]),r},"se_ProvidedContext"),gZ=C((e,t)=>{let r={},n=1;for(let o of e){if(o===null)continue;let i=_Z(o,t);Object.entries(i).forEach(([s,a])=>{r[`member.${n}.${s}`]=a}),n++}return r},"se_ProvidedContextsListType"),yZ=C((e,t)=>{let r={};return e[Lp]!=null&&(r[Lp]=e[Lp]),e[em]!=null&&(r[em]=e[em]),r},"se_Tag"),hZ=C((e,t)=>{let r={},n=1;for(let o of e)o!==null&&(r[`member.${n}`]=o,n++);return r},"se_tagKeyListType"),FO=C((e,t)=>{let r={},n=1;for(let o of e){if(o===null)continue;let i=yZ(o,t);Object.entries(i).forEach(([s,a])=>{r[`member.${n}.${s}`]=a}),n++}return r},"se_tagListType"),im=C((e,t)=>{let r={};return e[Ip]!=null&&(r[Ip]=(0,O.expectString)(e[Ip])),e[ir]!=null&&(r[ir]=(0,O.expectString)(e[ir])),r},"de_AssumedRoleUser"),SZ=C((e,t)=>{let r={};return e[Ne]!=null&&(r[Ne]=yi(e[Ne],t)),e[or]!=null&&(r[or]=im(e[or],t)),e[pt]!=null&&(r[pt]=(0,O.strictParseInt32)(e[pt])),e[mt]!=null&&(r[mt]=(0,O.expectString)(e[mt])),r},"de_AssumeRoleResponse"),EZ=C((e,t)=>{let r={};return e[Ne]!=null&&(r[Ne]=yi(e[Ne],t)),e[or]!=null&&(r[or]=im(e[or],t)),e[pt]!=null&&(r[pt]=(0,O.strictParseInt32)(e[pt])),e[Wp]!=null&&(r[Wp]=(0,O.expectString)(e[Wp])),e[Jp]!=null&&(r[Jp]=(0,O.expectString)(e[Jp])),e[Fp]!=null&&(r[Fp]=(0,O.expectString)(e[Fp])),e[co]!=null&&(r[co]=(0,O.expectString)(e[co])),e[qp]!=null&&(r[qp]=(0,O.expectString)(e[qp])),e[mt]!=null&&(r[mt]=(0,O.expectString)(e[mt])),r},"de_AssumeRoleWithSAMLResponse"),CZ=C((e,t)=>{let r={};return e[Ne]!=null&&(r[Ne]=yi(e[Ne],t)),e[Xp]!=null&&(r[Xp]=(0,O.expectString)(e[Xp])),e[or]!=null&&(r[or]=im(e[or],t)),e[pt]!=null&&(r[pt]=(0,O.strictParseInt32)(e[pt])),e[zp]!=null&&(r[zp]=(0,O.expectString)(e[zp])),e[co]!=null&&(r[co]=(0,O.expectString)(e[co])),e[mt]!=null&&(r[mt]=(0,O.expectString)(e[mt])),r},"de_AssumeRoleWithWebIdentityResponse"),yi=C((e,t)=>{let r={};return e[so]!=null&&(r[so]=(0,O.expectString)(e[so])),e[Vp]!=null&&(r[Vp]=(0,O.expectString)(e[Vp])),e[Yp]!=null&&(r[Yp]=(0,O.expectString)(e[Yp])),e[Np]!=null&&(r[Np]=(0,O.expectNonNull)((0,O.parseRfc3339DateTimeWithOffset)(e[Np]))),r},"de_Credentials"),PZ=C((e,t)=>{let r={};return e[Tp]!=null&&(r[Tp]=(0,O.expectString)(e[Tp])),r},"de_DecodeAuthorizationMessageResponse"),wZ=C((e,t)=>{let r={};return e[se]!=null&&(r[se]=(0,O.expectString)(e[se])),r},"de_ExpiredTokenException"),xZ=C((e,t)=>{let r={};return e[Kp]!=null&&(r[Kp]=(0,O.expectString)(e[Kp])),e[ir]!=null&&(r[ir]=(0,O.expectString)(e[ir])),r},"de_FederatedUser"),RZ=C((e,t)=>{let r={};return e[ao]!=null&&(r[ao]=(0,O.expectString)(e[ao])),r},"de_GetAccessKeyInfoResponse"),bZ=C((e,t)=>{let r={};return e[Zp]!=null&&(r[Zp]=(0,O.expectString)(e[Zp])),e[ao]!=null&&(r[ao]=(0,O.expectString)(e[ao])),e[ir]!=null&&(r[ir]=(0,O.expectString)(e[ir])),r},"de_GetCallerIdentityResponse"),AZ=C((e,t)=>{let r={};return e[Ne]!=null&&(r[Ne]=yi(e[Ne],t)),e[Mp]!=null&&(r[Mp]=xZ(e[Mp],t)),e[pt]!=null&&(r[pt]=(0,O.strictParseInt32)(e[pt])),r},"de_GetFederationTokenResponse"),IZ=C((e,t)=>{let r={};return e[Ne]!=null&&(r[Ne]=yi(e[Ne],t)),r},"de_GetSessionTokenResponse"),OZ=C((e,t)=>{let r={};return e[se]!=null&&(r[se]=(0,O.expectString)(e[se])),r},"de_IDPCommunicationErrorException"),TZ=C((e,t)=>{let r={};return e[se]!=null&&(r[se]=(0,O.expectString)(e[se])),r},"de_IDPRejectedClaimException"),NZ=C((e,t)=>{let r={};return e[se]!=null&&(r[se]=(0,O.expectString)(e[se])),r},"de_InvalidAuthorizationMessageException"),DZ=C((e,t)=>{let r={};return e[se]!=null&&(r[se]=(0,O.expectString)(e[se])),r},"de_InvalidIdentityTokenException"),kZ=C((e,t)=>{let r={};return e[se]!=null&&(r[se]=(0,O.expectString)(e[se])),r},"de_MalformedPolicyDocumentException"),MZ=C((e,t)=>{let r={};return e[se]!=null&&(r[se]=(0,O.expectString)(e[se])),r},"de_PackedPolicyTooLargeException"),KZ=C((e,t)=>{let r={};return e[se]!=null&&(r[se]=(0,O.expectString)(e[se])),r},"de_RegionDisabledException"),be=C(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),FZ=(0,O.withBaseException)(Kt),$r=C(async(e,t,r,n,o)=>{let{hostname:i,protocol:s="https",port:a,path:c}=await e.endpoint(),l={protocol:s,hostname:i,port:a,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+r:c+r,headers:t};return n!==void 0&&(l.hostname=n),o!==void 0&&(l.body=o),new KQ.HttpRequest(l)},"buildHttpRpcRequest"),zr={"content-type":"application/x-www-form-urlencoded"},Wr="2011-06-15",Vr="Action",so="AccessKeyId",LZ="AssumeRole",Ip="AssumedRoleId",or="AssumedRoleUser",UZ="AssumeRoleWithSAML",qZ="AssumeRoleWithWebIdentity",ao="Account",ir="Arn",co="Audience",Ne="Credentials",Op="ContextAssertion",jZ="DecodeAuthorizationMessage",Tp="DecodedMessage",De="DurationSeconds",Np="Expiration",Dp="ExternalId",kp="EncodedMessage",Mp="FederatedUser",Kp="FederatedUserId",HZ="GetAccessKeyInfo",GZ="GetCallerIdentity",$Z="GetFederationToken",zZ="GetSessionToken",Fp="Issuer",Lp="Key",Up="Name",qp="NameQualifier",lt="Policy",ut="PolicyArns",jp="PrincipalArn",Hp="ProviderArn",Gp="ProvidedContexts",$p="ProviderId",pt="PackedPolicySize",zp="Provider",sr="RoleArn",lo="RoleSessionName",Wp="Subject",Vp="SecretAccessKey",Bp="SAMLAssertion",Xp="SubjectFromWebIdentityToken",mt="SourceIdentity",uo="SerialNumber",Jp="SubjectType",Yp="SessionToken",po="Tags",mo="TokenCode",Qp="TransitiveTagKeys",Zp="UserId",Br="Version",em="Value",tm="WebIdentityToken",rm="arn",se="message",Xr=C(e=>Object.entries(e).map(([t,r])=>(0,O.extendedEncodeURIComponent)(t)+"="+(0,O.extendedEncodeURIComponent)(r)).join("&"),"buildFormUrlencodedString"),WZ=C((e,t)=>{var r;if(((r=t.Error)==null?void 0:r.Code)!==void 0)return t.Error.Code;if(e.statusCode==404)return"NotFound"},"loadQueryErrorCode"),LO=class extends O.Command.classBuilder().ep({...MQ.commonParams}).m(function(t,r,n,o){return[(0,Hr.getSerdePlugin)(n,this.serialize,this.deserialize),(0,jr.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRole",{}).n("STSClient","AssumeRoleCommand").f(void 0,OO).ser(FQ).de(zQ).build(){};C(LO,"AssumeRoleCommand");var sm=LO,VZ=xt(),UO=class extends O.Command.classBuilder().ep({...VZ.commonParams}).m(function(t,r,n,o){return[(0,Hr.getSerdePlugin)(n,this.serialize,this.deserialize),(0,jr.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithSAML",{}).n("STSClient","AssumeRoleWithSAMLCommand").f(TO,NO).ser(LQ).de(WQ).build(){};C(UO,"AssumeRoleWithSAMLCommand");var qO=UO,BZ=xt(),jO=class extends O.Command.classBuilder().ep({...BZ.commonParams}).m(function(t,r,n,o){return[(0,Hr.getSerdePlugin)(n,this.serialize,this.deserialize),(0,jr.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithWebIdentity",{}).n("STSClient","AssumeRoleWithWebIdentityCommand").f(DO,kO).ser(UQ).de(VQ).build(){};C(jO,"AssumeRoleWithWebIdentityCommand");var am=jO,XZ=xt(),HO=class extends O.Command.classBuilder().ep({...XZ.commonParams}).m(function(t,r,n,o){return[(0,Hr.getSerdePlugin)(n,this.serialize,this.deserialize),(0,jr.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","DecodeAuthorizationMessage",{}).n("STSClient","DecodeAuthorizationMessageCommand").f(void 0,void 0).ser(qQ).de(BQ).build(){};C(HO,"DecodeAuthorizationMessageCommand");var GO=HO,JZ=xt(),$O=class extends O.Command.classBuilder().ep({...JZ.commonParams}).m(function(t,r,n,o){return[(0,Hr.getSerdePlugin)(n,this.serialize,this.deserialize),(0,jr.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","GetAccessKeyInfo",{}).n("STSClient","GetAccessKeyInfoCommand").f(void 0,void 0).ser(jQ).de(XQ).build(){};C($O,"GetAccessKeyInfoCommand");var zO=$O,YZ=xt(),WO=class extends O.Command.classBuilder().ep({...YZ.commonParams}).m(function(t,r,n,o){return[(0,Hr.getSerdePlugin)(n,this.serialize,this.deserialize),(0,jr.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","GetCallerIdentity",{}).n("STSClient","GetCallerIdentityCommand").f(void 0,void 0).ser(HQ).de(JQ).build(){};C(WO,"GetCallerIdentityCommand");var VO=WO,QZ=xt(),BO=class extends O.Command.classBuilder().ep({...QZ.commonParams}).m(function(t,r,n,o){return[(0,Hr.getSerdePlugin)(n,this.serialize,this.deserialize),(0,jr.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","GetFederationToken",{}).n("STSClient","GetFederationTokenCommand").f(void 0,MO).ser(GQ).de(YQ).build(){};C(BO,"GetFederationTokenCommand");var XO=BO,ZZ=xt(),JO=class extends O.Command.classBuilder().ep({...ZZ.commonParams}).m(function(t,r,n,o){return[(0,Hr.getSerdePlugin)(n,this.serialize,this.deserialize),(0,jr.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","GetSessionToken",{}).n("STSClient","GetSessionTokenCommand").f(void 0,KO).ser($Q).de(QQ).build(){};C(JO,"GetSessionTokenCommand");var YO=JO,eee=_i(),tee={AssumeRoleCommand:sm,AssumeRoleWithSAMLCommand:qO,AssumeRoleWithWebIdentityCommand:am,DecodeAuthorizationMessageCommand:GO,GetAccessKeyInfoCommand:zO,GetCallerIdentityCommand:VO,GetFederationTokenCommand:XO,GetSessionTokenCommand:YO},QO=class extends eee.STSClient{};C(QO,"STS");var ZO=QO;(0,O.createAggregatedClient)(tee,ZO);var ree=xt(),nee=Rp(),nO="us-east-1",eT=C(async(e,t,r)=>{var n;let o=typeof e=="function"?await e():e,i=typeof t=="function"?await t():t;return(n=r?.debug)==null||n.call(r,"@aws-sdk/client-sts::resolveRegion","accepting first of:",`${o} (provider)`,`${i} (parent client)`,`${nO} (STS default)`),o??i??nO},"resolveRegion"),oee=C((e,t)=>{let r,n;return async(o,i)=>{var s,a,c;if(n=o,!r){let{logger:p=(s=e?.parentClientConfig)==null?void 0:s.logger,region:m,requestHandler:f=(a=e?.parentClientConfig)==null?void 0:a.requestHandler,credentialProviderLogger:v}=e,g=await eT(m,(c=e?.parentClientConfig)==null?void 0:c.region,v);r=new t({credentialDefaultProvider:()=>async()=>n,region:g,requestHandler:f,logger:p})}let{Credentials:l}=await r.send(new sm(i));if(!l||!l.AccessKeyId||!l.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRole call with role ${i.RoleArn}`);return{accessKeyId:l.AccessKeyId,secretAccessKey:l.SecretAccessKey,sessionToken:l.SessionToken,expiration:l.Expiration,credentialScope:l.CredentialScope}}},"getDefaultRoleAssumer"),iee=C((e,t)=>{let r;return async n=>{var o,i,s;if(!r){let{logger:c=(o=e?.parentClientConfig)==null?void 0:o.logger,region:l,requestHandler:p=(i=e?.parentClientConfig)==null?void 0:i.requestHandler,credentialProviderLogger:m}=e,f=await eT(l,(s=e?.parentClientConfig)==null?void 0:s.region,m);r=new t({region:f,requestHandler:p,logger:c})}let{Credentials:a}=await r.send(new am(n));if(!a||!a.AccessKeyId||!a.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${n.RoleArn}`);return{accessKeyId:a.AccessKeyId,secretAccessKey:a.SecretAccessKey,sessionToken:a.SessionToken,expiration:a.Expiration,credentialScope:a.CredentialScope}}},"getDefaultRoleAssumerWithWebIdentity"),tT=_i(),rT=C((e,t)=>{var r;return t?(r=class extends e{constructor(n){super(n);for(let o of t)this.middlewareStack.use(o)}},C(r,"CustomizableSTSClient"),r):e},"getCustomizableStsClientCtor"),nT=C((e={},t)=>oee(e,rT(tT.STSClient,t)),"getDefaultRoleAssumer"),oT=C((e={},t)=>iee(e,rT(tT.STSClient,t)),"getDefaultRoleAssumerWithWebIdentity"),see=C(e=>t=>e({roleAssumer:nT(t),roleAssumerWithWebIdentity:oT(t),...t}),"decorateDefaultCredentialProvider")});var pm=_((Zle,aT)=>{"use strict";var Hc=Object.defineProperty,aee=Object.getOwnPropertyDescriptor,cee=Object.getOwnPropertyNames,dee=Object.prototype.hasOwnProperty,um=(e,t)=>Hc(e,"name",{value:t,configurable:!0}),lee=(e,t)=>{for(var r in t)Hc(e,r,{get:t[r],enumerable:!0})},uee=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of cee(t))!dee.call(e,o)&&o!==r&&Hc(e,o,{get:()=>t[o],enumerable:!(n=aee(t,o))||n.enumerable});return e},pee=e=>uee(Hc({},"__esModule",{value:!0}),e),sT={};lee(sT,{fromProcess:()=>gee});aT.exports=pee(sT);var iT=je(),lm=te(),mee=require("child_process"),fee=require("util"),vee=um((e,t)=>{if(t.Version!==1)throw Error(`Profile ${e} credential_process did not return Version 1.`);if(t.AccessKeyId===void 0||t.SecretAccessKey===void 0)throw Error(`Profile ${e} credential_process returned invalid credentials.`);if(t.Expiration){let r=new Date;if(new Date(t.Expiration)<r)throw Error(`Profile ${e} credential_process returned expired credentials.`)}return{accessKeyId:t.AccessKeyId,secretAccessKey:t.SecretAccessKey,...t.SessionToken&&{sessionToken:t.SessionToken},...t.Expiration&&{expiration:new Date(t.Expiration)},...t.CredentialScope&&{credentialScope:t.CredentialScope}}},"getValidatedProcessCredentials"),_ee=um(async(e,t)=>{let r=t[e];if(t[e]){let n=r.credential_process;if(n!==void 0){let o=(0,fee.promisify)(mee.exec);try{let{stdout:i}=await o(n),s;try{s=JSON.parse(i.trim())}catch{throw Error(`Profile ${e} credential_process returned invalid JSON.`)}return vee(e,s)}catch(i){throw new lm.CredentialsProviderError(i.message)}}else throw new lm.CredentialsProviderError(`Profile ${e} did not contain credential_process.`)}else throw new lm.CredentialsProviderError(`Profile ${e} could not be found in shared credentials file.`)},"resolveProcessCredentials"),gee=um((e={})=>async()=>{var t;(t=e.logger)==null||t.debug("@aws-sdk/credential-provider-process","fromProcess");let r=await(0,iT.parseKnownFiles)(e);return _ee((0,iT.getProfileName)(e),r)},"fromProcess")});var mm=_(Ft=>{"use strict";var yee=Ft&&Ft.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),hee=Ft&&Ft.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),See=Ft&&Ft.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&yee(t,e,r);return hee(t,e),t};Object.defineProperty(Ft,"__esModule",{value:!0});Ft.fromWebToken=void 0;var Eee=e=>async()=>{var t;(t=e.logger)===null||t===void 0||t.debug("@aws-sdk/credential-provider-web-identity","fromWebToken");let{roleArn:r,roleSessionName:n,webIdentityToken:o,providerId:i,policyArns:s,policy:a,durationSeconds:c}=e,{roleAssumerWithWebIdentity:l}=e;if(!l){let{getDefaultRoleAssumerWithWebIdentity:p}=await Promise.resolve().then(()=>See(dm()));l=p({...e.clientConfig,credentialProviderLogger:e.logger,parentClientConfig:e.parentClientConfig},e.clientPlugins)}return l({RoleArn:r,RoleSessionName:n??`aws-sdk-js-session-${Date.now()}`,WebIdentityToken:o,ProviderId:i,PolicyArns:s,Policy:a,DurationSeconds:c})};Ft.fromWebToken=Eee});var cT=_(Gc=>{"use strict";Object.defineProperty(Gc,"__esModule",{value:!0});Gc.fromTokenFile=void 0;var Cee=te(),Pee=require("fs"),wee=mm(),xee="AWS_WEB_IDENTITY_TOKEN_FILE",Ree="AWS_ROLE_ARN",bee="AWS_ROLE_SESSION_NAME",Aee=(e={})=>async()=>{var t,r,n,o;(t=e.logger)===null||t===void 0||t.debug("@aws-sdk/credential-provider-web-identity","fromTokenFile");let i=(r=e?.webIdentityTokenFile)!==null&&r!==void 0?r:process.env[xee],s=(n=e?.roleArn)!==null&&n!==void 0?n:process.env[Ree],a=(o=e?.roleSessionName)!==null&&o!==void 0?o:process.env[bee];if(!i||!s)throw new Cee.CredentialsProviderError("Web identity configuration not specified");return(0,wee.fromWebToken)({...e,webIdentityToken:(0,Pee.readFileSync)(i,{encoding:"ascii"}),roleArn:s,roleSessionName:a})()};Gc.fromTokenFile=Aee});var _m=_((rue,$c)=>{var dT=Object.defineProperty,Iee=Object.getOwnPropertyDescriptor,Oee=Object.getOwnPropertyNames,Tee=Object.prototype.hasOwnProperty,fm=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Oee(t))!Tee.call(e,o)&&o!==r&&dT(e,o,{get:()=>t[o],enumerable:!(n=Iee(t,o))||n.enumerable});return e},lT=(e,t,r)=>(fm(e,t,"default"),r&&fm(r,t,"default")),Nee=e=>fm(dT({},"__esModule",{value:!0}),e),vm={};$c.exports=Nee(vm);lT(vm,cT(),$c.exports);lT(vm,mm(),$c.exports)});var gT=_((nue,_T)=>{"use strict";var Dee=Object.create,hi=Object.defineProperty,kee=Object.getOwnPropertyDescriptor,Mee=Object.getOwnPropertyNames,Kee=Object.getPrototypeOf,Fee=Object.prototype.hasOwnProperty,ke=(e,t)=>hi(e,"name",{value:t,configurable:!0}),Lee=(e,t)=>{for(var r in t)hi(e,r,{get:t[r],enumerable:!0})},mT=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Mee(t))!Fee.call(e,o)&&o!==r&&hi(e,o,{get:()=>t[o],enumerable:!(n=kee(t,o))||n.enumerable});return e},mn=(e,t,r)=>(r=e!=null?Dee(Kee(e)):{},mT(t||!e||!e.__esModule?hi(r,"default",{value:e,enumerable:!0}):r,e)),Uee=e=>mT(hi({},"__esModule",{value:!0}),e),fT={};Lee(fT,{fromIni:()=>Yee});_T.exports=Uee(fT);var gm=je(),zc=te(),qee=ke((e,t)=>{let r={EcsContainer:n=>Promise.resolve().then(()=>mn(Sr())).then(({fromContainerMetadata:o})=>o(n)),Ec2InstanceMetadata:n=>Promise.resolve().then(()=>mn(Sr())).then(({fromInstanceMetadata:o})=>o(n)),Environment:n=>Promise.resolve().then(()=>mn(Kl())).then(({fromEnv:o})=>o(n))};if(e in r)return r[e];throw new zc.CredentialsProviderError(`Unsupported credential source in profile ${t}. Got ${e}, expected EcsContainer or Ec2InstanceMetadata or Environment.`)},"resolveCredentialSource"),jee=ke(e=>!!e&&typeof e=="object"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1&&["undefined","string"].indexOf(typeof e.external_id)>-1&&["undefined","string"].indexOf(typeof e.mfa_serial)>-1&&(Hee(e)||Gee(e)),"isAssumeRoleProfile"),Hee=ke(e=>typeof e.source_profile=="string"&&typeof e.credential_source>"u","isAssumeRoleWithSourceProfile"),Gee=ke(e=>typeof e.credential_source=="string"&&typeof e.source_profile>"u","isAssumeRoleWithProviderProfile"),$ee=ke(async(e,t,r,n={})=>{var o;(o=r.logger)==null||o.debug("@aws-sdk/credential-provider-ini","resolveAssumeRoleCredentials (STS)");let i=t[e];if(!r.roleAssumer){let{getDefaultRoleAssumer:m}=await Promise.resolve().then(()=>mn(dm()));r.roleAssumer=m({...r.clientConfig,credentialProviderLogger:r.logger,parentClientConfig:r?.parentClientConfig},r.clientPlugins)}let{source_profile:s}=i;if(s&&s in n)throw new zc.CredentialsProviderError(`Detected a cycle attempting to resolve credentials for profile ${(0,gm.getProfileName)(r)}. Profiles visited: `+Object.keys(n).join(", "),!1);let a=s?vT(s,t,r,{...n,[s]:!0}):(await qee(i.credential_source,e)(r))(),c={RoleArn:i.role_arn,RoleSessionName:i.role_session_name||`aws-sdk-js-${Date.now()}`,ExternalId:i.external_id,DurationSeconds:parseInt(i.duration_seconds||"3600",10)},{mfa_serial:l}=i;if(l){if(!r.mfaCodeProvider)throw new zc.CredentialsProviderError(`Profile ${e} requires multi-factor authentication, but no MFA code callback was provided.`,!1);c.SerialNumber=l,c.TokenCode=await r.mfaCodeProvider(l)}let p=await a;return r.roleAssumer(p,c)},"resolveAssumeRoleCredentials"),zee=ke(e=>!!e&&typeof e=="object"&&typeof e.credential_process=="string","isProcessProfile"),Wee=ke(async(e,t)=>Promise.resolve().then(()=>mn(pm())).then(({fromProcess:r})=>r({...e,profile:t})()),"resolveProcessCredentials"),Vee=ke(async(e,t={})=>{let{fromSSO:r}=await Promise.resolve().then(()=>mn(Sp()));return r({profile:e,logger:t.logger})()},"resolveSsoCredentials"),Bee=ke(e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),"isSsoProfile"),uT=ke(e=>!!e&&typeof e=="object"&&typeof e.aws_access_key_id=="string"&&typeof e.aws_secret_access_key=="string"&&["undefined","string"].indexOf(typeof e.aws_session_token)>-1,"isStaticCredsProfile"),pT=ke((e,t)=>{var r;return(r=t?.logger)==null||r.debug("@aws-sdk/credential-provider-ini","resolveStaticCredentials"),Promise.resolve({accessKeyId:e.aws_access_key_id,secretAccessKey:e.aws_secret_access_key,sessionToken:e.aws_session_token,credentialScope:e.aws_credential_scope})},"resolveStaticCredentials"),Xee=ke(e=>!!e&&typeof e=="object"&&typeof e.web_identity_token_file=="string"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1,"isWebIdentityProfile"),Jee=ke(async(e,t)=>Promise.resolve().then(()=>mn(_m())).then(({fromTokenFile:r})=>r({webIdentityTokenFile:e.web_identity_token_file,roleArn:e.role_arn,roleSessionName:e.role_session_name,roleAssumerWithWebIdentity:t.roleAssumerWithWebIdentity,logger:t.logger,parentClientConfig:t.parentClientConfig})()),"resolveWebIdentityCredentials"),vT=ke(async(e,t,r,n={})=>{let o=t[e];if(Object.keys(n).length>0&&uT(o))return pT(o,r);if(jee(o))return $ee(e,t,r,n);if(uT(o))return pT(o,r);if(Xee(o))return Jee(o,r);if(zee(o))return Wee(r,e);if(Bee(o))return await Vee(e,r);throw new zc.CredentialsProviderError(`Profile ${e} could not be found or parsed in shared credentials file.`)},"resolveProfileData"),Yee=ke((e={})=>async()=>{var t;(t=e.logger)==null||t.debug("@aws-sdk/credential-provider-ini","fromIni");let r=await(0,gm.parseKnownFiles)(e);return vT((0,gm.getProfileName)(e),r,e)},"fromIni")});var xp=_((oue,CT)=>{"use strict";var Qee=Object.create,Si=Object.defineProperty,Zee=Object.getOwnPropertyDescriptor,ete=Object.getOwnPropertyNames,tte=Object.getPrototypeOf,rte=Object.prototype.hasOwnProperty,Wc=(e,t)=>Si(e,"name",{value:t,configurable:!0}),nte=(e,t)=>{for(var r in t)Si(e,r,{get:t[r],enumerable:!0})},yT=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of ete(t))!rte.call(e,o)&&o!==r&&Si(e,o,{get:()=>t[o],enumerable:!(n=Zee(t,o))||n.enumerable});return e},vo=(e,t,r)=>(r=e!=null?Qee(tte(e)):{},yT(t||!e||!e.__esModule?Si(r,"default",{value:e,enumerable:!0}):r,e)),ote=e=>yT(Si({},"__esModule",{value:!0}),e),hT={};nte(hT,{credentialsTreatedAsExpired:()=>ET,credentialsWillNeedRefresh:()=>ST,defaultProvider:()=>dte});CT.exports=ote(hT);var ite=Kl(),ste=je(),_o=te(),ate="AWS_EC2_METADATA_DISABLED",cte=Wc(async e=>{var t,r;let{ENV_CMDS_FULL_URI:n,ENV_CMDS_RELATIVE_URI:o,fromContainerMetadata:i,fromInstanceMetadata:s}=await Promise.resolve().then(()=>vo(Sr()));if(process.env[o]||process.env[n]){(t=e.logger)==null||t.debug("@aws-sdk/credential-provider-node","remoteProvider::fromHttp/fromContainerMetadata");let{fromHttp:a}=await Promise.resolve().then(()=>vo(_E()));return(0,_o.chain)(a(e),i(e))}return process.env[ate]?async()=>{throw new _o.CredentialsProviderError("EC2 Instance Metadata Service access disabled")}:((r=e.logger)==null||r.debug("@aws-sdk/credential-provider-node","remoteProvider::fromInstanceMetadata"),s(e))},"remoteProvider"),dte=Wc((e={})=>(0,_o.memoize)((0,_o.chain)(...e.profile||process.env[ste.ENV_PROFILE]?[]:[async()=>{var t;return(t=e.logger)==null||t.debug("@aws-sdk/credential-provider-node","defaultProvider::fromEnv"),(0,ite.fromEnv)(e)()}],async()=>{var t;(t=e.logger)==null||t.debug("@aws-sdk/credential-provider-node","defaultProvider::fromSSO");let{ssoStartUrl:r,ssoAccountId:n,ssoRegion:o,ssoRoleName:i,ssoSession:s}=e;if(!r&&!n&&!o&&!i&&!s)throw new _o.CredentialsProviderError("Skipping SSO provider in default chain (inputs do not include SSO fields).");let{fromSSO:a}=await Promise.resolve().then(()=>vo(Sp()));return a(e)()},async()=>{var t;(t=e.logger)==null||t.debug("@aws-sdk/credential-provider-node","defaultProvider::fromIni");let{fromIni:r}=await Promise.resolve().then(()=>vo(gT()));return r(e)()},async()=>{var t;(t=e.logger)==null||t.debug("@aws-sdk/credential-provider-node","defaultProvider::fromProcess");let{fromProcess:r}=await Promise.resolve().then(()=>vo(pm()));return r(e)()},async()=>{var t;(t=e.logger)==null||t.debug("@aws-sdk/credential-provider-node","defaultProvider::fromTokenFile");let{fromTokenFile:r}=await Promise.resolve().then(()=>vo(_m()));return r(e)()},async()=>{var t;return(t=e.logger)==null||t.debug("@aws-sdk/credential-provider-node","defaultProvider::remoteProvider"),(await cte(e))()},async()=>{throw new _o.CredentialsProviderError("Could not load credentials from any providers",!1)}),ET,ST),"defaultProvider"),ST=Wc(e=>e?.expiration!==void 0,"credentialsWillNeedRefresh"),ET=Wc(e=>e?.expiration!==void 0&&e.expiration.getTime()-Date.now()<3e5,"credentialsTreatedAsExpired")});var KT=_(Vc=>{"use strict";Object.defineProperty(Vc,"__esModule",{value:!0});Vc.ruleSet=void 0;var DT="required",Ut="fn",qt="argv",yo="ref",PT=!0,wT="isSet",Ci="booleanEquals",go="error",Ei="endpoint",cr="tree",ym="PartitionResult",xT={[DT]:!1,type:"String"},RT={[DT]:!0,default:!1,type:"Boolean"},bT={[yo]:"Endpoint"},kT={[Ut]:Ci,[qt]:[{[yo]:"UseFIPS"},!0]},MT={[Ut]:Ci,[qt]:[{[yo]:"UseDualStack"},!0]},Lt={},AT={[Ut]:"getAttr",[qt]:[{[yo]:ym},"supportsFIPS"]},IT={[Ut]:Ci,[qt]:[!0,{[Ut]:"getAttr",[qt]:[{[yo]:ym},"supportsDualStack"]}]},OT=[kT],TT=[MT],NT=[{[yo]:"Region"}],lte={version:"1.0",parameters:{Region:xT,UseDualStack:RT,UseFIPS:RT,Endpoint:xT},rules:[{conditions:[{[Ut]:wT,[qt]:[bT]}],rules:[{conditions:OT,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:go},{conditions:TT,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:go},{endpoint:{url:bT,properties:Lt,headers:Lt},type:Ei}],type:cr},{conditions:[{[Ut]:wT,[qt]:NT}],rules:[{conditions:[{[Ut]:"aws.partition",[qt]:NT,assign:ym}],rules:[{conditions:[kT,MT],rules:[{conditions:[{[Ut]:Ci,[qt]:[PT,AT]},IT],rules:[{endpoint:{url:"https://kms-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Lt,headers:Lt},type:Ei}],type:cr},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:go}],type:cr},{conditions:OT,rules:[{conditions:[{[Ut]:Ci,[qt]:[AT,PT]}],rules:[{endpoint:{url:"https://kms-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Lt,headers:Lt},type:Ei}],type:cr},{error:"FIPS is enabled but this partition does not support FIPS",type:go}],type:cr},{conditions:TT,rules:[{conditions:[IT],rules:[{endpoint:{url:"https://kms.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Lt,headers:Lt},type:Ei}],type:cr},{error:"DualStack is enabled but this partition does not support DualStack",type:go}],type:cr},{endpoint:{url:"https://kms.{Region}.{PartitionResult#dnsSuffix}",properties:Lt,headers:Lt},type:Ei}],type:cr}],type:cr},{error:"Invalid Configuration: Missing Region",type:go}]};Vc.ruleSet=lte});var LT=_(Bc=>{"use strict";Object.defineProperty(Bc,"__esModule",{value:!0});Bc.defaultEndpointResolver=void 0;var ute=Po(),FT=Gt(),pte=KT(),mte=(e,t={})=>(0,FT.resolveEndpoint)(pte.ruleSet,{endpointParams:e,logger:t.logger});Bc.defaultEndpointResolver=mte;FT.customEndpointFunctions.aws=ute.awsEndpointFunctions});var jT=_(Xc=>{"use strict";Object.defineProperty(Xc,"__esModule",{value:!0});Xc.getRuntimeConfig=void 0;var fte=He(),vte=z(),_te=$t(),UT=vr(),qT=Fe(),gte=Dl(),yte=LT(),hte=e=>({apiVersion:"2014-11-01",base64Decoder:e?.base64Decoder??UT.fromBase64,base64Encoder:e?.base64Encoder??UT.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??yte.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??gte.defaultKMSHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new fte.AwsSdkSigV4Signer}],logger:e?.logger??new vte.NoOpLogger,serviceId:e?.serviceId??"KMS",urlParser:e?.urlParser??_te.parseUrl,utf8Decoder:e?.utf8Decoder??qT.fromUtf8,utf8Encoder:e?.utf8Encoder??qT.toUtf8});Xc.getRuntimeConfig=hte});var $T=_(Yc=>{"use strict";Object.defineProperty(Yc,"__esModule",{value:!0});Yc.getRuntimeConfig=void 0;var Ste=(Bt(),bt(Vt)),Ete=Ste.__importDefault(jS()),Cte=He(),Pte=xp(),wte=na(),Jc=Ke(),xte=on(),HT=Le(),Pi=Xe(),GT=It(),Rte=sn(),bte=mr(),Ate=jT(),Ite=z(),Ote=an(),Tte=z(),Nte=e=>{(0,Tte.emitWarningIfUnsupportedVersion)(process.version);let t=(0,Ote.resolveDefaultsModeConfig)(e),r=()=>t().then(Ite.loadConfigsForDefaultMode),n=(0,Ate.getRuntimeConfig)(e);return(0,Cte.emitWarningIfUnsupportedVersion)(process.version),{...n,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??Rte.calculateBodyLength,credentialDefaultProvider:e?.credentialDefaultProvider??Pte.defaultProvider,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,wte.defaultUserAgent)({serviceId:n.serviceId,clientVersion:Ete.default.version}),maxAttempts:e?.maxAttempts??(0,Pi.loadConfig)(HT.NODE_MAX_ATTEMPT_CONFIG_OPTIONS),region:e?.region??(0,Pi.loadConfig)(Jc.NODE_REGION_CONFIG_OPTIONS,Jc.NODE_REGION_CONFIG_FILE_OPTIONS),requestHandler:GT.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,Pi.loadConfig)({...HT.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||bte.DEFAULT_RETRY_MODE}),sha256:e?.sha256??xte.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??GT.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,Pi.loadConfig)(Jc.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS),useFipsEndpoint:e?.useFipsEndpoint??(0,Pi.loadConfig)(Jc.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS)}};Yc.getRuntimeConfig=Nte});var GK=_((lpe,HK)=>{"use strict";var Zc=Object.defineProperty,Dte=Object.getOwnPropertyDescriptor,kte=Object.getOwnPropertyNames,Mte=Object.prototype.hasOwnProperty,u=(e,t)=>Zc(e,"name",{value:t,configurable:!0}),Kte=(e,t)=>{for(var r in t)Zc(e,r,{get:t[r],enumerable:!0})},Fte=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of kte(t))!Mte.call(e,o)&&o!==r&&Zc(e,o,{get:()=>t[o],enumerable:!(n=Dte(t,o))||n.enumerable});return e},Lte=e=>Fte(Zc({},"__esModule",{value:!0}),e),JT={};Kte(JT,{AlgorithmSpec:()=>Bte,AlreadyExistsException:()=>rN,CancelKeyDeletionCommand:()=>Zk,CloudHsmClusterInUseException:()=>SN,CloudHsmClusterInvalidConfigurationException:()=>PN,CloudHsmClusterNotActiveException:()=>RN,CloudHsmClusterNotFoundException:()=>IN,CloudHsmClusterNotRelatedException:()=>NN,ConflictException:()=>MN,ConnectCustomKeyStoreCommand:()=>tM,ConnectionErrorCodeType:()=>Xte,ConnectionStateType:()=>Jte,CreateAliasCommand:()=>nM,CreateCustomKeyStoreCommand:()=>iM,CreateCustomKeyStoreRequestFilterSensitiveLog:()=>Kk,CreateGrantCommand:()=>aM,CreateKeyCommand:()=>dM,CustomKeyStoreHasCMKsException:()=>rk,CustomKeyStoreInvalidStateException:()=>LN,CustomKeyStoreNameInUseException:()=>JN,CustomKeyStoreNotFoundException:()=>jN,CustomKeyStoreType:()=>Yte,CustomKeyStoresListEntryFilterSensitiveLog:()=>Lk,CustomerMasterKeySpec:()=>ere,DataKeyPairSpec:()=>ure,DataKeySpec:()=>pre,DecryptCommand:()=>uM,DecryptResponseFilterSensitiveLog:()=>Uk,DeleteAliasCommand:()=>mM,DeleteCustomKeyStoreCommand:()=>vM,DeleteImportedKeyMaterialCommand:()=>gM,DependencyTimeoutException:()=>iN,DescribeCustomKeyStoresCommand:()=>Cm,DescribeCustomKeyStoresResponseFilterSensitiveLog:()=>qk,DescribeKeyCommand:()=>SM,DisableKeyCommand:()=>CM,DisableKeyRotationCommand:()=>wM,DisabledException:()=>ID,DisconnectCustomKeyStoreCommand:()=>RM,DryRunOperationException:()=>ND,EnableKeyCommand:()=>AM,EnableKeyRotationCommand:()=>OM,EncryptCommand:()=>NM,EncryptRequestFilterSensitiveLog:()=>jk,EncryptionAlgorithmSpec:()=>ore,ExpirationModelType:()=>ire,ExpiredImportTokenException:()=>Sk,GenerateDataKeyCommand:()=>kM,GenerateDataKeyPairCommand:()=>KM,GenerateDataKeyPairResponseFilterSensitiveLog:()=>Gk,GenerateDataKeyPairWithoutPlaintextCommand:()=>LM,GenerateDataKeyResponseFilterSensitiveLog:()=>Hk,GenerateDataKeyWithoutPlaintextCommand:()=>qM,GenerateMacCommand:()=>HM,GenerateMacRequestFilterSensitiveLog:()=>$k,GenerateRandomCommand:()=>$M,GenerateRandomResponseFilterSensitiveLog:()=>zk,GetKeyPolicyCommand:()=>WM,GetKeyRotationStatusCommand:()=>BM,GetParametersForImportCommand:()=>JM,GetParametersForImportResponseFilterSensitiveLog:()=>Wk,GetPublicKeyCommand:()=>QM,GrantOperation:()=>Zte,ImportKeyMaterialCommand:()=>eK,IncorrectKeyException:()=>ik,IncorrectKeyMaterialException:()=>Pk,IncorrectTrustAnchorException:()=>ZN,InvalidAliasNameException:()=>$N,InvalidArnException:()=>cN,InvalidCiphertextException:()=>ck,InvalidGrantIdException:()=>Ik,InvalidGrantTokenException:()=>MD,InvalidImportTokenException:()=>Rk,InvalidKeyUsageException:()=>uk,InvalidMarkerException:()=>gk,KMS:()=>jK,KMSClient:()=>jt,KMSInternalException:()=>uN,KMSInvalidMacException:()=>Nk,KMSInvalidSignatureException:()=>Mk,KMSInvalidStateException:()=>fN,KMSServiceException:()=>L,KeyEncryptionMechanism:()=>mre,KeyManagerType:()=>sre,KeySpec:()=>tre,KeyState:()=>are,KeyUnavailableException:()=>fk,KeyUsageType:()=>rre,LimitExceededException:()=>VN,ListAliasesCommand:()=>Pm,ListGrantsCommand:()=>wm,ListKeyPoliciesCommand:()=>xm,ListKeyRotationsCommand:()=>Rm,ListKeysCommand:()=>bm,ListResourceTagsCommand:()=>Am,ListRetirableGrantsCommand:()=>Im,MacAlgorithmSpec:()=>cre,MalformedPolicyDocumentException:()=>LD,MessageType:()=>_re,MultiRegionKeyType:()=>dre,NotFoundException:()=>gN,OriginType:()=>nre,PutKeyPolicyCommand:()=>dK,ReEncryptCommand:()=>uK,ReplicateKeyCommand:()=>mK,RetireGrantCommand:()=>vK,RevokeGrantCommand:()=>gK,RotateKeyOnDemandCommand:()=>hK,RotationType:()=>vre,ScheduleKeyDeletionCommand:()=>EK,SignCommand:()=>PK,SignRequestFilterSensitiveLog:()=>Vk,SigningAlgorithmSpec:()=>lre,TagException:()=>jD,TagResourceCommand:()=>xK,UnsupportedOperationException:()=>$D,UntagResourceCommand:()=>bK,UpdateAliasCommand:()=>IK,UpdateCustomKeyStoreCommand:()=>TK,UpdateCustomKeyStoreRequestFilterSensitiveLog:()=>Bk,UpdateKeyDescriptionCommand:()=>DK,UpdatePrimaryRegionCommand:()=>MK,VerifyCommand:()=>FK,VerifyMacCommand:()=>UK,VerifyMacRequestFilterSensitiveLog:()=>Jk,VerifyRequestFilterSensitiveLog:()=>Xk,WrappingKeySpec:()=>fre,XksKeyAlreadyInUseException:()=>VD,XksKeyInvalidConfigurationException:()=>JD,XksKeyNotFoundException:()=>ZD,XksProxyAuthenticationCredentialTypeFilterSensitiveLog:()=>Sm,XksProxyConfigurationTypeFilterSensitiveLog:()=>Fk,XksProxyConnectivityType:()=>Qte,XksProxyIncorrectAuthenticationCredentialException:()=>rD,XksProxyInvalidConfigurationException:()=>iD,XksProxyInvalidResponseException:()=>cD,XksProxyUriEndpointInUseException:()=>uD,XksProxyUriInUseException:()=>fD,XksProxyUriUnreachableException:()=>gD,XksProxyVpcEndpointServiceInUseException:()=>SD,XksProxyVpcEndpointServiceInvalidConfigurationException:()=>PD,XksProxyVpcEndpointServiceNotFoundException:()=>RD,__Client:()=>d.Client,paginateDescribeCustomKeyStores:()=>Bie,paginateListAliases:()=>Xie,paginateListGrants:()=>Jie,paginateListKeyPolicies:()=>Yie,paginateListKeyRotations:()=>Qie,paginateListKeys:()=>Zie,paginateListResourceTags:()=>ese,paginateListRetirableGrants:()=>tse});HK.exports=Lte(JT);var zT=Ii(),Ute=Ti(),qte=Di(),WT=Ui(),jte=Ke(),Rt=Pe(),Hte=tn(),N=At(),VT=Le(),BT=Dl(),Gte=u(e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"kms"}),"resolveClientEndpointParameters"),k={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},$te=$T(),XT=pa(),hm=ae(),d=z(),zte=u(e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(o){let i=t.findIndex(s=>s.schemeId===o.schemeId);i===-1?t.push(o):t.splice(i,1,o)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}},"getHttpAuthExtensionConfiguration"),Wte=u(e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),"resolveHttpAuthRuntimeConfig"),Qc=u(e=>e,"asPartial"),Vte=u((e,t)=>{let r={...Qc((0,XT.getAwsRegionExtensionConfiguration)(e)),...Qc((0,d.getDefaultExtensionConfiguration)(e)),...Qc((0,hm.getHttpHandlerExtensionConfiguration)(e)),...Qc(zte(e))};return t.forEach(n=>n.configure(r)),{...e,...(0,XT.resolveAwsRegionExtensionConfiguration)(r),...(0,d.resolveDefaultRuntimeConfig)(r),...(0,hm.resolveHttpHandlerRuntimeConfig)(r),...Wte(r)}},"resolveRuntimeExtensions"),YT=class extends d.Client{constructor(...[t]){let r=(0,$te.getRuntimeConfig)(t||{}),n=Gte(r),o=(0,jte.resolveRegionConfig)(n),i=(0,N.resolveEndpointConfig)(o),s=(0,VT.resolveRetryConfig)(i),a=(0,zT.resolveHostHeaderConfig)(s),c=(0,WT.resolveUserAgentConfig)(a),l=(0,BT.resolveHttpAuthSchemeConfig)(c),p=Vte(l,t?.extensions||[]);super(p),this.config=p,this.middlewareStack.use((0,VT.getRetryPlugin)(this.config)),this.middlewareStack.use((0,Hte.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,zT.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,Ute.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,qte.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,WT.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,Rt.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:this.getDefaultHttpAuthSchemeParametersProvider(),identityProviderConfigProvider:this.getIdentityProviderConfigProvider()})),this.middlewareStack.use((0,Rt.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}getDefaultHttpAuthSchemeParametersProvider(){return BT.defaultKMSHttpAuthSchemeParametersProvider}getIdentityProviderConfigProvider(){return async t=>new Rt.DefaultIdentityProviderConfig({"aws.auth#sigv4":t.credentials})}};u(YT,"KMSClient");var jt=YT,M=zt(),lue=qe(),j=He(),QT=class ZT extends d.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,ZT.prototype)}};u(QT,"KMSServiceException");var L=QT,Bte={RSAES_OAEP_SHA_1:"RSAES_OAEP_SHA_1",RSAES_OAEP_SHA_256:"RSAES_OAEP_SHA_256",RSAES_PKCS1_V1_5:"RSAES_PKCS1_V1_5",RSA_AES_KEY_WRAP_SHA_1:"RSA_AES_KEY_WRAP_SHA_1",RSA_AES_KEY_WRAP_SHA_256:"RSA_AES_KEY_WRAP_SHA_256"},eN=class tN extends L{constructor(t){super({name:"AlreadyExistsException",$fault:"client",...t}),this.name="AlreadyExistsException",this.$fault="client",Object.setPrototypeOf(this,tN.prototype)}};u(eN,"AlreadyExistsException");var rN=eN,nN=class oN extends L{constructor(t){super({name:"DependencyTimeoutException",$fault:"server",...t}),this.name="DependencyTimeoutException",this.$fault="server",Object.setPrototypeOf(this,oN.prototype)}};u(nN,"DependencyTimeoutException");var iN=nN,sN=class aN extends L{constructor(t){super({name:"InvalidArnException",$fault:"client",...t}),this.name="InvalidArnException",this.$fault="client",Object.setPrototypeOf(this,aN.prototype)}};u(sN,"InvalidArnException");var cN=sN,dN=class lN extends L{constructor(t){super({name:"KMSInternalException",$fault:"server",...t}),this.name="KMSInternalException",this.$fault="server",Object.setPrototypeOf(this,lN.prototype)}};u(dN,"KMSInternalException");var uN=dN,pN=class mN extends L{constructor(t){super({name:"KMSInvalidStateException",$fault:"client",...t}),this.name="KMSInvalidStateException",this.$fault="client",Object.setPrototypeOf(this,mN.prototype)}};u(pN,"KMSInvalidStateException");var fN=pN,vN=class _N extends L{constructor(t){super({name:"NotFoundException",$fault:"client",...t}),this.name="NotFoundException",this.$fault="client",Object.setPrototypeOf(this,_N.prototype)}};u(vN,"NotFoundException");var gN=vN,yN=class hN extends L{constructor(t){super({name:"CloudHsmClusterInUseException",$fault:"client",...t}),this.name="CloudHsmClusterInUseException",this.$fault="client",Object.setPrototypeOf(this,hN.prototype)}};u(yN,"CloudHsmClusterInUseException");var SN=yN,EN=class CN extends L{constructor(t){super({name:"CloudHsmClusterInvalidConfigurationException",$fault:"client",...t}),this.name="CloudHsmClusterInvalidConfigurationException",this.$fault="client",Object.setPrototypeOf(this,CN.prototype)}};u(EN,"CloudHsmClusterInvalidConfigurationException");var PN=EN,wN=class xN extends L{constructor(t){super({name:"CloudHsmClusterNotActiveException",$fault:"client",...t}),this.name="CloudHsmClusterNotActiveException",this.$fault="client",Object.setPrototypeOf(this,xN.prototype)}};u(wN,"CloudHsmClusterNotActiveException");var RN=wN,bN=class AN extends L{constructor(t){super({name:"CloudHsmClusterNotFoundException",$fault:"client",...t}),this.name="CloudHsmClusterNotFoundException",this.$fault="client",Object.setPrototypeOf(this,AN.prototype)}};u(bN,"CloudHsmClusterNotFoundException");var IN=bN,ON=class TN extends L{constructor(t){super({name:"CloudHsmClusterNotRelatedException",$fault:"client",...t}),this.name="CloudHsmClusterNotRelatedException",this.$fault="client",Object.setPrototypeOf(this,TN.prototype)}};u(ON,"CloudHsmClusterNotRelatedException");var NN=ON,DN=class kN extends L{constructor(t){super({name:"ConflictException",$fault:"client",...t}),this.name="ConflictException",this.$fault="client",Object.setPrototypeOf(this,kN.prototype)}};u(DN,"ConflictException");var MN=DN,KN=class FN extends L{constructor(t){super({name:"CustomKeyStoreInvalidStateException",$fault:"client",...t}),this.name="CustomKeyStoreInvalidStateException",this.$fault="client",Object.setPrototypeOf(this,FN.prototype)}};u(KN,"CustomKeyStoreInvalidStateException");var LN=KN,UN=class qN extends L{constructor(t){super({name:"CustomKeyStoreNotFoundException",$fault:"client",...t}),this.name="CustomKeyStoreNotFoundException",this.$fault="client",Object.setPrototypeOf(this,qN.prototype)}};u(UN,"CustomKeyStoreNotFoundException");var jN=UN,Xte={CLUSTER_NOT_FOUND:"CLUSTER_NOT_FOUND",INSUFFICIENT_CLOUDHSM_HSMS:"INSUFFICIENT_CLOUDHSM_HSMS",INSUFFICIENT_FREE_ADDRESSES_IN_SUBNET:"INSUFFICIENT_FREE_ADDRESSES_IN_SUBNET",INTERNAL_ERROR:"INTERNAL_ERROR",INVALID_CREDENTIALS:"INVALID_CREDENTIALS",NETWORK_ERRORS:"NETWORK_ERRORS",SUBNET_NOT_FOUND:"SUBNET_NOT_FOUND",USER_LOCKED_OUT:"USER_LOCKED_OUT",USER_LOGGED_IN:"USER_LOGGED_IN",USER_NOT_FOUND:"USER_NOT_FOUND",XKS_PROXY_ACCESS_DENIED:"XKS_PROXY_ACCESS_DENIED",XKS_PROXY_INVALID_CONFIGURATION:"XKS_PROXY_INVALID_CONFIGURATION",XKS_PROXY_INVALID_RESPONSE:"XKS_PROXY_INVALID_RESPONSE",XKS_PROXY_INVALID_TLS_CONFIGURATION:"XKS_PROXY_INVALID_TLS_CONFIGURATION",XKS_PROXY_NOT_REACHABLE:"XKS_PROXY_NOT_REACHABLE",XKS_PROXY_TIMED_OUT:"XKS_PROXY_TIMED_OUT",XKS_VPC_ENDPOINT_SERVICE_INVALID_CONFIGURATION:"XKS_VPC_ENDPOINT_SERVICE_INVALID_CONFIGURATION",XKS_VPC_ENDPOINT_SERVICE_NOT_FOUND:"XKS_VPC_ENDPOINT_SERVICE_NOT_FOUND"},Jte={CONNECTED:"CONNECTED",CONNECTING:"CONNECTING",DISCONNECTED:"DISCONNECTED",DISCONNECTING:"DISCONNECTING",FAILED:"FAILED"},HN=class GN extends L{constructor(t){super({name:"InvalidAliasNameException",$fault:"client",...t}),this.name="InvalidAliasNameException",this.$fault="client",Object.setPrototypeOf(this,GN.prototype)}};u(HN,"InvalidAliasNameException");var $N=HN,zN=class WN extends L{constructor(t){super({name:"LimitExceededException",$fault:"client",...t}),this.name="LimitExceededException",this.$fault="client",Object.setPrototypeOf(this,WN.prototype)}};u(zN,"LimitExceededException");var VN=zN,Yte={AWS_CLOUDHSM:"AWS_CLOUDHSM",EXTERNAL_KEY_STORE:"EXTERNAL_KEY_STORE"},Qte={PUBLIC_ENDPOINT:"PUBLIC_ENDPOINT",VPC_ENDPOINT_SERVICE:"VPC_ENDPOINT_SERVICE"},BN=class XN extends L{constructor(t){super({name:"CustomKeyStoreNameInUseException",$fault:"client",...t}),this.name="CustomKeyStoreNameInUseException",this.$fault="client",Object.setPrototypeOf(this,XN.prototype)}};u(BN,"CustomKeyStoreNameInUseException");var JN=BN,YN=class QN extends L{constructor(t){super({name:"IncorrectTrustAnchorException",$fault:"client",...t}),this.name="IncorrectTrustAnchorException",this.$fault="client",Object.setPrototypeOf(this,QN.prototype)}};u(YN,"IncorrectTrustAnchorException");var ZN=YN,eD=class tD extends L{constructor(t){super({name:"XksProxyIncorrectAuthenticationCredentialException",$fault:"client",...t}),this.name="XksProxyIncorrectAuthenticationCredentialException",this.$fault="client",Object.setPrototypeOf(this,tD.prototype)}};u(eD,"XksProxyIncorrectAuthenticationCredentialException");var rD=eD,nD=class oD extends L{constructor(t){super({name:"XksProxyInvalidConfigurationException",$fault:"client",...t}),this.name="XksProxyInvalidConfigurationException",this.$fault="client",Object.setPrototypeOf(this,oD.prototype)}};u(nD,"XksProxyInvalidConfigurationException");var iD=nD,sD=class aD extends L{constructor(t){super({name:"XksProxyInvalidResponseException",$fault:"client",...t}),this.name="XksProxyInvalidResponseException",this.$fault="client",Object.setPrototypeOf(this,aD.prototype)}};u(sD,"XksProxyInvalidResponseException");var cD=sD,dD=class lD extends L{constructor(t){super({name:"XksProxyUriEndpointInUseException",$fault:"client",...t}),this.name="XksProxyUriEndpointInUseException",this.$fault="client",Object.setPrototypeOf(this,lD.prototype)}};u(dD,"XksProxyUriEndpointInUseException");var uD=dD,pD=class mD extends L{constructor(t){super({name:"XksProxyUriInUseException",$fault:"client",...t}),this.name="XksProxyUriInUseException",this.$fault="client",Object.setPrototypeOf(this,mD.prototype)}};u(pD,"XksProxyUriInUseException");var fD=pD,vD=class _D extends L{constructor(t){super({name:"XksProxyUriUnreachableException",$fault:"client",...t}),this.name="XksProxyUriUnreachableException",this.$fault="client",Object.setPrototypeOf(this,_D.prototype)}};u(vD,"XksProxyUriUnreachableException");var gD=vD,yD=class hD extends L{constructor(t){super({name:"XksProxyVpcEndpointServiceInUseException",$fault:"client",...t}),this.name="XksProxyVpcEndpointServiceInUseException",this.$fault="client",Object.setPrototypeOf(this,hD.prototype)}};u(yD,"XksProxyVpcEndpointServiceInUseException");var SD=yD,ED=class CD extends L{constructor(t){super({name:"XksProxyVpcEndpointServiceInvalidConfigurationException",$fault:"client",...t}),this.name="XksProxyVpcEndpointServiceInvalidConfigurationException",this.$fault="client",Object.setPrototypeOf(this,CD.prototype)}};u(ED,"XksProxyVpcEndpointServiceInvalidConfigurationException");var PD=ED,wD=class xD extends L{constructor(t){super({name:"XksProxyVpcEndpointServiceNotFoundException",$fault:"client",...t}),this.name="XksProxyVpcEndpointServiceNotFoundException",this.$fault="client",Object.setPrototypeOf(this,xD.prototype)}};u(wD,"XksProxyVpcEndpointServiceNotFoundException");var RD=wD,Zte={CreateGrant:"CreateGrant",Decrypt:"Decrypt",DescribeKey:"DescribeKey",Encrypt:"Encrypt",GenerateDataKey:"GenerateDataKey",GenerateDataKeyPair:"GenerateDataKeyPair",GenerateDataKeyPairWithoutPlaintext:"GenerateDataKeyPairWithoutPlaintext",GenerateDataKeyWithoutPlaintext:"GenerateDataKeyWithoutPlaintext",GenerateMac:"GenerateMac",GetPublicKey:"GetPublicKey",ReEncryptFrom:"ReEncryptFrom",ReEncryptTo:"ReEncryptTo",RetireGrant:"RetireGrant",Sign:"Sign",Verify:"Verify",VerifyMac:"VerifyMac"},bD=class AD extends L{constructor(t){super({name:"DisabledException",$fault:"client",...t}),this.name="DisabledException",this.$fault="client",Object.setPrototypeOf(this,AD.prototype)}};u(bD,"DisabledException");var ID=bD,OD=class TD extends L{constructor(t){super({name:"DryRunOperationException",$fault:"client",...t}),this.name="DryRunOperationException",this.$fault="client",Object.setPrototypeOf(this,TD.prototype)}};u(OD,"DryRunOperationException");var ND=OD,DD=class kD extends L{constructor(t){super({name:"InvalidGrantTokenException",$fault:"client",...t}),this.name="InvalidGrantTokenException",this.$fault="client",Object.setPrototypeOf(this,kD.prototype)}};u(DD,"InvalidGrantTokenException");var MD=DD,ere={ECC_NIST_P256:"ECC_NIST_P256",ECC_NIST_P384:"ECC_NIST_P384",ECC_NIST_P521:"ECC_NIST_P521",ECC_SECG_P256K1:"ECC_SECG_P256K1",HMAC_224:"HMAC_224",HMAC_256:"HMAC_256",HMAC_384:"HMAC_384",HMAC_512:"HMAC_512",RSA_2048:"RSA_2048",RSA_3072:"RSA_3072",RSA_4096:"RSA_4096",SM2:"SM2",SYMMETRIC_DEFAULT:"SYMMETRIC_DEFAULT"},tre={ECC_NIST_P256:"ECC_NIST_P256",ECC_NIST_P384:"ECC_NIST_P384",ECC_NIST_P521:"ECC_NIST_P521",ECC_SECG_P256K1:"ECC_SECG_P256K1",HMAC_224:"HMAC_224",HMAC_256:"HMAC_256",HMAC_384:"HMAC_384",HMAC_512:"HMAC_512",RSA_2048:"RSA_2048",RSA_3072:"RSA_3072",RSA_4096:"RSA_4096",SM2:"SM2",SYMMETRIC_DEFAULT:"SYMMETRIC_DEFAULT"},rre={ENCRYPT_DECRYPT:"ENCRYPT_DECRYPT",GENERATE_VERIFY_MAC:"GENERATE_VERIFY_MAC",SIGN_VERIFY:"SIGN_VERIFY"},nre={AWS_CLOUDHSM:"AWS_CLOUDHSM",AWS_KMS:"AWS_KMS",EXTERNAL:"EXTERNAL",EXTERNAL_KEY_STORE:"EXTERNAL_KEY_STORE"},ore={RSAES_OAEP_SHA_1:"RSAES_OAEP_SHA_1",RSAES_OAEP_SHA_256:"RSAES_OAEP_SHA_256",SM2PKE:"SM2PKE",SYMMETRIC_DEFAULT:"SYMMETRIC_DEFAULT"},ire={KEY_MATERIAL_DOES_NOT_EXPIRE:"KEY_MATERIAL_DOES_NOT_EXPIRE",KEY_MATERIAL_EXPIRES:"KEY_MATERIAL_EXPIRES"},sre={AWS:"AWS",CUSTOMER:"CUSTOMER"},are={Creating:"Creating",Disabled:"Disabled",Enabled:"Enabled",PendingDeletion:"PendingDeletion",PendingImport:"PendingImport",PendingReplicaDeletion:"PendingReplicaDeletion",Unavailable:"Unavailable",Updating:"Updating"},cre={HMAC_SHA_224:"HMAC_SHA_224",HMAC_SHA_256:"HMAC_SHA_256",HMAC_SHA_384:"HMAC_SHA_384",HMAC_SHA_512:"HMAC_SHA_512"},dre={PRIMARY:"PRIMARY",REPLICA:"REPLICA"},lre={ECDSA_SHA_256:"ECDSA_SHA_256",ECDSA_SHA_384:"ECDSA_SHA_384",ECDSA_SHA_512:"ECDSA_SHA_512",RSASSA_PKCS1_V1_5_SHA_256:"RSASSA_PKCS1_V1_5_SHA_256",RSASSA_PKCS1_V1_5_SHA_384:"RSASSA_PKCS1_V1_5_SHA_384",RSASSA_PKCS1_V1_5_SHA_512:"RSASSA_PKCS1_V1_5_SHA_512",RSASSA_PSS_SHA_256:"RSASSA_PSS_SHA_256",RSASSA_PSS_SHA_384:"RSASSA_PSS_SHA_384",RSASSA_PSS_SHA_512:"RSASSA_PSS_SHA_512",SM2DSA:"SM2DSA"},KD=class FD extends L{constructor(t){super({name:"MalformedPolicyDocumentException",$fault:"client",...t}),this.name="MalformedPolicyDocumentException",this.$fault="client",Object.setPrototypeOf(this,FD.prototype)}};u(KD,"MalformedPolicyDocumentException");var LD=KD,UD=class qD extends L{constructor(t){super({name:"TagException",$fault:"client",...t}),this.name="TagException",this.$fault="client",Object.setPrototypeOf(this,qD.prototype)}};u(UD,"TagException");var jD=UD,HD=class GD extends L{constructor(t){super({name:"UnsupportedOperationException",$fault:"client",...t}),this.name="UnsupportedOperationException",this.$fault="client",Object.setPrototypeOf(this,GD.prototype)}};u(HD,"UnsupportedOperationException");var $D=HD,zD=class WD extends L{constructor(t){super({name:"XksKeyAlreadyInUseException",$fault:"client",...t}),this.name="XksKeyAlreadyInUseException",this.$fault="client",Object.setPrototypeOf(this,WD.prototype)}};u(zD,"XksKeyAlreadyInUseException");var VD=zD,BD=class XD extends L{constructor(t){super({name:"XksKeyInvalidConfigurationException",$fault:"client",...t}),this.name="XksKeyInvalidConfigurationException",this.$fault="client",Object.setPrototypeOf(this,XD.prototype)}};u(BD,"XksKeyInvalidConfigurationException");var JD=BD,YD=class QD extends L{constructor(t){super({name:"XksKeyNotFoundException",$fault:"client",...t}),this.name="XksKeyNotFoundException",this.$fault="client",Object.setPrototypeOf(this,QD.prototype)}};u(YD,"XksKeyNotFoundException");var ZD=YD,ek=class tk extends L{constructor(t){super({name:"CustomKeyStoreHasCMKsException",$fault:"client",...t}),this.name="CustomKeyStoreHasCMKsException",this.$fault="client",Object.setPrototypeOf(this,tk.prototype)}};u(ek,"CustomKeyStoreHasCMKsException");var rk=ek,ure={ECC_NIST_P256:"ECC_NIST_P256",ECC_NIST_P384:"ECC_NIST_P384",ECC_NIST_P521:"ECC_NIST_P521",ECC_SECG_P256K1:"ECC_SECG_P256K1",RSA_2048:"RSA_2048",RSA_3072:"RSA_3072",RSA_4096:"RSA_4096",SM2:"SM2"},pre={AES_128:"AES_128",AES_256:"AES_256"},mre={RSAES_OAEP_SHA_256:"RSAES_OAEP_SHA_256"},nk=class ok extends L{constructor(t){super({name:"IncorrectKeyException",$fault:"client",...t}),this.name="IncorrectKeyException",this.$fault="client",Object.setPrototypeOf(this,ok.prototype)}};u(nk,"IncorrectKeyException");var ik=nk,sk=class ak extends L{constructor(t){super({name:"InvalidCiphertextException",$fault:"client",...t}),this.name="InvalidCiphertextException",this.$fault="client",Object.setPrototypeOf(this,ak.prototype)}};u(sk,"InvalidCiphertextException");var ck=sk,dk=class lk extends L{constructor(t){super({name:"InvalidKeyUsageException",$fault:"client",...t}),this.name="InvalidKeyUsageException",this.$fault="client",Object.setPrototypeOf(this,lk.prototype)}};u(dk,"InvalidKeyUsageException");var uk=dk,pk=class mk extends L{constructor(t){super({name:"KeyUnavailableException",$fault:"server",...t}),this.name="KeyUnavailableException",this.$fault="server",Object.setPrototypeOf(this,mk.prototype)}};u(pk,"KeyUnavailableException");var fk=pk,vk=class _k extends L{constructor(t){super({name:"InvalidMarkerException",$fault:"client",...t}),this.name="InvalidMarkerException",this.$fault="client",Object.setPrototypeOf(this,_k.prototype)}};u(vk,"InvalidMarkerException");var gk=vk,yk=class hk extends L{constructor(t){super({name:"ExpiredImportTokenException",$fault:"client",...t}),this.name="ExpiredImportTokenException",this.$fault="client",Object.setPrototypeOf(this,hk.prototype)}};u(yk,"ExpiredImportTokenException");var Sk=yk,fre={RSA_2048:"RSA_2048",RSA_3072:"RSA_3072",RSA_4096:"RSA_4096"},Ek=class Ck extends L{constructor(t){super({name:"IncorrectKeyMaterialException",$fault:"client",...t}),this.name="IncorrectKeyMaterialException",this.$fault="client",Object.setPrototypeOf(this,Ck.prototype)}};u(Ek,"IncorrectKeyMaterialException");var Pk=Ek,wk=class xk extends L{constructor(t){super({name:"InvalidImportTokenException",$fault:"client",...t}),this.name="InvalidImportTokenException",this.$fault="client",Object.setPrototypeOf(this,xk.prototype)}};u(wk,"InvalidImportTokenException");var Rk=wk,bk=class Ak extends L{constructor(t){super({name:"InvalidGrantIdException",$fault:"client",...t}),this.name="InvalidGrantIdException",this.$fault="client",Object.setPrototypeOf(this,Ak.prototype)}};u(bk,"InvalidGrantIdException");var Ik=bk,Ok=class Tk extends L{constructor(t){super({name:"KMSInvalidMacException",$fault:"client",...t}),this.name="KMSInvalidMacException",this.$fault="client",Object.setPrototypeOf(this,Tk.prototype)}};u(Ok,"KMSInvalidMacException");var Nk=Ok,Dk=class kk extends L{constructor(t){super({name:"KMSInvalidSignatureException",$fault:"client",...t}),this.name="KMSInvalidSignatureException",this.$fault="client",Object.setPrototypeOf(this,kk.prototype)}};u(Dk,"KMSInvalidSignatureException");var Mk=Dk,vre={AUTOMATIC:"AUTOMATIC",ON_DEMAND:"ON_DEMAND"},_re={DIGEST:"DIGEST",RAW:"RAW"},Sm=u(e=>({...e,...e.AccessKeyId&&{AccessKeyId:d.SENSITIVE_STRING},...e.RawSecretAccessKey&&{RawSecretAccessKey:d.SENSITIVE_STRING}}),"XksProxyAuthenticationCredentialTypeFilterSensitiveLog"),Kk=u(e=>({...e,...e.KeyStorePassword&&{KeyStorePassword:d.SENSITIVE_STRING},...e.XksProxyAuthenticationCredential&&{XksProxyAuthenticationCredential:Sm(e.XksProxyAuthenticationCredential)}}),"CreateCustomKeyStoreRequestFilterSensitiveLog"),Fk=u(e=>({...e,...e.AccessKeyId&&{AccessKeyId:d.SENSITIVE_STRING}}),"XksProxyConfigurationTypeFilterSensitiveLog"),Lk=u(e=>({...e,...e.XksProxyConfiguration&&{XksProxyConfiguration:Fk(e.XksProxyConfiguration)}}),"CustomKeyStoresListEntryFilterSensitiveLog"),Uk=u(e=>({...e,...e.Plaintext&&{Plaintext:d.SENSITIVE_STRING}}),"DecryptResponseFilterSensitiveLog"),qk=u(e=>({...e,...e.CustomKeyStores&&{CustomKeyStores:e.CustomKeyStores.map(t=>Lk(t))}}),"DescribeCustomKeyStoresResponseFilterSensitiveLog"),jk=u(e=>({...e,...e.Plaintext&&{Plaintext:d.SENSITIVE_STRING}}),"EncryptRequestFilterSensitiveLog"),Hk=u(e=>({...e,...e.Plaintext&&{Plaintext:d.SENSITIVE_STRING}}),"GenerateDataKeyResponseFilterSensitiveLog"),Gk=u(e=>({...e,...e.PrivateKeyPlaintext&&{PrivateKeyPlaintext:d.SENSITIVE_STRING}}),"GenerateDataKeyPairResponseFilterSensitiveLog"),$k=u(e=>({...e,...e.Message&&{Message:d.SENSITIVE_STRING}}),"GenerateMacRequestFilterSensitiveLog"),zk=u(e=>({...e,...e.Plaintext&&{Plaintext:d.SENSITIVE_STRING}}),"GenerateRandomResponseFilterSensitiveLog"),Wk=u(e=>({...e,...e.PublicKey&&{PublicKey:d.SENSITIVE_STRING}}),"GetParametersForImportResponseFilterSensitiveLog"),Vk=u(e=>({...e,...e.Message&&{Message:d.SENSITIVE_STRING}}),"SignRequestFilterSensitiveLog"),Bk=u(e=>({...e,...e.KeyStorePassword&&{KeyStorePassword:d.SENSITIVE_STRING},...e.XksProxyAuthenticationCredential&&{XksProxyAuthenticationCredential:Sm(e.XksProxyAuthenticationCredential)}}),"UpdateCustomKeyStoreRequestFilterSensitiveLog"),Xk=u(e=>({...e,...e.Message&&{Message:d.SENSITIVE_STRING}}),"VerifyRequestFilterSensitiveLog"),Jk=u(e=>({...e,...e.Message&&{Message:d.SENSITIVE_STRING}}),"VerifyMacRequestFilterSensitiveLog"),gre=u(async(e,t)=>{let r=D("CancelKeyDeletion"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_CancelKeyDeletionCommand"),yre=u(async(e,t)=>{let r=D("ConnectCustomKeyStore"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_ConnectCustomKeyStoreCommand"),hre=u(async(e,t)=>{let r=D("CreateAlias"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_CreateAliasCommand"),Sre=u(async(e,t)=>{let r=D("CreateCustomKeyStore"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_CreateCustomKeyStoreCommand"),Ere=u(async(e,t)=>{let r=D("CreateGrant"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_CreateGrantCommand"),Cre=u(async(e,t)=>{let r=D("CreateKey"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_CreateKeyCommand"),Pre=u(async(e,t)=>{let r=D("Decrypt"),n;return n=JSON.stringify(aie(e,t)),F(t,r,"/",void 0,n)},"se_DecryptCommand"),wre=u(async(e,t)=>{let r=D("DeleteAlias"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_DeleteAliasCommand"),xre=u(async(e,t)=>{let r=D("DeleteCustomKeyStore"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_DeleteCustomKeyStoreCommand"),Rre=u(async(e,t)=>{let r=D("DeleteImportedKeyMaterial"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_DeleteImportedKeyMaterialCommand"),bre=u(async(e,t)=>{let r=D("DescribeCustomKeyStores"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_DescribeCustomKeyStoresCommand"),Are=u(async(e,t)=>{let r=D("DescribeKey"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_DescribeKeyCommand"),Ire=u(async(e,t)=>{let r=D("DisableKey"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_DisableKeyCommand"),Ore=u(async(e,t)=>{let r=D("DisableKeyRotation"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_DisableKeyRotationCommand"),Tre=u(async(e,t)=>{let r=D("DisconnectCustomKeyStore"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_DisconnectCustomKeyStoreCommand"),Nre=u(async(e,t)=>{let r=D("EnableKey"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_EnableKeyCommand"),Dre=u(async(e,t)=>{let r=D("EnableKeyRotation"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_EnableKeyRotationCommand"),kre=u(async(e,t)=>{let r=D("Encrypt"),n;return n=JSON.stringify(cie(e,t)),F(t,r,"/",void 0,n)},"se_EncryptCommand"),Mre=u(async(e,t)=>{let r=D("GenerateDataKey"),n;return n=JSON.stringify(lie(e,t)),F(t,r,"/",void 0,n)},"se_GenerateDataKeyCommand"),Kre=u(async(e,t)=>{let r=D("GenerateDataKeyPair"),n;return n=JSON.stringify(die(e,t)),F(t,r,"/",void 0,n)},"se_GenerateDataKeyPairCommand"),Fre=u(async(e,t)=>{let r=D("GenerateDataKeyPairWithoutPlaintext"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_GenerateDataKeyPairWithoutPlaintextCommand"),Lre=u(async(e,t)=>{let r=D("GenerateDataKeyWithoutPlaintext"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_GenerateDataKeyWithoutPlaintextCommand"),Ure=u(async(e,t)=>{let r=D("GenerateMac"),n;return n=JSON.stringify(uie(e,t)),F(t,r,"/",void 0,n)},"se_GenerateMacCommand"),qre=u(async(e,t)=>{let r=D("GenerateRandom"),n;return n=JSON.stringify(pie(e,t)),F(t,r,"/",void 0,n)},"se_GenerateRandomCommand"),jre=u(async(e,t)=>{let r=D("GetKeyPolicy"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_GetKeyPolicyCommand"),Hre=u(async(e,t)=>{let r=D("GetKeyRotationStatus"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_GetKeyRotationStatusCommand"),Gre=u(async(e,t)=>{let r=D("GetParametersForImport"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_GetParametersForImportCommand"),$re=u(async(e,t)=>{let r=D("GetPublicKey"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_GetPublicKeyCommand"),zre=u(async(e,t)=>{let r=D("ImportKeyMaterial"),n;return n=JSON.stringify(mie(e,t)),F(t,r,"/",void 0,n)},"se_ImportKeyMaterialCommand"),Wre=u(async(e,t)=>{let r=D("ListAliases"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_ListAliasesCommand"),Vre=u(async(e,t)=>{let r=D("ListGrants"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_ListGrantsCommand"),Bre=u(async(e,t)=>{let r=D("ListKeyPolicies"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_ListKeyPoliciesCommand"),Xre=u(async(e,t)=>{let r=D("ListKeyRotations"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_ListKeyRotationsCommand"),Jre=u(async(e,t)=>{let r=D("ListKeys"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_ListKeysCommand"),Yre=u(async(e,t)=>{let r=D("ListResourceTags"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_ListResourceTagsCommand"),Qre=u(async(e,t)=>{let r=D("ListRetirableGrants"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_ListRetirableGrantsCommand"),Zre=u(async(e,t)=>{let r=D("PutKeyPolicy"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_PutKeyPolicyCommand"),ene=u(async(e,t)=>{let r=D("ReEncrypt"),n;return n=JSON.stringify(fie(e,t)),F(t,r,"/",void 0,n)},"se_ReEncryptCommand"),tne=u(async(e,t)=>{let r=D("ReplicateKey"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_ReplicateKeyCommand"),rne=u(async(e,t)=>{let r=D("RetireGrant"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_RetireGrantCommand"),nne=u(async(e,t)=>{let r=D("RevokeGrant"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_RevokeGrantCommand"),one=u(async(e,t)=>{let r=D("RotateKeyOnDemand"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_RotateKeyOnDemandCommand"),ine=u(async(e,t)=>{let r=D("ScheduleKeyDeletion"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_ScheduleKeyDeletionCommand"),sne=u(async(e,t)=>{let r=D("Sign"),n;return n=JSON.stringify(vie(e,t)),F(t,r,"/",void 0,n)},"se_SignCommand"),ane=u(async(e,t)=>{let r=D("TagResource"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_TagResourceCommand"),cne=u(async(e,t)=>{let r=D("UntagResource"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_UntagResourceCommand"),dne=u(async(e,t)=>{let r=D("UpdateAlias"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_UpdateAliasCommand"),lne=u(async(e,t)=>{let r=D("UpdateCustomKeyStore"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_UpdateCustomKeyStoreCommand"),une=u(async(e,t)=>{let r=D("UpdateKeyDescription"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_UpdateKeyDescriptionCommand"),pne=u(async(e,t)=>{let r=D("UpdatePrimaryRegion"),n;return n=JSON.stringify((0,d._json)(e)),F(t,r,"/",void 0,n)},"se_UpdatePrimaryRegionCommand"),mne=u(async(e,t)=>{let r=D("Verify"),n;return n=JSON.stringify(gie(e,t)),F(t,r,"/",void 0,n)},"se_VerifyCommand"),fne=u(async(e,t)=>{let r=D("VerifyMac"),n;return n=JSON.stringify(_ie(e,t)),F(t,r,"/",void 0,n)},"se_VerifyMacCommand"),vne=u(async(e,t)=>{if(e.statusCode>=300)return K(e,t);let r=await(0,j.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:h(e),...n}},"de_CancelKeyDeletionCommand"),_ne=u(async(e,t)=>{if(e.statusCode>=300)return K(e,t);let r=await(0,j.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:h(e),...n}},"de_ConnectCustomKeyStoreCommand"),gne=u(async(e,t)=>e.statusCode>=300?K(e,t):(await(0,d.collectBody)(e.body,t),{$metadata:h(e)}),"de_CreateAliasCommand"),yne=u(async(e,t)=>{if(e.statusCode>=300)return K(e,t);let r=await(0,j.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:h(e),...n}},"de_CreateCustomKeyStoreCommand"),hne=u(async(e,t)=>{if(e.statusCode>=300)return K(e,t);let r=await(0,j.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:h(e),...n}},"de_CreateGrantCommand"),Sne=u(async(e,t)=>{if(e.statusCode>=300)return K(e,t);let r=await(0,j.parseJsonBody)(e.body,t),n={};return n=Sie(r,t),{$metadata:h(e),...n}},"de_CreateKeyCommand"),Ene=u(async(e,t)=>{if(e.statusCode>=300)return K(e,t);let r=await(0,j.parseJsonBody)(e.body,t),n={};return n=Pie(r,t),{$metadata:h(e),...n}},"de_DecryptCommand"),Cne=u(async(e,t)=>e.statusCode>=300?K(e,t):(await(0,d.collectBody)(e.body,t),{$metadata:h(e)}),"de_DeleteAliasCommand"),Pne=u(async(e,t)=>{if(e.statusCode>=300)return K(e,t);let r=await(0,j.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:h(e),...n}},"de_DeleteCustomKeyStoreCommand"),wne=u(async(e,t)=>e.statusCode>=300?K(e,t):(await(0,d.collectBody)(e.body,t),{$metadata:h(e)}),"de_DeleteImportedKeyMaterialCommand"),xne=u(async(e,t)=>{if(e.statusCode>=300)return K(e,t);let r=await(0,j.parseJsonBody)(e.body,t),n={};return n=wie(r,t),{$metadata:h(e),...n}},"de_DescribeCustomKeyStoresCommand"),Rne=u(async(e,t)=>{if(e.statusCode>=300)return K(e,t);let r=await(0,j.parseJsonBody)(e.body,t),n={};return n=xie(r,t),{$metadata:h(e),...n}},"de_DescribeKeyCommand"),bne=u(async(e,t)=>e.statusCode>=300?K(e,t):(await(0,d.collectBody)(e.body,t),{$metadata:h(e)}),"de_DisableKeyCommand"),Ane=u(async(e,t)=>e.statusCode>=300?K(e,t):(await(0,d.collectBody)(e.body,t),{$metadata:h(e)}),"de_DisableKeyRotationCommand"),Ine=u(async(e,t)=>{if(e.statusCode>=300)return K(e,t);let r=await(0,j.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:h(e),...n}},"de_DisconnectCustomKeyStoreCommand"),One=u(async(e,t)=>e.statusCode>=300?K(e,t):(await(0,d.collectBody)(e.body,t),{$metadata:h(e)}),"de_EnableKeyCommand"),Tne=u(async(e,t)=>e.statusCode>=300?K(e,t):(await(0,d.collectBody)(e.body,t),{$metadata:h(e)}),"de_EnableKeyRotationCommand"),Nne=u(async(e,t)=>{if(e.statusCode>=300)return K(e,t);let r=await(0,j.parseJsonBody)(e.body,t),n={};return n=Rie(r,t),{$metadata:h(e),...n}},"de_EncryptCommand"),Dne=u(async(e,t)=>{if(e.statusCode>=300)return K(e,t);let r=await(0,j.parseJsonBody)(e.body,t),n={};return n=Iie(r,t),{$metadata:h(e),...n}},"de_GenerateDataKeyCommand"),kne=u(async(e,t)=>{if(e.statusCode>=300)return K(e,t);let r=await(0,j.parseJsonBody)(e.body,t),n={};return n=bie(r,t),{$metadata:h(e),...n}},"de_GenerateDataKeyPairCommand"),Mne=u(async(e,t)=>{if(e.statusCode>=300)return K(e,t);let r=await(0,j.parseJsonBody)(e.body,t),n={};return n=Aie(r,t),{$metadata:h(e),...n}},"de_GenerateDataKeyPairWithoutPlaintextCommand"),Kne=u(async(e,t)=>{if(e.statusCode>=300)return K(e,t);let r=await(0,j.parseJsonBody)(e.body,t),n={};return n=Oie(r,t),{$metadata:h(e),...n}},"de_GenerateDataKeyWithoutPlaintextCommand"),Fne=u(async(e,t)=>{if(e.statusCode>=300)return K(e,t);let r=await(0,j.parseJsonBody)(e.body,t),n={};return n=Tie(r,t),{$metadata:h(e),...n}},"de_GenerateMacCommand"),Lne=u(async(e,t)=>{if(e.statusCode>=300)return K(e,t);let r=await(0,j.parseJsonBody)(e.body,t),n={};return n=Nie(r,t),{$metadata:h(e),...n}},"de_GenerateRandomCommand"),Une=u(async(e,t)=>{if(e.statusCode>=300)return K(e,t);let r=await(0,j.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:h(e),...n}},"de_GetKeyPolicyCommand"),qne=u(async(e,t)=>{if(e.statusCode>=300)return K(e,t);let r=await(0,j.parseJsonBody)(e.body,t),n={};return n=Die(r,t),{$metadata:h(e),...n}},"de_GetKeyRotationStatusCommand"),jne=u(async(e,t)=>{if(e.statusCode>=300)return K(e,t);let r=await(0,j.parseJsonBody)(e.body,t),n={};return n=kie(r,t),{$metadata:h(e),...n}},"de_GetParametersForImportCommand"),Hne=u(async(e,t)=>{if(e.statusCode>=300)return K(e,t);let r=await(0,j.parseJsonBody)(e.body,t),n={};return n=Mie(r,t),{$metadata:h(e),...n}},"de_GetPublicKeyCommand"),Gne=u(async(e,t)=>{if(e.statusCode>=300)return K(e,t);let r=await(0,j.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:h(e),...n}},"de_ImportKeyMaterialCommand"),$ne=u(async(e,t)=>{if(e.statusCode>=300)return K(e,t);let r=await(0,j.parseJsonBody)(e.body,t),n={};return n=Lie(r,t),{$metadata:h(e),...n}},"de_ListAliasesCommand"),zne=u(async(e,t)=>{if(e.statusCode>=300)return K(e,t);let r=await(0,j.parseJsonBody)(e.body,t),n={};return n=Yk(r,t),{$metadata:h(e),...n}},"de_ListGrantsCommand"),Wne=u(async(e,t)=>{if(e.statusCode>=300)return K(e,t);let r=await(0,j.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:h(e),...n}},"de_ListKeyPoliciesCommand"),Vne=u(async(e,t)=>{if(e.statusCode>=300)return K(e,t);let r=await(0,j.parseJsonBody)(e.body,t),n={};return n=Uie(r,t),{$metadata:h(e),...n}},"de_ListKeyRotationsCommand"),Bne=u(async(e,t)=>{if(e.statusCode>=300)return K(e,t);let r=await(0,j.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:h(e),...n}},"de_ListKeysCommand"),Xne=u(async(e,t)=>{if(e.statusCode>=300)return K(e,t);let r=await(0,j.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:h(e),...n}},"de_ListResourceTagsCommand"),Jne=u(async(e,t)=>{if(e.statusCode>=300)return K(e,t);let r=await(0,j.parseJsonBody)(e.body,t),n={};return n=Yk(r,t),{$metadata:h(e),...n}},"de_ListRetirableGrantsCommand"),Yne=u(async(e,t)=>e.statusCode>=300?K(e,t):(await(0,d.collectBody)(e.body,t),{$metadata:h(e)}),"de_PutKeyPolicyCommand"),Qne=u(async(e,t)=>{if(e.statusCode>=300)return K(e,t);let r=await(0,j.parseJsonBody)(e.body,t),n={};return n=qie(r,t),{$metadata:h(e),...n}},"de_ReEncryptCommand"),Zne=u(async(e,t)=>{if(e.statusCode>=300)return K(e,t);let r=await(0,j.parseJsonBody)(e.body,t),n={};return n=jie(r,t),{$metadata:h(e),...n}},"de_ReplicateKeyCommand"),eoe=u(async(e,t)=>e.statusCode>=300?K(e,t):(await(0,d.collectBody)(e.body,t),{$metadata:h(e)}),"de_RetireGrantCommand"),toe=u(async(e,t)=>e.statusCode>=300?K(e,t):(await(0,d.collectBody)(e.body,t),{$metadata:h(e)}),"de_RevokeGrantCommand"),roe=u(async(e,t)=>{if(e.statusCode>=300)return K(e,t);let r=await(0,j.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:h(e),...n}},"de_RotateKeyOnDemandCommand"),noe=u(async(e,t)=>{if(e.statusCode>=300)return K(e,t);let r=await(0,j.parseJsonBody)(e.body,t),n={};return n=$ie(r,t),{$metadata:h(e),...n}},"de_ScheduleKeyDeletionCommand"),ooe=u(async(e,t)=>{if(e.statusCode>=300)return K(e,t);let r=await(0,j.parseJsonBody)(e.body,t),n={};return n=zie(r,t),{$metadata:h(e),...n}},"de_SignCommand"),ioe=u(async(e,t)=>e.statusCode>=300?K(e,t):(await(0,d.collectBody)(e.body,t),{$metadata:h(e)}),"de_TagResourceCommand"),soe=u(async(e,t)=>e.statusCode>=300?K(e,t):(await(0,d.collectBody)(e.body,t),{$metadata:h(e)}),"de_UntagResourceCommand"),aoe=u(async(e,t)=>e.statusCode>=300?K(e,t):(await(0,d.collectBody)(e.body,t),{$metadata:h(e)}),"de_UpdateAliasCommand"),coe=u(async(e,t)=>{if(e.statusCode>=300)return K(e,t);let r=await(0,j.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:h(e),...n}},"de_UpdateCustomKeyStoreCommand"),doe=u(async(e,t)=>e.statusCode>=300?K(e,t):(await(0,d.collectBody)(e.body,t),{$metadata:h(e)}),"de_UpdateKeyDescriptionCommand"),loe=u(async(e,t)=>e.statusCode>=300?K(e,t):(await(0,d.collectBody)(e.body,t),{$metadata:h(e)}),"de_UpdatePrimaryRegionCommand"),uoe=u(async(e,t)=>{if(e.statusCode>=300)return K(e,t);let r=await(0,j.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:h(e),...n}},"de_VerifyCommand"),poe=u(async(e,t)=>{if(e.statusCode>=300)return K(e,t);let r=await(0,j.parseJsonBody)(e.body,t),n={};return n=(0,d._json)(r),{$metadata:h(e),...n}},"de_VerifyMacCommand"),K=u(async(e,t)=>{let r={...e,body:await(0,j.parseJsonErrorBody)(e.body,t)},n=(0,j.loadRestJsonErrorCode)(e,r.body);switch(n){case"DependencyTimeoutException":case"com.amazonaws.kms#DependencyTimeoutException":throw await woe(r,t);case"InvalidArnException":case"com.amazonaws.kms#InvalidArnException":throw await Noe(r,t);case"KMSInternalException":case"com.amazonaws.kms#KMSInternalException":throw await qoe(r,t);case"KMSInvalidStateException":case"com.amazonaws.kms#KMSInvalidStateException":throw await Goe(r,t);case"NotFoundException":case"com.amazonaws.kms#NotFoundException":throw await Woe(r,t);case"CloudHsmClusterInvalidConfigurationException":case"com.amazonaws.kms#CloudHsmClusterInvalidConfigurationException":throw await voe(r,t);case"CloudHsmClusterNotActiveException":case"com.amazonaws.kms#CloudHsmClusterNotActiveException":throw await _oe(r,t);case"CustomKeyStoreInvalidStateException":case"com.amazonaws.kms#CustomKeyStoreInvalidStateException":throw await Eoe(r,t);case"CustomKeyStoreNotFoundException":case"com.amazonaws.kms#CustomKeyStoreNotFoundException":throw await Poe(r,t);case"AlreadyExistsException":case"com.amazonaws.kms#AlreadyExistsException":throw await moe(r,t);case"InvalidAliasNameException":case"com.amazonaws.kms#InvalidAliasNameException":throw await Toe(r,t);case"LimitExceededException":case"com.amazonaws.kms#LimitExceededException":throw await $oe(r,t);case"CloudHsmClusterInUseException":case"com.amazonaws.kms#CloudHsmClusterInUseException":throw await foe(r,t);case"CloudHsmClusterNotFoundException":case"com.amazonaws.kms#CloudHsmClusterNotFoundException":throw await goe(r,t);case"CustomKeyStoreNameInUseException":case"com.amazonaws.kms#CustomKeyStoreNameInUseException":throw await Coe(r,t);case"IncorrectTrustAnchorException":case"com.amazonaws.kms#IncorrectTrustAnchorException":throw await Ooe(r,t);case"XksProxyIncorrectAuthenticationCredentialException":case"com.amazonaws.kms#XksProxyIncorrectAuthenticationCredentialException":throw await Qoe(r,t);case"XksProxyInvalidConfigurationException":case"com.amazonaws.kms#XksProxyInvalidConfigurationException":throw await Zoe(r,t);case"XksProxyInvalidResponseException":case"com.amazonaws.kms#XksProxyInvalidResponseException":throw await eie(r,t);case"XksProxyUriEndpointInUseException":case"com.amazonaws.kms#XksProxyUriEndpointInUseException":throw await tie(r,t);case"XksProxyUriInUseException":case"com.amazonaws.kms#XksProxyUriInUseException":throw await rie(r,t);case"XksProxyUriUnreachableException":case"com.amazonaws.kms#XksProxyUriUnreachableException":throw await nie(r,t);case"XksProxyVpcEndpointServiceInUseException":case"com.amazonaws.kms#XksProxyVpcEndpointServiceInUseException":throw await oie(r,t);case"XksProxyVpcEndpointServiceInvalidConfigurationException":case"com.amazonaws.kms#XksProxyVpcEndpointServiceInvalidConfigurationException":throw await iie(r,t);case"XksProxyVpcEndpointServiceNotFoundException":case"com.amazonaws.kms#XksProxyVpcEndpointServiceNotFoundException":throw await sie(r,t);case"DisabledException":case"com.amazonaws.kms#DisabledException":throw await xoe(r,t);case"DryRunOperationException":case"com.amazonaws.kms#DryRunOperationException":throw await Roe(r,t);case"InvalidGrantTokenException":case"com.amazonaws.kms#InvalidGrantTokenException":throw await Moe(r,t);case"MalformedPolicyDocumentException":case"com.amazonaws.kms#MalformedPolicyDocumentException":throw await zoe(r,t);case"TagException":case"com.amazonaws.kms#TagException":throw await Voe(r,t);case"UnsupportedOperationException":case"com.amazonaws.kms#UnsupportedOperationException":throw await Boe(r,t);case"XksKeyAlreadyInUseException":case"com.amazonaws.kms#XksKeyAlreadyInUseException":throw await Xoe(r,t);case"XksKeyInvalidConfigurationException":case"com.amazonaws.kms#XksKeyInvalidConfigurationException":throw await Joe(r,t);case"XksKeyNotFoundException":case"com.amazonaws.kms#XksKeyNotFoundException":throw await Yoe(r,t);case"IncorrectKeyException":case"com.amazonaws.kms#IncorrectKeyException":throw await Aoe(r,t);case"InvalidCiphertextException":case"com.amazonaws.kms#InvalidCiphertextException":throw await Doe(r,t);case"InvalidKeyUsageException":case"com.amazonaws.kms#InvalidKeyUsageException":throw await Foe(r,t);case"KeyUnavailableException":case"com.amazonaws.kms#KeyUnavailableException":throw await Uoe(r,t);case"CustomKeyStoreHasCMKsException":case"com.amazonaws.kms#CustomKeyStoreHasCMKsException":throw await Soe(r,t);case"InvalidMarkerException":case"com.amazonaws.kms#InvalidMarkerException":throw await Loe(r,t);case"ExpiredImportTokenException":case"com.amazonaws.kms#ExpiredImportTokenException":throw await boe(r,t);case"IncorrectKeyMaterialException":case"com.amazonaws.kms#IncorrectKeyMaterialException":throw await Ioe(r,t);case"InvalidImportTokenException":case"com.amazonaws.kms#InvalidImportTokenException":throw await Koe(r,t);case"InvalidGrantIdException":case"com.amazonaws.kms#InvalidGrantIdException":throw await koe(r,t);case"ConflictException":case"com.amazonaws.kms#ConflictException":throw await hoe(r,t);case"CloudHsmClusterNotRelatedException":case"com.amazonaws.kms#CloudHsmClusterNotRelatedException":throw await yoe(r,t);case"KMSInvalidSignatureException":case"com.amazonaws.kms#KMSInvalidSignatureException":throw await Hoe(r,t);case"KMSInvalidMacException":case"com.amazonaws.kms#KMSInvalidMacException":throw await joe(r,t);default:let o=r.body;return Wie({output:e,parsedBody:o,errorCode:n})}},"de_CommandError"),moe=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new rN({$metadata:h(e),...n});return(0,d.decorateServiceException)(o,r)},"de_AlreadyExistsExceptionRes"),foe=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new SN({$metadata:h(e),...n});return(0,d.decorateServiceException)(o,r)},"de_CloudHsmClusterInUseExceptionRes"),voe=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new PN({$metadata:h(e),...n});return(0,d.decorateServiceException)(o,r)},"de_CloudHsmClusterInvalidConfigurationExceptionRes"),_oe=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new RN({$metadata:h(e),...n});return(0,d.decorateServiceException)(o,r)},"de_CloudHsmClusterNotActiveExceptionRes"),goe=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new IN({$metadata:h(e),...n});return(0,d.decorateServiceException)(o,r)},"de_CloudHsmClusterNotFoundExceptionRes"),yoe=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new NN({$metadata:h(e),...n});return(0,d.decorateServiceException)(o,r)},"de_CloudHsmClusterNotRelatedExceptionRes"),hoe=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new MN({$metadata:h(e),...n});return(0,d.decorateServiceException)(o,r)},"de_ConflictExceptionRes"),Soe=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new rk({$metadata:h(e),...n});return(0,d.decorateServiceException)(o,r)},"de_CustomKeyStoreHasCMKsExceptionRes"),Eoe=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new LN({$metadata:h(e),...n});return(0,d.decorateServiceException)(o,r)},"de_CustomKeyStoreInvalidStateExceptionRes"),Coe=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new JN({$metadata:h(e),...n});return(0,d.decorateServiceException)(o,r)},"de_CustomKeyStoreNameInUseExceptionRes"),Poe=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new jN({$metadata:h(e),...n});return(0,d.decorateServiceException)(o,r)},"de_CustomKeyStoreNotFoundExceptionRes"),woe=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new iN({$metadata:h(e),...n});return(0,d.decorateServiceException)(o,r)},"de_DependencyTimeoutExceptionRes"),xoe=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new ID({$metadata:h(e),...n});return(0,d.decorateServiceException)(o,r)},"de_DisabledExceptionRes"),Roe=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new ND({$metadata:h(e),...n});return(0,d.decorateServiceException)(o,r)},"de_DryRunOperationExceptionRes"),boe=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new Sk({$metadata:h(e),...n});return(0,d.decorateServiceException)(o,r)},"de_ExpiredImportTokenExceptionRes"),Aoe=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new ik({$metadata:h(e),...n});return(0,d.decorateServiceException)(o,r)},"de_IncorrectKeyExceptionRes"),Ioe=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new Pk({$metadata:h(e),...n});return(0,d.decorateServiceException)(o,r)},"de_IncorrectKeyMaterialExceptionRes"),Ooe=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new ZN({$metadata:h(e),...n});return(0,d.decorateServiceException)(o,r)},"de_IncorrectTrustAnchorExceptionRes"),Toe=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new $N({$metadata:h(e),...n});return(0,d.decorateServiceException)(o,r)},"de_InvalidAliasNameExceptionRes"),Noe=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new cN({$metadata:h(e),...n});return(0,d.decorateServiceException)(o,r)},"de_InvalidArnExceptionRes"),Doe=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new ck({$metadata:h(e),...n});return(0,d.decorateServiceException)(o,r)},"de_InvalidCiphertextExceptionRes"),koe=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new Ik({$metadata:h(e),...n});return(0,d.decorateServiceException)(o,r)},"de_InvalidGrantIdExceptionRes"),Moe=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new MD({$metadata:h(e),...n});return(0,d.decorateServiceException)(o,r)},"de_InvalidGrantTokenExceptionRes"),Koe=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new Rk({$metadata:h(e),...n});return(0,d.decorateServiceException)(o,r)},"de_InvalidImportTokenExceptionRes"),Foe=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new uk({$metadata:h(e),...n});return(0,d.decorateServiceException)(o,r)},"de_InvalidKeyUsageExceptionRes"),Loe=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new gk({$metadata:h(e),...n});return(0,d.decorateServiceException)(o,r)},"de_InvalidMarkerExceptionRes"),Uoe=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new fk({$metadata:h(e),...n});return(0,d.decorateServiceException)(o,r)},"de_KeyUnavailableExceptionRes"),qoe=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new uN({$metadata:h(e),...n});return(0,d.decorateServiceException)(o,r)},"de_KMSInternalExceptionRes"),joe=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new Nk({$metadata:h(e),...n});return(0,d.decorateServiceException)(o,r)},"de_KMSInvalidMacExceptionRes"),Hoe=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new Mk({$metadata:h(e),...n});return(0,d.decorateServiceException)(o,r)},"de_KMSInvalidSignatureExceptionRes"),Goe=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new fN({$metadata:h(e),...n});return(0,d.decorateServiceException)(o,r)},"de_KMSInvalidStateExceptionRes"),$oe=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new VN({$metadata:h(e),...n});return(0,d.decorateServiceException)(o,r)},"de_LimitExceededExceptionRes"),zoe=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new LD({$metadata:h(e),...n});return(0,d.decorateServiceException)(o,r)},"de_MalformedPolicyDocumentExceptionRes"),Woe=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new gN({$metadata:h(e),...n});return(0,d.decorateServiceException)(o,r)},"de_NotFoundExceptionRes"),Voe=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new jD({$metadata:h(e),...n});return(0,d.decorateServiceException)(o,r)},"de_TagExceptionRes"),Boe=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new $D({$metadata:h(e),...n});return(0,d.decorateServiceException)(o,r)},"de_UnsupportedOperationExceptionRes"),Xoe=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new VD({$metadata:h(e),...n});return(0,d.decorateServiceException)(o,r)},"de_XksKeyAlreadyInUseExceptionRes"),Joe=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new JD({$metadata:h(e),...n});return(0,d.decorateServiceException)(o,r)},"de_XksKeyInvalidConfigurationExceptionRes"),Yoe=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new ZD({$metadata:h(e),...n});return(0,d.decorateServiceException)(o,r)},"de_XksKeyNotFoundExceptionRes"),Qoe=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new rD({$metadata:h(e),...n});return(0,d.decorateServiceException)(o,r)},"de_XksProxyIncorrectAuthenticationCredentialExceptionRes"),Zoe=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new iD({$metadata:h(e),...n});return(0,d.decorateServiceException)(o,r)},"de_XksProxyInvalidConfigurationExceptionRes"),eie=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new cD({$metadata:h(e),...n});return(0,d.decorateServiceException)(o,r)},"de_XksProxyInvalidResponseExceptionRes"),tie=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new uD({$metadata:h(e),...n});return(0,d.decorateServiceException)(o,r)},"de_XksProxyUriEndpointInUseExceptionRes"),rie=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new fD({$metadata:h(e),...n});return(0,d.decorateServiceException)(o,r)},"de_XksProxyUriInUseExceptionRes"),nie=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new gD({$metadata:h(e),...n});return(0,d.decorateServiceException)(o,r)},"de_XksProxyUriUnreachableExceptionRes"),oie=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new SD({$metadata:h(e),...n});return(0,d.decorateServiceException)(o,r)},"de_XksProxyVpcEndpointServiceInUseExceptionRes"),iie=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new PD({$metadata:h(e),...n});return(0,d.decorateServiceException)(o,r)},"de_XksProxyVpcEndpointServiceInvalidConfigurationExceptionRes"),sie=u(async(e,t)=>{let r=e.body,n=(0,d._json)(r),o=new RD({$metadata:h(e),...n});return(0,d.decorateServiceException)(o,r)},"de_XksProxyVpcEndpointServiceNotFoundExceptionRes"),aie=u((e,t)=>(0,d.take)(e,{CiphertextBlob:t.base64Encoder,DryRun:[],EncryptionAlgorithm:[],EncryptionContext:d._json,GrantTokens:d._json,KeyId:[],Recipient:r=>ed(r,t)}),"se_DecryptRequest"),cie=u((e,t)=>(0,d.take)(e,{DryRun:[],EncryptionAlgorithm:[],EncryptionContext:d._json,GrantTokens:d._json,KeyId:[],Plaintext:t.base64Encoder}),"se_EncryptRequest"),die=u((e,t)=>(0,d.take)(e,{DryRun:[],EncryptionContext:d._json,GrantTokens:d._json,KeyId:[],KeyPairSpec:[],Recipient:r=>ed(r,t)}),"se_GenerateDataKeyPairRequest"),lie=u((e,t)=>(0,d.take)(e,{DryRun:[],EncryptionContext:d._json,GrantTokens:d._json,KeyId:[],KeySpec:[],NumberOfBytes:[],Recipient:r=>ed(r,t)}),"se_GenerateDataKeyRequest"),uie=u((e,t)=>(0,d.take)(e,{DryRun:[],GrantTokens:d._json,KeyId:[],MacAlgorithm:[],Message:t.base64Encoder}),"se_GenerateMacRequest"),pie=u((e,t)=>(0,d.take)(e,{CustomKeyStoreId:[],NumberOfBytes:[],Recipient:r=>ed(r,t)}),"se_GenerateRandomRequest"),mie=u((e,t)=>(0,d.take)(e,{EncryptedKeyMaterial:t.base64Encoder,ExpirationModel:[],ImportToken:t.base64Encoder,KeyId:[],ValidTo:r=>Math.round(r.getTime()/1e3)}),"se_ImportKeyMaterialRequest"),ed=u((e,t)=>(0,d.take)(e,{AttestationDocument:t.base64Encoder,KeyEncryptionAlgorithm:[]}),"se_RecipientInfo"),fie=u((e,t)=>(0,d.take)(e,{CiphertextBlob:t.base64Encoder,DestinationEncryptionAlgorithm:[],DestinationEncryptionContext:d._json,DestinationKeyId:[],DryRun:[],GrantTokens:d._json,SourceEncryptionAlgorithm:[],SourceEncryptionContext:d._json,SourceKeyId:[]}),"se_ReEncryptRequest"),vie=u((e,t)=>(0,d.take)(e,{DryRun:[],GrantTokens:d._json,KeyId:[],Message:t.base64Encoder,MessageType:[],SigningAlgorithm:[]}),"se_SignRequest"),_ie=u((e,t)=>(0,d.take)(e,{DryRun:[],GrantTokens:d._json,KeyId:[],Mac:t.base64Encoder,MacAlgorithm:[],Message:t.base64Encoder}),"se_VerifyMacRequest"),gie=u((e,t)=>(0,d.take)(e,{DryRun:[],GrantTokens:d._json,KeyId:[],Message:t.base64Encoder,MessageType:[],Signature:t.base64Encoder,SigningAlgorithm:[]}),"se_VerifyRequest"),yie=u((e,t)=>(e||[]).filter(n=>n!=null).map(n=>hie(n,t)),"de_AliasList"),hie=u((e,t)=>(0,d.take)(e,{AliasArn:d.expectString,AliasName:d.expectString,CreationDate:r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),LastUpdatedDate:r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),TargetKeyId:d.expectString}),"de_AliasListEntry"),Sie=u((e,t)=>(0,d.take)(e,{KeyMetadata:r=>Em(r,t)}),"de_CreateKeyResponse"),Eie=u((e,t)=>(e||[]).filter(n=>n!=null).map(n=>Cie(n,t)),"de_CustomKeyStoresList"),Cie=u((e,t)=>(0,d.take)(e,{CloudHsmClusterId:d.expectString,ConnectionErrorCode:d.expectString,ConnectionState:d.expectString,CreationDate:r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),CustomKeyStoreId:d.expectString,CustomKeyStoreName:d.expectString,CustomKeyStoreType:d.expectString,TrustAnchorCertificate:d.expectString,XksProxyConfiguration:d._json}),"de_CustomKeyStoresListEntry"),Pie=u((e,t)=>(0,d.take)(e,{CiphertextForRecipient:t.base64Decoder,EncryptionAlgorithm:d.expectString,KeyId:d.expectString,Plaintext:t.base64Decoder}),"de_DecryptResponse"),wie=u((e,t)=>(0,d.take)(e,{CustomKeyStores:r=>Eie(r,t),NextMarker:d.expectString,Truncated:d.expectBoolean}),"de_DescribeCustomKeyStoresResponse"),xie=u((e,t)=>(0,d.take)(e,{KeyMetadata:r=>Em(r,t)}),"de_DescribeKeyResponse"),Rie=u((e,t)=>(0,d.take)(e,{CiphertextBlob:t.base64Decoder,EncryptionAlgorithm:d.expectString,KeyId:d.expectString}),"de_EncryptResponse"),bie=u((e,t)=>(0,d.take)(e,{CiphertextForRecipient:t.base64Decoder,KeyId:d.expectString,KeyPairSpec:d.expectString,PrivateKeyCiphertextBlob:t.base64Decoder,PrivateKeyPlaintext:t.base64Decoder,PublicKey:t.base64Decoder}),"de_GenerateDataKeyPairResponse"),Aie=u((e,t)=>(0,d.take)(e,{KeyId:d.expectString,KeyPairSpec:d.expectString,PrivateKeyCiphertextBlob:t.base64Decoder,PublicKey:t.base64Decoder}),"de_GenerateDataKeyPairWithoutPlaintextResponse"),Iie=u((e,t)=>(0,d.take)(e,{CiphertextBlob:t.base64Decoder,CiphertextForRecipient:t.base64Decoder,KeyId:d.expectString,Plaintext:t.base64Decoder}),"de_GenerateDataKeyResponse"),Oie=u((e,t)=>(0,d.take)(e,{CiphertextBlob:t.base64Decoder,KeyId:d.expectString}),"de_GenerateDataKeyWithoutPlaintextResponse"),Tie=u((e,t)=>(0,d.take)(e,{KeyId:d.expectString,Mac:t.base64Decoder,MacAlgorithm:d.expectString}),"de_GenerateMacResponse"),Nie=u((e,t)=>(0,d.take)(e,{CiphertextForRecipient:t.base64Decoder,Plaintext:t.base64Decoder}),"de_GenerateRandomResponse"),Die=u((e,t)=>(0,d.take)(e,{KeyId:d.expectString,KeyRotationEnabled:d.expectBoolean,NextRotationDate:r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),OnDemandRotationStartDate:r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),RotationPeriodInDays:d.expectInt32}),"de_GetKeyRotationStatusResponse"),kie=u((e,t)=>(0,d.take)(e,{ImportToken:t.base64Decoder,KeyId:d.expectString,ParametersValidTo:r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),PublicKey:t.base64Decoder}),"de_GetParametersForImportResponse"),Mie=u((e,t)=>(0,d.take)(e,{CustomerMasterKeySpec:d.expectString,EncryptionAlgorithms:d._json,KeyId:d.expectString,KeySpec:d.expectString,KeyUsage:d.expectString,PublicKey:t.base64Decoder,SigningAlgorithms:d._json}),"de_GetPublicKeyResponse"),Kie=u((e,t)=>(e||[]).filter(n=>n!=null).map(n=>Fie(n,t)),"de_GrantList"),Fie=u((e,t)=>(0,d.take)(e,{Constraints:d._json,CreationDate:r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),GrantId:d.expectString,GranteePrincipal:d.expectString,IssuingAccount:d.expectString,KeyId:d.expectString,Name:d.expectString,Operations:d._json,RetiringPrincipal:d.expectString}),"de_GrantListEntry"),Em=u((e,t)=>(0,d.take)(e,{AWSAccountId:d.expectString,Arn:d.expectString,CloudHsmClusterId:d.expectString,CreationDate:r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),CustomKeyStoreId:d.expectString,CustomerMasterKeySpec:d.expectString,DeletionDate:r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),Description:d.expectString,Enabled:d.expectBoolean,EncryptionAlgorithms:d._json,ExpirationModel:d.expectString,KeyId:d.expectString,KeyManager:d.expectString,KeySpec:d.expectString,KeyState:d.expectString,KeyUsage:d.expectString,MacAlgorithms:d._json,MultiRegion:d.expectBoolean,MultiRegionConfiguration:d._json,Origin:d.expectString,PendingDeletionWindowInDays:d.expectInt32,SigningAlgorithms:d._json,ValidTo:r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),XksKeyConfiguration:d._json}),"de_KeyMetadata"),Lie=u((e,t)=>(0,d.take)(e,{Aliases:r=>yie(r,t),NextMarker:d.expectString,Truncated:d.expectBoolean}),"de_ListAliasesResponse"),Yk=u((e,t)=>(0,d.take)(e,{Grants:r=>Kie(r,t),NextMarker:d.expectString,Truncated:d.expectBoolean}),"de_ListGrantsResponse"),Uie=u((e,t)=>(0,d.take)(e,{NextMarker:d.expectString,Rotations:r=>Hie(r,t),Truncated:d.expectBoolean}),"de_ListKeyRotationsResponse"),qie=u((e,t)=>(0,d.take)(e,{CiphertextBlob:t.base64Decoder,DestinationEncryptionAlgorithm:d.expectString,KeyId:d.expectString,SourceEncryptionAlgorithm:d.expectString,SourceKeyId:d.expectString}),"de_ReEncryptResponse"),jie=u((e,t)=>(0,d.take)(e,{ReplicaKeyMetadata:r=>Em(r,t),ReplicaPolicy:d.expectString,ReplicaTags:d._json}),"de_ReplicateKeyResponse"),Hie=u((e,t)=>(e||[]).filter(n=>n!=null).map(n=>Gie(n,t)),"de_RotationsList"),Gie=u((e,t)=>(0,d.take)(e,{KeyId:d.expectString,RotationDate:r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),RotationType:d.expectString}),"de_RotationsListEntry"),$ie=u((e,t)=>(0,d.take)(e,{DeletionDate:r=>(0,d.expectNonNull)((0,d.parseEpochTimestamp)((0,d.expectNumber)(r))),KeyId:d.expectString,KeyState:d.expectString,PendingWindowInDays:d.expectInt32}),"de_ScheduleKeyDeletionResponse"),zie=u((e,t)=>(0,d.take)(e,{KeyId:d.expectString,Signature:t.base64Decoder,SigningAlgorithm:d.expectString}),"de_SignResponse"),h=u(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),Wie=(0,d.withBaseException)(L),F=u(async(e,t,r,n,o)=>{let{hostname:i,protocol:s="https",port:a,path:c}=await e.endpoint(),l={protocol:s,hostname:i,port:a,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+r:c+r,headers:t};return n!==void 0&&(l.hostname=n),o!==void 0&&(l.body=o),new hm.HttpRequest(l)},"buildHttpRpcRequest");function D(e){return{"content-type":"application/x-amz-json-1.1","x-amz-target":`TrentService.${e}`}}u(D,"sharedHeaders");var Qk=class extends d.Command.classBuilder().ep({...k}).m(function(t,r,n,o){return[(0,M.getSerdePlugin)(n,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("TrentService","CancelKeyDeletion",{}).n("KMSClient","CancelKeyDeletionCommand").f(void 0,void 0).ser(gre).de(vne).build(){};u(Qk,"CancelKeyDeletionCommand");var Zk=Qk,eM=class extends d.Command.classBuilder().ep({...k}).m(function(t,r,n,o){return[(0,M.getSerdePlugin)(n,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("TrentService","ConnectCustomKeyStore",{}).n("KMSClient","ConnectCustomKeyStoreCommand").f(void 0,void 0).ser(yre).de(_ne).build(){};u(eM,"ConnectCustomKeyStoreCommand");var tM=eM,rM=class extends d.Command.classBuilder().ep({...k}).m(function(t,r,n,o){return[(0,M.getSerdePlugin)(n,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("TrentService","CreateAlias",{}).n("KMSClient","CreateAliasCommand").f(void 0,void 0).ser(hre).de(gne).build(){};u(rM,"CreateAliasCommand");var nM=rM,oM=class extends d.Command.classBuilder().ep({...k}).m(function(t,r,n,o){return[(0,M.getSerdePlugin)(n,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("TrentService","CreateCustomKeyStore",{}).n("KMSClient","CreateCustomKeyStoreCommand").f(Kk,void 0).ser(Sre).de(yne).build(){};u(oM,"CreateCustomKeyStoreCommand");var iM=oM,sM=class extends d.Command.classBuilder().ep({...k}).m(function(t,r,n,o){return[(0,M.getSerdePlugin)(n,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("TrentService","CreateGrant",{}).n("KMSClient","CreateGrantCommand").f(void 0,void 0).ser(Ere).de(hne).build(){};u(sM,"CreateGrantCommand");var aM=sM,cM=class extends d.Command.classBuilder().ep({...k}).m(function(t,r,n,o){return[(0,M.getSerdePlugin)(n,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("TrentService","CreateKey",{}).n("KMSClient","CreateKeyCommand").f(void 0,void 0).ser(Cre).de(Sne).build(){};u(cM,"CreateKeyCommand");var dM=cM,lM=class extends d.Command.classBuilder().ep({...k}).m(function(t,r,n,o){return[(0,M.getSerdePlugin)(n,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("TrentService","Decrypt",{}).n("KMSClient","DecryptCommand").f(void 0,Uk).ser(Pre).de(Ene).build(){};u(lM,"DecryptCommand");var uM=lM,pM=class extends d.Command.classBuilder().ep({...k}).m(function(t,r,n,o){return[(0,M.getSerdePlugin)(n,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("TrentService","DeleteAlias",{}).n("KMSClient","DeleteAliasCommand").f(void 0,void 0).ser(wre).de(Cne).build(){};u(pM,"DeleteAliasCommand");var mM=pM,fM=class extends d.Command.classBuilder().ep({...k}).m(function(t,r,n,o){return[(0,M.getSerdePlugin)(n,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("TrentService","DeleteCustomKeyStore",{}).n("KMSClient","DeleteCustomKeyStoreCommand").f(void 0,void 0).ser(xre).de(Pne).build(){};u(fM,"DeleteCustomKeyStoreCommand");var vM=fM,_M=class extends d.Command.classBuilder().ep({...k}).m(function(t,r,n,o){return[(0,M.getSerdePlugin)(n,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("TrentService","DeleteImportedKeyMaterial",{}).n("KMSClient","DeleteImportedKeyMaterialCommand").f(void 0,void 0).ser(Rre).de(wne).build(){};u(_M,"DeleteImportedKeyMaterialCommand");var gM=_M,yM=class extends d.Command.classBuilder().ep({...k}).m(function(t,r,n,o){return[(0,M.getSerdePlugin)(n,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("TrentService","DescribeCustomKeyStores",{}).n("KMSClient","DescribeCustomKeyStoresCommand").f(void 0,qk).ser(bre).de(xne).build(){};u(yM,"DescribeCustomKeyStoresCommand");var Cm=yM,hM=class extends d.Command.classBuilder().ep({...k}).m(function(t,r,n,o){return[(0,M.getSerdePlugin)(n,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("TrentService","DescribeKey",{}).n("KMSClient","DescribeKeyCommand").f(void 0,void 0).ser(Are).de(Rne).build(){};u(hM,"DescribeKeyCommand");var SM=hM,EM=class extends d.Command.classBuilder().ep({...k}).m(function(t,r,n,o){return[(0,M.getSerdePlugin)(n,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("TrentService","DisableKey",{}).n("KMSClient","DisableKeyCommand").f(void 0,void 0).ser(Ire).de(bne).build(){};u(EM,"DisableKeyCommand");var CM=EM,PM=class extends d.Command.classBuilder().ep({...k}).m(function(t,r,n,o){return[(0,M.getSerdePlugin)(n,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("TrentService","DisableKeyRotation",{}).n("KMSClient","DisableKeyRotationCommand").f(void 0,void 0).ser(Ore).de(Ane).build(){};u(PM,"DisableKeyRotationCommand");var wM=PM,xM=class extends d.Command.classBuilder().ep({...k}).m(function(t,r,n,o){return[(0,M.getSerdePlugin)(n,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("TrentService","DisconnectCustomKeyStore",{}).n("KMSClient","DisconnectCustomKeyStoreCommand").f(void 0,void 0).ser(Tre).de(Ine).build(){};u(xM,"DisconnectCustomKeyStoreCommand");var RM=xM,bM=class extends d.Command.classBuilder().ep({...k}).m(function(t,r,n,o){return[(0,M.getSerdePlugin)(n,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("TrentService","EnableKey",{}).n("KMSClient","EnableKeyCommand").f(void 0,void 0).ser(Nre).de(One).build(){};u(bM,"EnableKeyCommand");var AM=bM,IM=class extends d.Command.classBuilder().ep({...k}).m(function(t,r,n,o){return[(0,M.getSerdePlugin)(n,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("TrentService","EnableKeyRotation",{}).n("KMSClient","EnableKeyRotationCommand").f(void 0,void 0).ser(Dre).de(Tne).build(){};u(IM,"EnableKeyRotationCommand");var OM=IM,TM=class extends d.Command.classBuilder().ep({...k}).m(function(t,r,n,o){return[(0,M.getSerdePlugin)(n,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("TrentService","Encrypt",{}).n("KMSClient","EncryptCommand").f(jk,void 0).ser(kre).de(Nne).build(){};u(TM,"EncryptCommand");var NM=TM,DM=class extends d.Command.classBuilder().ep({...k}).m(function(t,r,n,o){return[(0,M.getSerdePlugin)(n,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("TrentService","GenerateDataKey",{}).n("KMSClient","GenerateDataKeyCommand").f(void 0,Hk).ser(Mre).de(Dne).build(){};u(DM,"GenerateDataKeyCommand");var kM=DM,MM=class extends d.Command.classBuilder().ep({...k}).m(function(t,r,n,o){return[(0,M.getSerdePlugin)(n,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("TrentService","GenerateDataKeyPair",{}).n("KMSClient","GenerateDataKeyPairCommand").f(void 0,Gk).ser(Kre).de(kne).build(){};u(MM,"GenerateDataKeyPairCommand");var KM=MM,FM=class extends d.Command.classBuilder().ep({...k}).m(function(t,r,n,o){return[(0,M.getSerdePlugin)(n,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("TrentService","GenerateDataKeyPairWithoutPlaintext",{}).n("KMSClient","GenerateDataKeyPairWithoutPlaintextCommand").f(void 0,void 0).ser(Fre).de(Mne).build(){};u(FM,"GenerateDataKeyPairWithoutPlaintextCommand");var LM=FM,UM=class extends d.Command.classBuilder().ep({...k}).m(function(t,r,n,o){return[(0,M.getSerdePlugin)(n,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("TrentService","GenerateDataKeyWithoutPlaintext",{}).n("KMSClient","GenerateDataKeyWithoutPlaintextCommand").f(void 0,void 0).ser(Lre).de(Kne).build(){};u(UM,"GenerateDataKeyWithoutPlaintextCommand");var qM=UM,jM=class extends d.Command.classBuilder().ep({...k}).m(function(t,r,n,o){return[(0,M.getSerdePlugin)(n,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("TrentService","GenerateMac",{}).n("KMSClient","GenerateMacCommand").f($k,void 0).ser(Ure).de(Fne).build(){};u(jM,"GenerateMacCommand");var HM=jM,GM=class extends d.Command.classBuilder().ep({...k}).m(function(t,r,n,o){return[(0,M.getSerdePlugin)(n,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("TrentService","GenerateRandom",{}).n("KMSClient","GenerateRandomCommand").f(void 0,zk).ser(qre).de(Lne).build(){};u(GM,"GenerateRandomCommand");var $M=GM,zM=class extends d.Command.classBuilder().ep({...k}).m(function(t,r,n,o){return[(0,M.getSerdePlugin)(n,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("TrentService","GetKeyPolicy",{}).n("KMSClient","GetKeyPolicyCommand").f(void 0,void 0).ser(jre).de(Une).build(){};u(zM,"GetKeyPolicyCommand");var WM=zM,VM=class extends d.Command.classBuilder().ep({...k}).m(function(t,r,n,o){return[(0,M.getSerdePlugin)(n,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("TrentService","GetKeyRotationStatus",{}).n("KMSClient","GetKeyRotationStatusCommand").f(void 0,void 0).ser(Hre).de(qne).build(){};u(VM,"GetKeyRotationStatusCommand");var BM=VM,XM=class extends d.Command.classBuilder().ep({...k}).m(function(t,r,n,o){return[(0,M.getSerdePlugin)(n,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("TrentService","GetParametersForImport",{}).n("KMSClient","GetParametersForImportCommand").f(void 0,Wk).ser(Gre).de(jne).build(){};u(XM,"GetParametersForImportCommand");var JM=XM,YM=class extends d.Command.classBuilder().ep({...k}).m(function(t,r,n,o){return[(0,M.getSerdePlugin)(n,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("TrentService","GetPublicKey",{}).n("KMSClient","GetPublicKeyCommand").f(void 0,void 0).ser($re).de(Hne).build(){};u(YM,"GetPublicKeyCommand");var QM=YM,ZM=class extends d.Command.classBuilder().ep({...k}).m(function(t,r,n,o){return[(0,M.getSerdePlugin)(n,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("TrentService","ImportKeyMaterial",{}).n("KMSClient","ImportKeyMaterialCommand").f(void 0,void 0).ser(zre).de(Gne).build(){};u(ZM,"ImportKeyMaterialCommand");var eK=ZM,tK=class extends d.Command.classBuilder().ep({...k}).m(function(t,r,n,o){return[(0,M.getSerdePlugin)(n,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("TrentService","ListAliases",{}).n("KMSClient","ListAliasesCommand").f(void 0,void 0).ser(Wre).de($ne).build(){};u(tK,"ListAliasesCommand");var Pm=tK,rK=class extends d.Command.classBuilder().ep({...k}).m(function(t,r,n,o){return[(0,M.getSerdePlugin)(n,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("TrentService","ListGrants",{}).n("KMSClient","ListGrantsCommand").f(void 0,void 0).ser(Vre).de(zne).build(){};u(rK,"ListGrantsCommand");var wm=rK,nK=class extends d.Command.classBuilder().ep({...k}).m(function(t,r,n,o){return[(0,M.getSerdePlugin)(n,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("TrentService","ListKeyPolicies",{}).n("KMSClient","ListKeyPoliciesCommand").f(void 0,void 0).ser(Bre).de(Wne).build(){};u(nK,"ListKeyPoliciesCommand");var xm=nK,oK=class extends d.Command.classBuilder().ep({...k}).m(function(t,r,n,o){return[(0,M.getSerdePlugin)(n,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("TrentService","ListKeyRotations",{}).n("KMSClient","ListKeyRotationsCommand").f(void 0,void 0).ser(Xre).de(Vne).build(){};u(oK,"ListKeyRotationsCommand");var Rm=oK,iK=class extends d.Command.classBuilder().ep({...k}).m(function(t,r,n,o){return[(0,M.getSerdePlugin)(n,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("TrentService","ListKeys",{}).n("KMSClient","ListKeysCommand").f(void 0,void 0).ser(Jre).de(Bne).build(){};u(iK,"ListKeysCommand");var bm=iK,sK=class extends d.Command.classBuilder().ep({...k}).m(function(t,r,n,o){return[(0,M.getSerdePlugin)(n,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("TrentService","ListResourceTags",{}).n("KMSClient","ListResourceTagsCommand").f(void 0,void 0).ser(Yre).de(Xne).build(){};u(sK,"ListResourceTagsCommand");var Am=sK,aK=class extends d.Command.classBuilder().ep({...k}).m(function(t,r,n,o){return[(0,M.getSerdePlugin)(n,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("TrentService","ListRetirableGrants",{}).n("KMSClient","ListRetirableGrantsCommand").f(void 0,void 0).ser(Qre).de(Jne).build(){};u(aK,"ListRetirableGrantsCommand");var Im=aK,cK=class extends d.Command.classBuilder().ep({...k}).m(function(t,r,n,o){return[(0,M.getSerdePlugin)(n,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("TrentService","PutKeyPolicy",{}).n("KMSClient","PutKeyPolicyCommand").f(void 0,void 0).ser(Zre).de(Yne).build(){};u(cK,"PutKeyPolicyCommand");var dK=cK,lK=class extends d.Command.classBuilder().ep({...k}).m(function(t,r,n,o){return[(0,M.getSerdePlugin)(n,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("TrentService","ReEncrypt",{}).n("KMSClient","ReEncryptCommand").f(void 0,void 0).ser(ene).de(Qne).build(){};u(lK,"ReEncryptCommand");var uK=lK,pK=class extends d.Command.classBuilder().ep({...k}).m(function(t,r,n,o){return[(0,M.getSerdePlugin)(n,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("TrentService","ReplicateKey",{}).n("KMSClient","ReplicateKeyCommand").f(void 0,void 0).ser(tne).de(Zne).build(){};u(pK,"ReplicateKeyCommand");var mK=pK,fK=class extends d.Command.classBuilder().ep({...k}).m(function(t,r,n,o){return[(0,M.getSerdePlugin)(n,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("TrentService","RetireGrant",{}).n("KMSClient","RetireGrantCommand").f(void 0,void 0).ser(rne).de(eoe).build(){};u(fK,"RetireGrantCommand");var vK=fK,_K=class extends d.Command.classBuilder().ep({...k}).m(function(t,r,n,o){return[(0,M.getSerdePlugin)(n,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("TrentService","RevokeGrant",{}).n("KMSClient","RevokeGrantCommand").f(void 0,void 0).ser(nne).de(toe).build(){};u(_K,"RevokeGrantCommand");var gK=_K,yK=class extends d.Command.classBuilder().ep({...k}).m(function(t,r,n,o){return[(0,M.getSerdePlugin)(n,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("TrentService","RotateKeyOnDemand",{}).n("KMSClient","RotateKeyOnDemandCommand").f(void 0,void 0).ser(one).de(roe).build(){};u(yK,"RotateKeyOnDemandCommand");var hK=yK,SK=class extends d.Command.classBuilder().ep({...k}).m(function(t,r,n,o){return[(0,M.getSerdePlugin)(n,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("TrentService","ScheduleKeyDeletion",{}).n("KMSClient","ScheduleKeyDeletionCommand").f(void 0,void 0).ser(ine).de(noe).build(){};u(SK,"ScheduleKeyDeletionCommand");var EK=SK,CK=class extends d.Command.classBuilder().ep({...k}).m(function(t,r,n,o){return[(0,M.getSerdePlugin)(n,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("TrentService","Sign",{}).n("KMSClient","SignCommand").f(Vk,void 0).ser(sne).de(ooe).build(){};u(CK,"SignCommand");var PK=CK,wK=class extends d.Command.classBuilder().ep({...k}).m(function(t,r,n,o){return[(0,M.getSerdePlugin)(n,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("TrentService","TagResource",{}).n("KMSClient","TagResourceCommand").f(void 0,void 0).ser(ane).de(ioe).build(){};u(wK,"TagResourceCommand");var xK=wK,RK=class extends d.Command.classBuilder().ep({...k}).m(function(t,r,n,o){return[(0,M.getSerdePlugin)(n,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("TrentService","UntagResource",{}).n("KMSClient","UntagResourceCommand").f(void 0,void 0).ser(cne).de(soe).build(){};u(RK,"UntagResourceCommand");var bK=RK,AK=class extends d.Command.classBuilder().ep({...k}).m(function(t,r,n,o){return[(0,M.getSerdePlugin)(n,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("TrentService","UpdateAlias",{}).n("KMSClient","UpdateAliasCommand").f(void 0,void 0).ser(dne).de(aoe).build(){};u(AK,"UpdateAliasCommand");var IK=AK,OK=class extends d.Command.classBuilder().ep({...k}).m(function(t,r,n,o){return[(0,M.getSerdePlugin)(n,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("TrentService","UpdateCustomKeyStore",{}).n("KMSClient","UpdateCustomKeyStoreCommand").f(Bk,void 0).ser(lne).de(coe).build(){};u(OK,"UpdateCustomKeyStoreCommand");var TK=OK,NK=class extends d.Command.classBuilder().ep({...k}).m(function(t,r,n,o){return[(0,M.getSerdePlugin)(n,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("TrentService","UpdateKeyDescription",{}).n("KMSClient","UpdateKeyDescriptionCommand").f(void 0,void 0).ser(une).de(doe).build(){};u(NK,"UpdateKeyDescriptionCommand");var DK=NK,kK=class extends d.Command.classBuilder().ep({...k}).m(function(t,r,n,o){return[(0,M.getSerdePlugin)(n,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("TrentService","UpdatePrimaryRegion",{}).n("KMSClient","UpdatePrimaryRegionCommand").f(void 0,void 0).ser(pne).de(loe).build(){};u(kK,"UpdatePrimaryRegionCommand");var MK=kK,KK=class extends d.Command.classBuilder().ep({...k}).m(function(t,r,n,o){return[(0,M.getSerdePlugin)(n,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("TrentService","Verify",{}).n("KMSClient","VerifyCommand").f(Xk,void 0).ser(mne).de(uoe).build(){};u(KK,"VerifyCommand");var FK=KK,LK=class extends d.Command.classBuilder().ep({...k}).m(function(t,r,n,o){return[(0,M.getSerdePlugin)(n,this.serialize,this.deserialize),(0,N.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("TrentService","VerifyMac",{}).n("KMSClient","VerifyMacCommand").f(Jk,void 0).ser(fne).de(poe).build(){};u(LK,"VerifyMacCommand");var UK=LK,Vie={CancelKeyDeletionCommand:Zk,ConnectCustomKeyStoreCommand:tM,CreateAliasCommand:nM,CreateCustomKeyStoreCommand:iM,CreateGrantCommand:aM,CreateKeyCommand:dM,DecryptCommand:uM,DeleteAliasCommand:mM,DeleteCustomKeyStoreCommand:vM,DeleteImportedKeyMaterialCommand:gM,DescribeCustomKeyStoresCommand:Cm,DescribeKeyCommand:SM,DisableKeyCommand:CM,DisableKeyRotationCommand:wM,DisconnectCustomKeyStoreCommand:RM,EnableKeyCommand:AM,EnableKeyRotationCommand:OM,EncryptCommand:NM,GenerateDataKeyCommand:kM,GenerateDataKeyPairCommand:KM,GenerateDataKeyPairWithoutPlaintextCommand:LM,GenerateDataKeyWithoutPlaintextCommand:qM,GenerateMacCommand:HM,GenerateRandomCommand:$M,GetKeyPolicyCommand:WM,GetKeyRotationStatusCommand:BM,GetParametersForImportCommand:JM,GetPublicKeyCommand:QM,ImportKeyMaterialCommand:eK,ListAliasesCommand:Pm,ListGrantsCommand:wm,ListKeyPoliciesCommand:xm,ListKeyRotationsCommand:Rm,ListKeysCommand:bm,ListResourceTagsCommand:Am,ListRetirableGrantsCommand:Im,PutKeyPolicyCommand:dK,ReEncryptCommand:uK,ReplicateKeyCommand:mK,RetireGrantCommand:vK,RevokeGrantCommand:gK,RotateKeyOnDemandCommand:hK,ScheduleKeyDeletionCommand:EK,SignCommand:PK,TagResourceCommand:xK,UntagResourceCommand:bK,UpdateAliasCommand:IK,UpdateCustomKeyStoreCommand:TK,UpdateKeyDescriptionCommand:DK,UpdatePrimaryRegionCommand:MK,VerifyCommand:FK,VerifyMacCommand:UK},qK=class extends jt{};u(qK,"KMS");var jK=qK;(0,d.createAggregatedClient)(Vie,jK);var Bie=(0,Rt.createPaginator)(jt,Cm,"Marker","NextMarker","Limit"),Xie=(0,Rt.createPaginator)(jt,Pm,"Marker","NextMarker","Limit"),Jie=(0,Rt.createPaginator)(jt,wm,"Marker","NextMarker","Limit"),Yie=(0,Rt.createPaginator)(jt,xm,"Marker","NextMarker","Limit"),Qie=(0,Rt.createPaginator)(jt,Rm,"Marker","NextMarker","Limit"),Zie=(0,Rt.createPaginator)(jt,bm,"Marker","NextMarker","Limit"),ese=(0,Rt.createPaginator)(jt,Am,"Marker","NextMarker","Limit"),tse=(0,Rt.createPaginator)(jt,Im,"Marker","NextMarker","Limit")});var vse={};nd(vse,{handler:()=>fse});module.exports=bt(vse);var Km={200:"OK",400:"Bad Request",500:"Internal Server Error"},iF=(e,t)=>{if(t)return JSON.stringify({message:t});if(e in Km)return Km[e]},fn=({statusCode:e=200,message:t})=>{let r=iF(e,t);return{statusCode:e,headers:{"Access-Control-Allow-Origin":"*"},body:r}};var ho=Eo(GK()),WK=require("crypto");var{subtle:VK}=WK.webcrypto,rse="spki",nse="verify",ose=!0,ise={name:"RSA-PSS",hash:{name:"SHA-256"}},$K="RSASSA_PSS_SHA_256",sse={name:"RSA-PSS",saltLength:32},ase="JWT",Om,Tm={},BK=()=>(Om||(Om=new ho.KMSClient({})),Om),cse=async e=>{if(Tm[e])return Tm[e];let t=await BK().send(new ho.GetPublicKeyCommand({KeyId:e}));if(!t.PublicKey)throw new Error(`No public key found for key ID: ${e}`);let r=await VK.importKey(rse,Buffer.from(t.PublicKey),ise,ose,[nse]);if(!r)throw new Error(`Invalid key recieved for key ID: ${e}`);return Tm[e]=r,r},XK=async(e,t,r)=>{try{let{expiresIn:n,expiresAt:o}=r||{},i=Date.now()/1e3,s=JSON.stringify({alg:$K,typ:ase}),a=JSON.stringify({...e,iat:Math.floor(i),...n&&{exp:Math.floor(i+n)},...o&&{exp:Math.floor(o.getTime()/1e3)}}),c=Buffer.from(s).toString("base64url"),l=Buffer.from(a).toString("base64url"),p=Buffer.from(`${c}.${l}`);if(p.length>4096)throw new Error("Message must be less than 4096 bytes");let m=await BK().send(new ho.SignCommand({KeyId:t,Message:p,SigningAlgorithm:$K}));if(!m?.Signature)throw new Error("Result missing signature");let f=Buffer.from(m.Signature).toString("base64url");return`${c}.${l}.${f}`}catch(n){throw console.error("[KMS Utils] error signing",n),new Error(`Failed to sign the payload, ${n}`)}},Nm=async(e,t)=>{let r=e.split("."),n=cse(t);if(r.length!==3)return{isValid:!1,error:"Invalid token"};let[o,i,s]=r,a=Buffer.from(s,"base64url"),c=`${o}.${i}`;if(!await VK.verify(sse,await n,a,Buffer.from(c)))return{isValid:!1,error:"Invalid signature"};try{let p=JSON.parse(Buffer.from(i,"base64url").toString());if(p.exp){let m=new Date().getTime()/1e3;if(p.exp<m)return{isValid:!1,error:"Token expired",payload:p}}return{isValid:!0,payload:p}}catch(p){return console.error("[KMS Utils] error verifying",p),{isValid:!1,error:"Invalid payload"}}};var Dm=async({aliasName:e,expiresIn:t,userId:r,username:n})=>await XK({sub:r,iss:"chat",username:n},e,{expiresIn:t}),km=e=>{let[,t]=e.split(".");return JSON.parse(Buffer.from(t,"base64url").toString())},JK=(...e)=>{let t=e.map(km),[r]=t;return t.every(({sub:n})=>!!n&&n===r.sub)};var{kmsJwtAliasName:td,kmsRefreshJwtAliasName:rd}=process.env,dse=7*24*60*60,YK=async(e,t)=>{if(!td||!rd)throw new Error("Missing environment variables for kms aliases");let{isValid:r,error:n}=await Nm(e,td);if(!r&&n!=="Token expired")throw new Error(n);let{isValid:o}=await Nm(t,rd);if(!o)throw new Error("Refresh token invalid");if(!JK(e,t))throw new Error("Subjects do not match")},QK=async e=>{if(!td||!rd)throw new Error("Missing environment variables for kms aliases");let{sub:t,username:r}=km(e),n=await Dm({userId:t,username:r,expiresIn:60,aliasName:td}),o=await Dm({userId:t,username:r,expiresIn:dse,aliasName:rd});return{token:n,refreshToken:o}};var lse=fn({statusCode:401}),{kmsJwtAliasName:use,kmsRefreshJwtAliasName:pse}=process.env,mse=e=>{try{if(e.body)return JSON.parse(e.body)}catch(t){console.error("Failed to parse the tokens:",t)}return{}},fse=async e=>{if(console.log("Received request:",e),!use||!pse)return fn({statusCode:500});let{token:t,refreshToken:r}=mse(e);if(!t||!r)return fn({statusCode:400});try{await YK(t,r)}catch(n){return console.error("Verify Tokens Error:",n),lse}try{let{token:n,refreshToken:o}=await QK(t);return fn({message:JSON.stringify({token:n,refreshToken:o}),statusCode:200})}catch{return fn({statusCode:500})}};0&&(module.exports={handler});
//# sourceMappingURL=index.js.map
